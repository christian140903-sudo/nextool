<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Free HTML Email Template Builder — Drag & Drop | NexTool</title>
<meta name="description" content="Free HTML email template builder with visual editor. Add sections, customize colors and fonts, preview on desktop and mobile. Export email-safe inline CSS HTML.">
<meta name="keywords" content="email template builder, HTML email builder, email designer, responsive email, inline CSS email, free email tool, NexTool">
<meta property="og:title" content="Free HTML Email Template Builder | NexTool">
<meta property="og:description" content="Build responsive HTML email templates visually. Add sections, customize styles, preview live, export email-safe HTML. 100% free.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://nextool.app/free-tools/email-template-builder.html">
<meta property="og:image" content="https://nextool.app/assets/og-default.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<link rel="canonical" href="https://nextool.app/free-tools/email-template-builder.html">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Free HTML Email Template Builder | NexTool">
<meta name="twitter:description" content="Build responsive HTML email templates visually. Export email-safe inline CSS. Free online tool by NexTool.">
<meta name="robots" content="index, follow">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"SoftwareApplication","name":"NexTool HTML Email Template Builder","applicationCategory":"DesignApplication","operatingSystem":"Web","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"description":"Free online HTML email template builder with visual drag-and-drop editor, live preview, and email-safe inline CSS export."}
</script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#050508;--surface:#111118;--surface2:#1a1a24;--border:#2a2a3a;--text:#e4e4eb;--text2:#9494a8;--primary:#6366f1;--accent:#a855f7;--pink:#ec4899;--green:#22c55e;--red:#ef4444;--cyan:#22d3ee;--yellow:#eab308;--radius:12px;--glass:rgba(17,17,24,0.7)}
html{scroll-behavior:smooth}
body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);line-height:1.6;min-height:100vh;overflow-x:hidden}
/* NAV */
.nav{position:sticky;top:0;z-index:100;background:rgba(5,5,8,0.85);backdrop-filter:blur(20px);border-bottom:1px solid var(--border);padding:0 2rem;height:64px;display:flex;align-items:center;justify-content:space-between}
.nav-logo{font-size:1.4rem;font-weight:800;background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-decoration:none}
.nav-links{display:flex;align-items:center;gap:1.5rem}
.nav-links a{color:var(--text2);text-decoration:none;font-size:.875rem;font-weight:500;transition:color .2s}
.nav-links a:hover{color:var(--text)}
.nav-cta{background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff!important;padding:.5rem 1.2rem;border-radius:8px;font-weight:600;-webkit-text-fill-color:#fff!important}
.nav-cta:hover{opacity:.9}
.nav-toggle{display:none;background:none;border:none;color:var(--text);font-size:1.5rem;cursor:pointer}
/* HERO */
.hero{text-align:center;padding:3rem 1.5rem 2rem;max-width:700px;margin:0 auto}
.hero h1{font-size:2.2rem;font-weight:800;line-height:1.2;margin-bottom:.75rem}
.hero h1 span{background:linear-gradient(135deg,var(--primary),var(--accent),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hero p{color:var(--text2);font-size:1rem}
/* TOOL */
.tool-container{max-width:1400px;margin:0 auto;padding:0 1.5rem 3rem}
.toolbar{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1rem;align-items:center}
.toolbar button,.toolbar select{background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.45rem .9rem;border-radius:8px;font-size:.8rem;font-weight:500;cursor:pointer;transition:all .2s;font-family:inherit}
.toolbar button:hover{border-color:var(--primary);background:rgba(99,102,241,.12)}
.toolbar button.active{background:linear-gradient(135deg,var(--primary),var(--accent));border-color:transparent;color:#fff}
.toolbar select{appearance:none;padding-right:1.8rem;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%239494a8' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right .6rem center}
/* LAYOUT */
.builder-layout{display:grid;grid-template-columns:260px 1fr;gap:1rem;min-height:600px}
.sidebar{display:flex;flex-direction:column;gap:1rem}
.panel{background:var(--glass);backdrop-filter:blur(16px);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;display:flex;flex-direction:column}
.panel-header{padding:.6rem 1rem;border-bottom:1px solid var(--border);font-size:.8rem;font-weight:600;color:var(--text2);display:flex;justify-content:space-between;align-items:center;background:rgba(26,26,36,0.5)}
.panel-body{flex:1;padding:.75rem;overflow:auto}
/* SECTION BUTTONS */
.section-btn{display:flex;align-items:center;gap:.6rem;width:100%;padding:.55rem .75rem;background:var(--surface2);border:1px solid var(--border);border-radius:8px;color:var(--text);font-size:.8rem;font-weight:500;cursor:pointer;transition:all .2s;font-family:inherit;margin-bottom:.4rem;text-align:left}
.section-btn:hover{border-color:var(--primary);background:rgba(99,102,241,.12)}
.section-btn .ico{width:28px;height:28px;border-radius:6px;background:rgba(99,102,241,.12);display:flex;align-items:center;justify-content:center;font-size:14px;flex-shrink:0}
/* COLOR/FONT CONTROLS */
.ctrl-group{margin-bottom:.75rem}
.ctrl-group label{display:block;font-size:.75rem;font-weight:600;color:var(--text2);margin-bottom:.3rem}
.ctrl-row{display:flex;align-items:center;gap:.5rem}
.ctrl-row input[type="color"]{width:32px;height:32px;border:1px solid var(--border);border-radius:6px;background:var(--surface2);cursor:pointer;padding:2px}
.ctrl-row input[type="color"]::-webkit-color-swatch-wrapper{padding:0}
.ctrl-row input[type="color"]::-webkit-color-swatch{border:none;border-radius:4px}
.ctrl-row .color-hex{font-size:.75rem;color:var(--text2);font-family:'Courier New',monospace}
.ctrl-row select{flex:1;background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.35rem .5rem;border-radius:6px;font-size:.8rem;font-family:inherit;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%239494a8' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right .5rem center;padding-right:1.5rem}
/* PREVIEW PANEL */
.preview-wrap{position:relative}
.preview-frame{width:100%;background:#fff;border:none;border-radius:0 0 var(--radius) var(--radius);transition:max-width .3s;margin:0 auto;display:block}
.preview-frame.mobile-view{max-width:375px}
.preview-toggle{display:flex;gap:2px}
.preview-toggle button{background:var(--surface2);border:1px solid var(--border);color:var(--text2);padding:.3rem .6rem;font-size:.75rem;cursor:pointer;font-family:inherit;transition:all .2s}
.preview-toggle button:first-child{border-radius:6px 0 0 6px}
.preview-toggle button:last-child{border-radius:0 6px 6px 0}
.preview-toggle button.active{background:var(--primary);border-color:var(--primary);color:#fff}
/* SECTION LIST */
.section-list{min-height:100px}
.section-item{display:flex;align-items:center;gap:.5rem;padding:.5rem .6rem;background:var(--surface2);border:1px solid var(--border);border-radius:8px;margin-bottom:.35rem;font-size:.8rem;transition:all .2s;cursor:grab}
.section-item:hover{border-color:var(--primary)}
.section-item.dragging{opacity:.4}
.section-item .grip{color:var(--text2);font-size:12px;cursor:grab;flex-shrink:0;user-select:none}
.section-item .s-name{flex:1;font-weight:500}
.section-item .s-actions{display:flex;gap:2px}
.section-item .s-btn{background:none;border:none;color:var(--text2);cursor:pointer;padding:2px 4px;font-size:14px;border-radius:4px;transition:all .15s;line-height:1}
.section-item .s-btn:hover{color:var(--text);background:rgba(99,102,241,.15)}
.section-item .s-btn.del:hover{color:var(--red);background:rgba(239,68,68,.12)}
/* EDIT PANEL */
.edit-overlay{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.6);z-index:200;align-items:center;justify-content:center}
.edit-overlay.open{display:flex}
.edit-modal{background:var(--surface);border:1px solid var(--border);border-radius:16px;width:90%;max-width:500px;max-height:80vh;overflow:auto;padding:1.5rem}
.edit-modal h3{font-size:1rem;font-weight:700;margin-bottom:1rem}
.edit-field{margin-bottom:.75rem}
.edit-field label{display:block;font-size:.75rem;font-weight:600;color:var(--text2);margin-bottom:.25rem}
.edit-field input,.edit-field textarea,.edit-field select{width:100%;background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.5rem .7rem;border-radius:8px;font-size:.85rem;font-family:inherit;outline:none;transition:border-color .2s}
.edit-field input:focus,.edit-field textarea:focus{border-color:var(--primary)}
.edit-field textarea{min-height:80px;resize:vertical}
.edit-actions{display:flex;gap:.5rem;margin-top:1rem}
.btn-primary{background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;border:none;padding:.5rem 1.2rem;border-radius:8px;font-weight:600;cursor:pointer;font-size:.85rem;font-family:inherit}
.btn-secondary{background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.5rem 1.2rem;border-radius:8px;font-weight:500;cursor:pointer;font-size:.85rem;font-family:inherit}
.btn-secondary:hover{border-color:var(--primary)}
/* THEME PRESETS */
.theme-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:.4rem}
.theme-chip{padding:.4rem;border:1px solid var(--border);border-radius:8px;cursor:pointer;text-align:center;font-size:.7rem;font-weight:500;transition:all .2s}
.theme-chip:hover{border-color:var(--primary)}
.theme-chip.active{border-color:var(--primary);background:rgba(99,102,241,.12)}
.theme-swatch{height:24px;border-radius:4px;margin-bottom:.25rem;display:flex;overflow:hidden}
.theme-swatch span{flex:1}
/* CTA */
.cta-section{text-align:center;padding:4rem 1.5rem;max-width:700px;margin:0 auto}
.cta-section h2{font-size:1.8rem;font-weight:800;margin-bottom:.75rem}
.cta-section h2 span{background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.cta-section p{color:var(--text2);margin-bottom:1.5rem}
.cta-btn{display:inline-block;background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;padding:.75rem 2rem;border-radius:10px;font-weight:700;text-decoration:none;font-size:1rem;transition:transform .2s,box-shadow .2s}
.cta-btn:hover{transform:translateY(-2px);box-shadow:0 8px 30px rgba(99,102,241,.3)}
/* FOOTER */
.footer{border-top:1px solid var(--border);padding:3rem 2rem 2rem;max-width:1200px;margin:0 auto}
.footer-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;margin-bottom:2rem}
.footer-col h4{font-size:.85rem;font-weight:700;margin-bottom:.75rem;color:var(--text)}
.footer-col a{display:block;color:var(--text2);text-decoration:none;font-size:.8rem;margin-bottom:.4rem;transition:color .2s}
.footer-col a:hover{color:var(--primary)}
.footer-bottom{text-align:center;color:var(--text2);font-size:.75rem;padding-top:1.5rem;border-top:1px solid var(--border)}
/* FADE IN */
.fade-in{opacity:0;transform:translateY(20px);transition:opacity .6s,transform .6s}
.fade-in.visible{opacity:1;transform:translateY(0)}
/* TOAST */
.toast{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%) translateY(80px);background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.6rem 1.2rem;border-radius:10px;font-size:.85rem;font-weight:500;z-index:200;transition:transform .3s;pointer-events:none}
.toast.show{transform:translateX(-50%) translateY(0)}
/* RESPONSIVE */
@media(max-width:900px){
  .builder-layout{grid-template-columns:1fr}
  .sidebar{order:2}
}
@media(max-width:768px){
  .nav-links{display:none;position:absolute;top:64px;left:0;right:0;background:var(--bg);border-bottom:1px solid var(--border);flex-direction:column;padding:1rem 2rem;gap:1rem}
  .nav-links.open{display:flex}
  .nav-toggle{display:block}
  .hero h1{font-size:1.6rem}
  .footer-grid{grid-template-columns:1fr}
  .toolbar{gap:.35rem}
}
</style>
</head>
<body>

<nav class="nav">
  <a href="/" class="nav-logo">NexTool</a>
  <button class="nav-toggle" onclick="document.querySelector('.nav-links').classList.toggle('open')" aria-label="Menu">&#9776;</button>
  <div class="nav-links">
    <a href="/">Home</a>
    <a href="/free-tools/">Tools</a>
    <a href="/free-tools/">Free Tools</a>
    <a href="/blog/">Blog</a>
    <a href="/#contact" class="nav-cta">Get Pro — $29</a>
  </div>
</nav>

<section class="hero fade-in">
  <h1>Free <span>Email Template Builder</span></h1>
  <p class="tool-summary" style="color:#94a3b8;font-size:15px;line-height:1.6;margin-bottom:24px;max-width:700px;margin-left:auto;margin-right:auto;">Build responsive HTML email templates visually. Click to add sections like headers, heroes, text blocks, images, buttons, and footers. Customize colors and fonts, preview on desktop and mobile, then export email-safe HTML with inline CSS. No signup required.</p>
</section>

<div class="tool-container fade-in">
  <div class="toolbar">
    <button onclick="exportHTML()" title="Export HTML">Export HTML</button>
    <button onclick="copyHTML()" title="Copy to clipboard">Copy HTML</button>
    <button onclick="sendTestEmail()" title="Open in email client">Send Test</button>
    <button onclick="loadTemplate('newsletter')" title="Load newsletter template">Newsletter</button>
    <button onclick="loadTemplate('promo')" title="Load promo template">Promo</button>
    <button onclick="loadTemplate('transactional')" title="Load transactional template">Transactional</button>
    <button onclick="clearAll()" title="Start fresh">Clear</button>
  </div>

  <div class="builder-layout">
    <!-- Left Sidebar -->
    <div class="sidebar">
      <!-- Add Sections -->
      <div class="panel">
        <div class="panel-header"><span>Add Sections</span></div>
        <div class="panel-body">
          <button class="section-btn" onclick="addSection('header')"><span class="ico">H</span>Header / Logo</button>
          <button class="section-btn" onclick="addSection('hero')"><span class="ico">&#9733;</span>Hero Banner</button>
          <button class="section-btn" onclick="addSection('text')"><span class="ico">T</span>Text Block</button>
          <button class="section-btn" onclick="addSection('image')"><span class="ico">&#9634;</span>Image</button>
          <button class="section-btn" onclick="addSection('button')"><span class="ico">&#9654;</span>Button / CTA</button>
          <button class="section-btn" onclick="addSection('divider')"><span class="ico">&mdash;</span>Divider</button>
          <button class="section-btn" onclick="addSection('social')"><span class="ico">@</span>Social Links</button>
          <button class="section-btn" onclick="addSection('footer')"><span class="ico">&#9660;</span>Footer</button>
          <button class="section-btn" onclick="addSection('columns')"><span class="ico">||</span>Two Columns</button>
          <button class="section-btn" onclick="addSection('spacer')"><span class="ico">&#8597;</span>Spacer</button>
        </div>
      </div>

      <!-- Section Order -->
      <div class="panel">
        <div class="panel-header"><span>Section Order</span><span id="sectionCount">0</span></div>
        <div class="panel-body">
          <div class="section-list" id="sectionList"></div>
        </div>
      </div>

      <!-- Theme & Colors -->
      <div class="panel">
        <div class="panel-header"><span>Theme & Colors</span></div>
        <div class="panel-body">
          <div class="ctrl-group">
            <label>Email Theme</label>
            <div class="theme-grid" id="themeGrid">
              <div class="theme-chip active" data-theme="light" onclick="applyTheme('light')">
                <div class="theme-swatch"><span style="background:#ffffff"></span><span style="background:#f7f7f7"></span><span style="background:#333333"></span></div>Light
              </div>
              <div class="theme-chip" data-theme="dark" onclick="applyTheme('dark')">
                <div class="theme-swatch"><span style="background:#1a1a2e"></span><span style="background:#16213e"></span><span style="background:#e2e8f0"></span></div>Dark
              </div>
              <div class="theme-chip" data-theme="warm" onclick="applyTheme('warm')">
                <div class="theme-swatch"><span style="background:#fef7ed"></span><span style="background:#fdf2e6"></span><span style="background:#44403c"></span></div>Warm
              </div>
              <div class="theme-chip" data-theme="cool" onclick="applyTheme('cool')">
                <div class="theme-swatch"><span style="background:#f0f9ff"></span><span style="background:#e0f2fe"></span><span style="background:#1e3a5f"></span></div>Cool
              </div>
            </div>
          </div>
          <div class="ctrl-group">
            <label>Background</label>
            <div class="ctrl-row">
              <input type="color" id="bgColor" value="#ffffff" onchange="updateColors()">
              <span class="color-hex" id="bgHex">#ffffff</span>
            </div>
          </div>
          <div class="ctrl-group">
            <label>Content Background</label>
            <div class="ctrl-row">
              <input type="color" id="contentBgColor" value="#ffffff" onchange="updateColors()">
              <span class="color-hex" id="contentBgHex">#ffffff</span>
            </div>
          </div>
          <div class="ctrl-group">
            <label>Text Color</label>
            <div class="ctrl-row">
              <input type="color" id="textColor" value="#333333" onchange="updateColors()">
              <span class="color-hex" id="textHex">#333333</span>
            </div>
          </div>
          <div class="ctrl-group">
            <label>Accent Color</label>
            <div class="ctrl-row">
              <input type="color" id="accentColor" value="#6366f1" onchange="updateColors()">
              <span class="color-hex" id="accentHex">#6366f1</span>
            </div>
          </div>
          <div class="ctrl-group">
            <label>Font Family</label>
            <div class="ctrl-row">
              <select id="fontSelect" onchange="updateColors()">
                <option value="Arial, Helvetica, sans-serif">Arial</option>
                <option value="Georgia, 'Times New Roman', serif">Georgia</option>
                <option value="Verdana, Geneva, sans-serif">Verdana</option>
                <option value="Tahoma, Geneva, sans-serif">Tahoma</option>
                <option value="'Trebuchet MS', sans-serif">Trebuchet MS</option>
                <option value="'Courier New', monospace">Courier New</option>
              </select>
            </div>
          </div>
          <div class="ctrl-group">
            <label>Email Width (px)</label>
            <div class="ctrl-row">
              <select id="widthSelect" onchange="updateColors()">
                <option value="600" selected>600</option>
                <option value="640">640</option>
                <option value="700">700</option>
                <option value="560">560</option>
              </select>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Preview Panel -->
    <div class="panel preview-wrap">
      <div class="panel-header">
        <span>Live Preview</span>
        <div class="preview-toggle">
          <button class="active" id="desktopBtn" onclick="setPreviewMode('desktop')">Desktop</button>
          <button id="mobileBtn" onclick="setPreviewMode('mobile')">Mobile</button>
        </div>
      </div>
      <iframe id="previewFrame" class="preview-frame" style="min-height:600px;border:none;border-radius:0 0 12px 12px;"></iframe>
    </div>
  </div>
</div>

<!-- Edit Modal -->
<div class="edit-overlay" id="editOverlay">
  <div class="edit-modal" id="editModal">
    <h3 id="editTitle">Edit Section</h3>
    <div id="editFields"></div>
    <div class="edit-actions">
      <button class="btn-primary" onclick="saveEdit()">Save</button>
      <button class="btn-secondary" onclick="closeEdit()">Cancel</button>
    </div>
  </div>
</div>

<section class="cta-section fade-in">
  <h2>Need something <span>more powerful</span>?</h2>
  <p>Let us build it for you. Custom APIs, dashboards, automations &mdash; whatever you need.</p>
  <a href="/#contact" class="cta-btn">Start a Project &rarr;</a>
</section>

<!-- Cross Promo -->
<section style="max-width:900px;margin:40px auto;padding:0 24px;">
<div style="background:linear-gradient(135deg,rgba(99,102,241,0.1),rgba(168,85,247,0.08));border:1px solid rgba(99,102,241,0.15);border-radius:20px;padding:32px 28px;text-align:center;">
<div style="font-size:13px;color:#818cf8;font-weight:600;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;">Founding Member</div>
<h3 style="font-size:22px;font-weight:800;color:#fff;margin:0 0 8px;">Get NexTool Pro</h3>
<p style="color:#94a3b8;font-size:14px;margin:0 auto 20px;max-width:500px;">No banners, clean output, enhanced features on all 150+ tools. One-time payment.</p>
<div style="display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap;">
<a href="/pro.html" style="display:inline-block;padding:12px 28px;background:linear-gradient(135deg,#6366f1,#a855f7,#ec4899);color:#fff;border-radius:10px;font-weight:700;font-size:15px;text-decoration:none;">$29 — Get Pro</a>
<a href="/free-tools/" style="color:#94a3b8;font-size:14px;text-decoration:none;">Browse 150+ Free Tools &rarr;</a>
</div>
</div>
</section>


<!-- AUTO-LINKED by NexTool Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/box-shadow-generator.html" style="color:var(--primary);text-decoration:none">CSS Box Shadow Generator</a> · <a href="/free-tools/emoji-picker.html" style="color:var(--primary);text-decoration:none">Emoji Picker & Search</a> · <a href="/free-tools/favicon-generator.html" style="color:var(--primary);text-decoration:none">Favicon Generator</a></p>
</div>
<footer class="footer fade-in">
  <div class="footer-grid">
    <div class="footer-col">
      <h4>Products</h4>
      <a href="/free-tools/">150+ Free Tools</a>
<a href="/pro.html">NexTool Pro</a>
<a href="/workspace.html">Workspace</a>
    </div>
    <div class="footer-col">
      <h4>Explore</h4>
      <a href="/free-tools/">Free Tools</a><a href="/blog/">Blog</a><a href="/pro.html">FAQ</a><a href="/pro.html">Pro — $29</a>
    </div>
    <div class="footer-col">
      <h4>Ecosystem</h4>
      <a href="/">NexTool Home</a><a href="/#contact">Contact</a><a href="https://github.com/christian140903-sudo/nextool" target="_blank">GitHub</a>
    </div>
  </div>
  <div class="footer-bottom">&copy; 2026 NexTool. AI-powered tools for everyone.</div>
</footer>

<div class="toast" id="toast"></div>

<script>
/* ============ STATE ============ */
var sections = [];
var editingIdx = -1;
var colors = {bg:'#ffffff',contentBg:'#ffffff',text:'#333333',accent:'#6366f1'};
var emailFont = 'Arial, Helvetica, sans-serif';
var emailWidth = 600;

/* ============ SECTION DEFAULTS ============ */
var sectionDefaults = {
  header: {type:'header',label:'Header',logo:'Your Company',tagline:'',logoUrl:''},
  hero: {type:'hero',label:'Hero Banner',heading:'Welcome to Our Newsletter',subheading:'Stay updated with the latest news and updates.',bgImage:'',btnText:'Learn More',btnUrl:'#'},
  text: {type:'text',label:'Text Block',heading:'Section Title',body:'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation.'},
  image: {type:'image',label:'Image',src:'https://placehold.co/600x300/e2e8f0/64748b?text=Your+Image+Here',alt:'Image description',link:''},
  button: {type:'button',label:'Button / CTA',text:'Click Here',url:'#',align:'center'},
  divider: {type:'divider',label:'Divider',style:'solid',color:'#e2e8f0'},
  social: {type:'social',label:'Social Links',twitter:'#',facebook:'#',linkedin:'#',instagram:'#',website:'#'},
  footer: {type:'footer',label:'Footer',company:'Your Company Name',address:'123 Main St, City, State 12345',unsubscribe:'#',text:'You received this email because you signed up for our newsletter.'},
  columns: {type:'columns',label:'Two Columns',leftHeading:'Left Column',leftBody:'Content for the left column goes here.',rightHeading:'Right Column',rightBody:'Content for the right column goes here.'},
  spacer: {type:'spacer',label:'Spacer',height:'30'}
};

/* ============ THEMES ============ */
var themes = {
  light: {bg:'#f4f4f4',contentBg:'#ffffff',text:'#333333',accent:'#6366f1'},
  dark: {bg:'#1a1a2e',contentBg:'#16213e',text:'#e2e8f0',accent:'#818cf8'},
  warm: {bg:'#fef7ed',contentBg:'#ffffff',text:'#44403c',accent:'#ea580c'},
  cool: {bg:'#f0f9ff',contentBg:'#ffffff',text:'#1e3a5f',accent:'#0284c7'}
};

/* ============ ADD SECTION ============ */
function addSection(type) {
  var s = JSON.parse(JSON.stringify(sectionDefaults[type]));
  s.id = Date.now() + Math.random();
  sections.push(s);
  renderSectionList();
  renderPreview();
}

/* ============ RENDER SECTION LIST ============ */
function renderSectionList() {
  var list = document.getElementById('sectionList');
  document.getElementById('sectionCount').textContent = sections.length;
  if (sections.length === 0) {
    list.innerHTML = '<div style="text-align:center;padding:2rem 0;color:var(--text2);font-size:.8rem;">Click sections above to add them</div>';
    return;
  }
  var html = '';
  for (var i = 0; i < sections.length; i++) {
    html += '<div class="section-item" draggable="true" data-idx="'+i+'">';
    html += '<span class="grip">&#8942;&#8942;</span>';
    html += '<span class="s-name">' + esc(sections[i].label) + '</span>';
    html += '<span class="s-actions">';
    html += '<button class="s-btn" onclick="moveSection('+i+',-1)" title="Move up">&#9650;</button>';
    html += '<button class="s-btn" onclick="moveSection('+i+',1)" title="Move down">&#9660;</button>';
    html += '<button class="s-btn" onclick="editSection('+i+')" title="Edit">&#9998;</button>';
    html += '<button class="s-btn del" onclick="removeSection('+i+')" title="Delete">&#10005;</button>';
    html += '</span></div>';
  }
  list.innerHTML = html;
  initDrag();
}

/* ============ DRAG & DROP ============ */
function initDrag() {
  var items = document.querySelectorAll('.section-item');
  items.forEach(function(item) {
    item.addEventListener('dragstart', function(e) {
      e.dataTransfer.setData('text/plain', item.dataset.idx);
      item.classList.add('dragging');
    });
    item.addEventListener('dragend', function() { item.classList.remove('dragging'); });
    item.addEventListener('dragover', function(e) { e.preventDefault(); });
    item.addEventListener('drop', function(e) {
      e.preventDefault();
      var from = parseInt(e.dataTransfer.getData('text/plain'));
      var to = parseInt(item.dataset.idx);
      if (from !== to) {
        var el = sections.splice(from, 1)[0];
        sections.splice(to, 0, el);
        renderSectionList();
        renderPreview();
      }
    });
  });
}

/* ============ SECTION OPERATIONS ============ */
function moveSection(idx, dir) {
  var newIdx = idx + dir;
  if (newIdx < 0 || newIdx >= sections.length) return;
  var tmp = sections[idx];
  sections[idx] = sections[newIdx];
  sections[newIdx] = tmp;
  renderSectionList();
  renderPreview();
}

function removeSection(idx) {
  sections.splice(idx, 1);
  renderSectionList();
  renderPreview();
}

/* ============ EDIT SECTION ============ */
function editSection(idx) {
  editingIdx = idx;
  var s = sections[idx];
  var html = '';
  var skip = ['type','label','id'];

  var fieldLabels = {
    logo:'Logo / Company Name',tagline:'Tagline',logoUrl:'Logo Image URL',
    heading:'Heading',subheading:'Subheading',bgImage:'Background Image URL',
    btnText:'Button Text',btnUrl:'Button URL',body:'Body Text',
    src:'Image URL',alt:'Alt Text',link:'Link URL',
    text:'Button Text',url:'Button URL',align:'Alignment',
    style:'Line Style',color:'Line Color',
    twitter:'Twitter URL',facebook:'Facebook URL',linkedin:'LinkedIn URL',
    instagram:'Instagram URL',website:'Website URL',
    company:'Company Name',address:'Address',unsubscribe:'Unsubscribe URL',
    leftHeading:'Left Heading',leftBody:'Left Content',
    rightHeading:'Right Heading',rightBody:'Right Content',
    height:'Height (px)'
  };

  for (var key in s) {
    if (skip.indexOf(key) !== -1) continue;
    var label = fieldLabels[key] || key;
    var val = s[key] || '';
    if (key === 'body' || key === 'leftBody' || key === 'rightBody' || key === 'text' && s.type === 'footer') {
      html += '<div class="edit-field"><label>' + esc(label) + '</label><textarea data-key="'+key+'">'+esc(val)+'</textarea></div>';
    } else if (key === 'align') {
      html += '<div class="edit-field"><label>' + esc(label) + '</label><select data-key="'+key+'"><option value="left"'+(val==='left'?' selected':'')+'>Left</option><option value="center"'+(val==='center'?' selected':'')+'>Center</option><option value="right"'+(val==='right'?' selected':'')+'>Right</option></select></div>';
    } else if (key === 'style') {
      html += '<div class="edit-field"><label>' + esc(label) + '</label><select data-key="'+key+'"><option value="solid"'+(val==='solid'?' selected':'')+'>Solid</option><option value="dashed"'+(val==='dashed'?' selected':'')+'>Dashed</option><option value="dotted"'+(val==='dotted'?' selected':'')+'>Dotted</option></select></div>';
    } else if (key === 'color') {
      html += '<div class="edit-field"><label>' + esc(label) + '</label><input type="color" data-key="'+key+'" value="'+esc(val)+'"></div>';
    } else {
      html += '<div class="edit-field"><label>' + esc(label) + '</label><input type="text" data-key="'+key+'" value="'+esc(val)+'"></div>';
    }
  }

  document.getElementById('editTitle').textContent = 'Edit: ' + s.label;
  document.getElementById('editFields').innerHTML = html;
  document.getElementById('editOverlay').classList.add('open');
}

function saveEdit() {
  if (editingIdx < 0) return;
  var fields = document.querySelectorAll('#editFields [data-key]');
  fields.forEach(function(f) {
    sections[editingIdx][f.dataset.key] = f.value;
  });
  closeEdit();
  renderPreview();
}

function closeEdit() {
  editingIdx = -1;
  document.getElementById('editOverlay').classList.remove('open');
}

/* ============ COLORS & THEME ============ */
function updateColors() {
  colors.bg = document.getElementById('bgColor').value;
  colors.contentBg = document.getElementById('contentBgColor').value;
  colors.text = document.getElementById('textColor').value;
  colors.accent = document.getElementById('accentColor').value;
  emailFont = document.getElementById('fontSelect').value;
  emailWidth = parseInt(document.getElementById('widthSelect').value);
  document.getElementById('bgHex').textContent = colors.bg;
  document.getElementById('contentBgHex').textContent = colors.contentBg;
  document.getElementById('textHex').textContent = colors.text;
  document.getElementById('accentHex').textContent = colors.accent;
  // Deselect theme chips
  document.querySelectorAll('.theme-chip').forEach(function(c){c.classList.remove('active');});
  renderPreview();
}

function applyTheme(name) {
  var t = themes[name];
  colors = JSON.parse(JSON.stringify(t));
  document.getElementById('bgColor').value = t.bg;
  document.getElementById('contentBgColor').value = t.contentBg;
  document.getElementById('textColor').value = t.text;
  document.getElementById('accentColor').value = t.accent;
  document.getElementById('bgHex').textContent = t.bg;
  document.getElementById('contentBgHex').textContent = t.contentBg;
  document.getElementById('textHex').textContent = t.text;
  document.getElementById('accentHex').textContent = t.accent;
  document.querySelectorAll('.theme-chip').forEach(function(c){c.classList.remove('active');});
  document.querySelector('[data-theme="'+name+'"]').classList.add('active');
  renderPreview();
}

/* ============ PREVIEW ============ */
function setPreviewMode(mode) {
  var frame = document.getElementById('previewFrame');
  document.getElementById('desktopBtn').classList.toggle('active', mode === 'desktop');
  document.getElementById('mobileBtn').classList.toggle('active', mode === 'mobile');
  frame.classList.toggle('mobile-view', mode === 'mobile');
}

function renderPreview() {
  var html = generateEmailHTML();
  var frame = document.getElementById('previewFrame');
  var doc = frame.contentDocument || frame.contentWindow.document;
  doc.open();
  doc.write(html);
  doc.close();
  // Auto-resize frame
  setTimeout(function(){
    try {
      var h = doc.documentElement.scrollHeight;
      frame.style.height = Math.max(h + 20, 400) + 'px';
    } catch(e){}
  }, 100);
}

/* ============ GENERATE EMAIL HTML ============ */
function generateEmailHTML() {
  var w = emailWidth;
  var font = emailFont;
  var accentContrast = getContrastColor(colors.accent);

  var html = '<!DOCTYPE html>\n<html lang="en">\n<head>\n<meta charset="UTF-8">\n<meta name="viewport" content="width=device-width, initial-scale=1.0">\n<meta http-equiv="X-UA-Compatible" content="IE=edge">\n<title>Email</title>\n';
  html += '<!--[if mso]><noscript><xml><o:OfficeDocumentSettings><o:PixelsPerInch>96</o:PixelsPerInch></o:OfficeDocumentSettings></xml></noscript><![endif]-->\n';
  html += '<style>\n';
  html += 'body,table,td,a{-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}\n';
  html += 'table,td{mso-table-lspace:0pt;mso-table-rspace:0pt}\n';
  html += 'img{-ms-interpolation-mode:bicubic;border:0;height:auto;line-height:100%;outline:none;text-decoration:none}\n';
  html += 'body{margin:0;padding:0;width:100%!important;height:100%!important}\n';
  html += '@media only screen and (max-width:620px){\n';
  html += '  .email-container{width:100%!important;max-width:100%!important}\n';
  html += '  .fluid{max-width:100%!important;height:auto!important}\n';
  html += '  .stack-column{display:block!important;width:100%!important;max-width:100%!important}\n';
  html += '  .stack-column-center{text-align:center!important}\n';
  html += '  .center-on-narrow{text-align:center!important;display:block!important;margin-left:auto!important;margin-right:auto!important;float:none!important}\n';
  html += '  table.center-on-narrow{display:inline-block!important}\n';
  html += '}\n';
  html += '</style>\n</head>\n';
  html += '<body style="margin:0;padding:0;background-color:'+colors.bg+';font-family:'+font+';color:'+colors.text+';">\n';
  html += '<center style="width:100%;background-color:'+colors.bg+';text-align:left;">\n';
  html += '<div style="max-width:'+w+'px;margin:0 auto;" class="email-container">\n';
  html += '<!--[if mso]><table role="presentation" cellspacing="0" cellpadding="0" border="0" width="'+w+'" align="center"><tr><td><![endif]-->\n';

  for (var i = 0; i < sections.length; i++) {
    html += renderSection(sections[i], w, font);
  }

  html += '<!--[if mso]></td></tr></table><![endif]-->\n';
  html += '</div>\n</center>\n</body>\n</html>';
  return html;
}

function renderSection(s, w, font) {
  var h = '';
  switch(s.type) {
    case 'header':
      h += '<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="background-color:'+colors.contentBg+';">\n';
      h += '<tr><td style="padding:20px 30px;text-align:center;">\n';
      if (s.logoUrl) {
        h += '<img src="'+esc(s.logoUrl)+'" alt="'+esc(s.logo)+'" style="max-height:50px;border:0;" />\n';
      } else {
        h += '<h1 style="margin:0;font-family:'+font+';font-size:24px;font-weight:700;color:'+colors.accent+';line-height:1.2;">'+esc(s.logo)+'</h1>\n';
      }
      if (s.tagline) {
        h += '<p style="margin:5px 0 0;font-family:'+font+';font-size:13px;color:'+mixColor(colors.text,'#888888')+';line-height:1.4;">'+esc(s.tagline)+'</p>\n';
      }
      h += '</td></tr></table>\n';
      break;

    case 'hero':
      var heroBg = s.bgImage ? 'background-image:url('+esc(s.bgImage)+');background-size:cover;background-position:center;' : 'background-color:'+colors.accent+';';
      h += '<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">\n';
      h += '<tr><td style="'+heroBg+'padding:50px 30px;text-align:center;">\n';
      h += '<h1 style="margin:0 0 15px;font-family:'+font+';font-size:28px;font-weight:700;color:'+(s.bgImage?'#ffffff':getContrastColor(colors.accent))+';line-height:1.3;">'+esc(s.heading)+'</h1>\n';
      h += '<p style="margin:0 0 25px;font-family:'+font+';font-size:16px;color:'+(s.bgImage?'rgba(255,255,255,0.9)':adjustAlpha(getContrastColor(colors.accent)))+';line-height:1.5;">'+esc(s.subheading)+'</p>\n';
      if (s.btnText) {
        var heroBtnColor = s.bgImage ? '#ffffff' : getContrastColor(colors.accent);
        var heroBtnBg = s.bgImage ? 'rgba(255,255,255,0.2)' : (isLightColor(colors.accent) ? '#333333' : '#ffffff');
        var heroBtnTextC = s.bgImage ? '#ffffff' : (isLightColor(colors.accent) ? '#ffffff' : '#333333');
        h += '<table role="presentation" cellspacing="0" cellpadding="0" border="0" align="center"><tr>\n';
        h += '<td style="border-radius:6px;background:'+heroBtnBg+';">\n';
        h += '<a href="'+esc(s.btnUrl)+'" style="display:inline-block;padding:12px 30px;font-family:'+font+';font-size:15px;font-weight:600;color:'+heroBtnTextC+';text-decoration:none;border-radius:6px;">'+esc(s.btnText)+'</a>\n';
        h += '</td></tr></table>\n';
      }
      h += '</td></tr></table>\n';
      break;

    case 'text':
      h += '<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="background-color:'+colors.contentBg+';">\n';
      h += '<tr><td style="padding:30px;">\n';
      if (s.heading) {
        h += '<h2 style="margin:0 0 12px;font-family:'+font+';font-size:20px;font-weight:700;color:'+colors.text+';line-height:1.3;">'+esc(s.heading)+'</h2>\n';
      }
      h += '<p style="margin:0;font-family:'+font+';font-size:15px;color:'+colors.text+';line-height:1.7;">'+escNl(s.body)+'</p>\n';
      h += '</td></tr></table>\n';
      break;

    case 'image':
      h += '<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="background-color:'+colors.contentBg+';">\n';
      h += '<tr><td style="padding:0;text-align:center;">\n';
      if (s.link) h += '<a href="'+esc(s.link)+'" target="_blank">';
      h += '<img src="'+esc(s.src)+'" alt="'+esc(s.alt)+'" width="'+w+'" class="fluid" style="display:block;width:100%;max-width:'+w+'px;height:auto;border:0;" />';
      if (s.link) h += '</a>';
      h += '\n</td></tr></table>\n';
      break;

    case 'button':
      h += '<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="background-color:'+colors.contentBg+';">\n';
      h += '<tr><td style="padding:20px 30px;text-align:'+s.align+';">\n';
      h += '<table role="presentation" cellspacing="0" cellpadding="0" border="0"'+(s.align==='center'?' align="center"':'')+'><tr>\n';
      h += '<td style="border-radius:6px;background:'+colors.accent+';">\n';
      h += '<a href="'+esc(s.url)+'" style="display:inline-block;padding:13px 32px;font-family:'+font+';font-size:15px;font-weight:600;color:'+getContrastColor(colors.accent)+';text-decoration:none;border-radius:6px;">'+esc(s.text)+'</a>\n';
      h += '</td></tr></table>\n';
      h += '</td></tr></table>\n';
      break;

    case 'divider':
      h += '<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="background-color:'+colors.contentBg+';">\n';
      h += '<tr><td style="padding:15px 30px;">\n';
      h += '<hr style="border:none;border-top:1px '+s.style+' '+s.color+';margin:0;" />\n';
      h += '</td></tr></table>\n';
      break;

    case 'social':
      h += '<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="background-color:'+colors.contentBg+';">\n';
      h += '<tr><td style="padding:20px 30px;text-align:center;">\n';
      var links = [];
      if (s.twitter) links.push({name:'Twitter',url:s.twitter});
      if (s.facebook) links.push({name:'Facebook',url:s.facebook});
      if (s.linkedin) links.push({name:'LinkedIn',url:s.linkedin});
      if (s.instagram) links.push({name:'Instagram',url:s.instagram});
      if (s.website) links.push({name:'Website',url:s.website});
      for (var li = 0; li < links.length; li++) {
        if (li > 0) h += '&nbsp;&nbsp;|&nbsp;&nbsp;';
        h += '<a href="'+esc(links[li].url)+'" style="font-family:'+font+';font-size:13px;color:'+colors.accent+';text-decoration:none;font-weight:500;">'+links[li].name+'</a>';
      }
      h += '\n</td></tr></table>\n';
      break;

    case 'footer':
      h += '<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="background-color:'+colors.contentBg+';">\n';
      h += '<tr><td style="padding:30px;text-align:center;">\n';
      h += '<p style="margin:0 0 8px;font-family:'+font+';font-size:13px;font-weight:600;color:'+colors.text+';">'+esc(s.company)+'</p>\n';
      h += '<p style="margin:0 0 8px;font-family:'+font+';font-size:12px;color:'+mixColor(colors.text,'#888888')+';line-height:1.5;">'+esc(s.address)+'</p>\n';
      h += '<p style="margin:0 0 8px;font-family:'+font+';font-size:12px;color:'+mixColor(colors.text,'#888888')+';line-height:1.5;">'+esc(s.text)+'</p>\n';
      if (s.unsubscribe) {
        h += '<p style="margin:0;font-family:'+font+';font-size:12px;"><a href="'+esc(s.unsubscribe)+'" style="color:'+colors.accent+';text-decoration:underline;">Unsubscribe</a></p>\n';
      }
      h += '</td></tr></table>\n';
      break;

    case 'columns':
      h += '<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="background-color:'+colors.contentBg+';">\n';
      h += '<tr>\n';
      h += '<td class="stack-column" style="width:50%;padding:25px 15px 25px 30px;vertical-align:top;">\n';
      if (s.leftHeading) h += '<h3 style="margin:0 0 8px;font-family:'+font+';font-size:17px;font-weight:700;color:'+colors.text+';">'+esc(s.leftHeading)+'</h3>\n';
      h += '<p style="margin:0;font-family:'+font+';font-size:14px;color:'+colors.text+';line-height:1.6;">'+esc(s.leftBody)+'</p>\n';
      h += '</td>\n';
      h += '<td class="stack-column" style="width:50%;padding:25px 30px 25px 15px;vertical-align:top;">\n';
      if (s.rightHeading) h += '<h3 style="margin:0 0 8px;font-family:'+font+';font-size:17px;font-weight:700;color:'+colors.text+';">'+esc(s.rightHeading)+'</h3>\n';
      h += '<p style="margin:0;font-family:'+font+';font-size:14px;color:'+colors.text+';line-height:1.6;">'+esc(s.rightBody)+'</p>\n';
      h += '</td>\n';
      h += '</tr></table>\n';
      break;

    case 'spacer':
      var sh = parseInt(s.height) || 30;
      h += '<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="background-color:'+colors.contentBg+';">\n';
      h += '<tr><td style="height:'+sh+'px;font-size:1px;line-height:1px;">&nbsp;</td></tr></table>\n';
      break;
  }
  return h;
}

/* ============ COLOR HELPERS ============ */
function hexToRgb(hex) {
  hex = hex.replace('#','');
  if (hex.length === 3) hex = hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2];
  var r = parseInt(hex.substring(0,2),16);
  var g = parseInt(hex.substring(2,4),16);
  var b = parseInt(hex.substring(4,6),16);
  return {r:r,g:g,b:b};
}

function luminance(hex) {
  var rgb = hexToRgb(hex);
  return (0.299 * rgb.r + 0.587 * rgb.g + 0.114 * rgb.b) / 255;
}

function isLightColor(hex) {
  return luminance(hex) > 0.5;
}

function getContrastColor(hex) {
  return isLightColor(hex) ? '#333333' : '#ffffff';
}

function adjustAlpha(hex) {
  // Return a slightly transparent version for subtext
  return hex === '#ffffff' ? 'rgba(255,255,255,0.85)' : 'rgba(51,51,51,0.75)';
}

function mixColor(c1, c2) {
  var a = hexToRgb(c1), b = hexToRgb(c2);
  var r = Math.round((a.r + b.r) / 2);
  var g = Math.round((a.g + b.g) / 2);
  var bl = Math.round((a.b + b.b) / 2);
  return '#' + ((1<<24)+(r<<16)+(g<<8)+bl).toString(16).slice(1);
}

/* ============ UTILITIES ============ */
function esc(s) {
  if (!s) return '';
  var d = document.createElement('div');
  d.appendChild(document.createTextNode(s));
  return d.innerHTML;
}

function escNl(s) {
  return esc(s).replace(/\n/g, '<br />');
}

/* ============ EXPORT / COPY / SEND ============ */
function exportHTML() {
  if (sections.length === 0) { showToast('Add sections first'); return; }
  var html = generateEmailHTML();
  var blob = new Blob([html], {type:'text/html'});
  var a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = 'email-template.html';
  a.click();
  URL.revokeObjectURL(a.href);
  showToast('Downloaded email-template.html');
}

function copyHTML() {
  if (sections.length === 0) { showToast('Add sections first'); return; }
  var html = generateEmailHTML();
  navigator.clipboard.writeText(html).then(function(){
    showToast('HTML copied to clipboard');
  });
}

function sendTestEmail() {
  if (sections.length === 0) { showToast('Add sections first'); return; }
  var subject = encodeURIComponent('Email Template Preview');
  var body = encodeURIComponent('Open the attached HTML file in a browser to preview your email template. (Mailto links cannot send HTML email bodies directly - use the Export HTML button and paste the code into your email service provider.)');
  window.location.href = 'mailto:?subject=' + subject + '&body=' + body;
  showToast('Opening email client. Paste the exported HTML into your ESP.');
}

/* ============ TEMPLATES ============ */
function loadTemplate(name) {
  sections = [];
  switch(name) {
    case 'newsletter':
      addSection('header');
      addSection('hero');
      sections[sections.length-1].heading = 'Monthly Newsletter';
      sections[sections.length-1].subheading = 'Here is what happened this month.';
      addSection('text');
      sections[sections.length-1].heading = 'Featured Article';
      sections[sections.length-1].body = 'We are excited to share our latest insights with you. This month has been full of new developments and improvements that we think you will love.';
      addSection('image');
      addSection('text');
      sections[sections.length-1].heading = 'What is Coming Next';
      sections[sections.length-1].body = 'We have some exciting plans for next month including new features, community events, and exclusive content for our subscribers.';
      addSection('button');
      sections[sections.length-1].text = 'Read Full Article';
      addSection('divider');
      addSection('social');
      addSection('footer');
      break;
    case 'promo':
      addSection('header');
      addSection('hero');
      sections[sections.length-1].heading = 'Special Offer: 50% Off';
      sections[sections.length-1].subheading = 'Limited time only. Do not miss out on this incredible deal.';
      sections[sections.length-1].btnText = 'Shop Now';
      addSection('divider');
      addSection('columns');
      sections[sections.length-1].leftHeading = 'Premium Plan';
      sections[sections.length-1].leftBody = 'Get access to all features including priority support, unlimited usage, and exclusive content.';
      sections[sections.length-1].rightHeading = 'Enterprise Plan';
      sections[sections.length-1].rightBody = 'Custom solutions for your team with dedicated account manager and SLA guarantees.';
      addSection('button');
      sections[sections.length-1].text = 'Claim Your Discount';
      addSection('spacer');
      addSection('footer');
      break;
    case 'transactional':
      addSection('header');
      sections[sections.length-1].logo = 'Your App';
      sections[sections.length-1].tagline = 'Order Confirmation';
      addSection('text');
      sections[sections.length-1].heading = 'Thank you for your order!';
      sections[sections.length-1].body = 'Hi there,\n\nYour order #12345 has been confirmed and is being processed. You will receive a shipping notification once your items are on their way.\n\nOrder Total: $99.99\nEstimated Delivery: 3-5 business days';
      addSection('divider');
      addSection('button');
      sections[sections.length-1].text = 'Track Your Order';
      addSection('text');
      sections[sections.length-1].heading = '';
      sections[sections.length-1].body = 'If you have any questions about your order, please contact our support team. We are here to help!';
      addSection('divider');
      addSection('footer');
      sections[sections.length-1].text = 'This is a transactional email regarding your recent purchase.';
      break;
  }
  renderSectionList();
  renderPreview();
  showToast('Loaded ' + name + ' template');
}

function clearAll() {
  sections = [];
  renderSectionList();
  renderPreview();
  showToast('Cleared all sections');
}

/* ============ TOAST ============ */
function showToast(msg) {
  var t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(function(){ t.classList.remove('show'); }, 2000);
}

/* ============ INIT ============ */
renderSectionList();
renderPreview();

// Close edit modal on overlay click
document.getElementById('editOverlay').addEventListener('click', function(e) {
  if (e.target === this) closeEdit();
});

// Close on escape
document.addEventListener('keydown', function(e) {
  if (e.key === 'Escape') closeEdit();
});

/* IntersectionObserver fade-in */
var observer = new IntersectionObserver(function(entries){
  entries.forEach(function(entry){if(entry.isIntersecting){entry.target.classList.add('visible');observer.unobserve(entry.target);}});
},{threshold:0.1});
document.querySelectorAll('.fade-in').forEach(function(el){observer.observe(el);});
</script>
<script src="/js/analytics-lite.js" defer></script>
<script src="/js/revenue.js" defer></script>
<script src="/js/lead-capture.js" defer></script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What is an HTML email template builder?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "An HTML email template builder is a visual tool that lets you create responsive email templates using table-based HTML with inline CSS. NexTool's builder generates email-safe code compatible with all major email clients including Gmail, Outlook, and Apple Mail."
      }
    },
    {
      "@type": "Question",
      "name": "Why do emails need inline CSS?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Many email clients strip out external stylesheets and style tags. Inline CSS ensures your email looks consistent across Gmail, Outlook, Yahoo Mail, and other clients. NexTool's email builder automatically generates inline CSS for maximum compatibility."
      }
    },
    {
      "@type": "Question",
      "name": "Is this email builder free?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, NexTool's HTML Email Template Builder is 100% free. No signup, no download, no limits. Build unlimited email templates right in your browser with full export capability."
      }
    },
    {
      "@type": "Question",
      "name": "Can I preview my email on mobile?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, the builder includes a live preview with both desktop and mobile view toggles. You can see exactly how your email will look on different screen sizes before exporting."
      }
    }
  ]
}
</script>
</body>
</html>
