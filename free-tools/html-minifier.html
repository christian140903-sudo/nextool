<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HTML/CSS/JS Minifier — NexTool Free Tools</title>
<meta name="description" content="Minify HTML, CSS, and JavaScript code online. Remove comments, collapse whitespace, and reduce file size instantly.">
<meta property="og:title" content="HTML/CSS/JS Minifier — NexTool Free Tools">
<meta property="og:description" content="Minify HTML, CSS, and JavaScript code online. Remove comments, collapse whitespace, and reduce file size instantly.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://nextool.app/free-tools/html-minifier.html">
<meta property="og:image" content="https://nextool.app/assets/og-default.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta name="twitter:card" content="summary_large_image">
<link rel="canonical" href="https://nextool.app/free-tools/html-minifier.html">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --bg:#050508;
  --surface:#111118;
  --surface2:#1a1a24;
  --surface3:#222233;
  --border:#2a2a3a;
  --primary:#6366f1;
  --accent:#a855f7;
  --pink:#ec4899;
  --green:#22c55e;
  --text:#e2e8f0;
  --text2:#94a3b8;
  --radius:12px;
  --glow:0 0 20px rgba(99,102,241,.15);
}
body{
  font-family:'Inter',system-ui,sans-serif;
  background:var(--bg);
  color:var(--text);
  min-height:100vh;
  display:flex;
  flex-direction:column;
  line-height:1.6;
}
a{color:var(--primary);text-decoration:none;transition:color .2s}
a:hover{color:var(--accent)}

/* ===== NAV ===== */
nav{
  position:sticky;
  top:0;
  z-index:100;
  background:rgba(5,5,8,.85);
  backdrop-filter:blur(16px);
  border-bottom:1px solid var(--border);
  padding:0 2rem;
}
.nav-inner{
  max-width:1200px;
  margin:0 auto;
  display:flex;
  align-items:center;
  justify-content:space-between;
  height:64px;
}
.nav-brand{
  font-weight:800;
  font-size:1.25rem;
  background:linear-gradient(135deg,var(--primary),var(--accent));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
.nav-links{display:flex;gap:1.5rem;list-style:none}
.nav-links a{
  color:var(--text2);
  font-size:.9rem;
  font-weight:500;
  transition:color .2s;
}
.nav-links a:hover,
.nav-links a.active{color:var(--text)}
.nav-toggle{
  display:none;
  background:none;
  border:none;
  color:var(--text);
  font-size:1.5rem;
  cursor:pointer;
}

/* ===== HERO ===== */
.hero{
  text-align:center;
  padding:3rem 1.5rem 2rem;
}
.hero h1{
  font-size:2.5rem;
  font-weight:800;
  background:linear-gradient(135deg,var(--primary),var(--pink));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  margin-bottom:.5rem;
}
.hero p{
  color:var(--text2);
  font-size:1.1rem;
  max-width:600px;
  margin:0 auto;
}

/* ===== MAIN ===== */
main{
  flex:1;
  max-width:1200px;
  width:100%;
  margin:0 auto;
  padding:0 1.5rem 3rem;
}

/* Toolbar */
.toolbar{
  display:flex;
  flex-wrap:wrap;
  gap:.75rem;
  align-items:center;
  margin-bottom:1rem;
}
.mode-btns{
  display:flex;
  gap:0;
  border-radius:var(--radius);
  overflow:hidden;
  border:1px solid var(--border);
}
.mode-btn{
  padding:.55rem 1.25rem;
  background:var(--surface);
  color:var(--text2);
  border:none;
  font-family:inherit;
  font-size:.85rem;
  font-weight:600;
  cursor:pointer;
  transition:all .2s;
}
.mode-btn.active{
  background:var(--primary);
  color:#fff;
}
.mode-btn:hover:not(.active){
  background:var(--surface2);
}
.options{
  display:flex;
  flex-wrap:wrap;
  gap:.75rem;
  margin-left:auto;
}
.option-label{
  display:flex;
  align-items:center;
  gap:.4rem;
  font-size:.82rem;
  color:var(--text2);
  cursor:pointer;
  user-select:none;
}
.option-label input[type=checkbox]{
  accent-color:var(--primary);
  width:16px;
  height:16px;
}

/* Editors */
.editors{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:1rem;
  margin-bottom:1rem;
}
.editor-panel{
  display:flex;
  flex-direction:column;
  gap:.5rem;
}
.editor-panel label{
  font-size:.85rem;
  font-weight:600;
  color:var(--text2);
  text-transform:uppercase;
  letter-spacing:.05em;
  display:flex;
  align-items:center;
  justify-content:space-between;
}
.editor-panel label .char-count{
  font-size:.75rem;
  font-weight:500;
  color:var(--text2);
  opacity:.6;
  text-transform:none;
  letter-spacing:0;
}
.editor-panel textarea{
  width:100%;
  height:400px;
  background:var(--surface);
  border:1px solid var(--border);
  border-radius:var(--radius);
  color:var(--text);
  font-family:'Courier New',monospace;
  font-size:.85rem;
  padding:1rem;
  resize:vertical;
  outline:none;
  transition:border-color .2s;
  line-height:1.5;
  tab-size:2;
}
.editor-panel textarea:focus{
  border-color:var(--primary);
  box-shadow:var(--glow);
}
.editor-panel textarea::placeholder{
  color:var(--text2);
  opacity:.5;
}

/* Action Row */
.action-row{
  display:flex;
  flex-wrap:wrap;
  gap:.75rem;
  align-items:center;
}
.btn{
  padding:.65rem 1.5rem;
  border:none;
  border-radius:var(--radius);
  font-family:inherit;
  font-size:.9rem;
  font-weight:600;
  cursor:pointer;
  transition:all .25s;
  display:inline-flex;
  align-items:center;
  gap:.5rem;
}
.btn-primary{
  background:linear-gradient(135deg,var(--primary),var(--accent));
  color:#fff;
  box-shadow:0 4px 15px rgba(99,102,241,.3);
}
.btn-primary:hover{
  transform:translateY(-1px);
  box-shadow:0 6px 20px rgba(99,102,241,.4);
}
.btn-secondary{
  background:var(--surface2);
  color:var(--text);
  border:1px solid var(--border);
}
.btn-secondary:hover{
  border-color:var(--primary);
  background:var(--surface);
}

/* Stats Cards */
.stats{
  display:flex;
  gap:1rem;
  margin-left:auto;
  flex-wrap:wrap;
}
.stat{
  text-align:center;
  background:var(--surface);
  border:1px solid var(--border);
  border-radius:10px;
  padding:.5rem 1rem;
  min-width:90px;
  transition:border-color .3s;
}
.stat:hover{
  border-color:var(--primary);
}
.stat-value{
  font-size:1.15rem;
  font-weight:700;
  color:var(--primary);
  font-variant-numeric:tabular-nums;
}
.stat-label{
  font-size:.7rem;
  color:var(--text2);
  text-transform:uppercase;
  letter-spacing:.05em;
}
.stat-value.saved{
  color:var(--pink);
}

/* History */
.history-section{
  margin-top:2rem;
  border-top:1px solid var(--border);
  padding-top:1.5rem;
}
.history-title{
  font-size:.85rem;
  font-weight:700;
  color:var(--accent);
  text-transform:uppercase;
  letter-spacing:.06em;
  margin-bottom:.75rem;
  display:flex;
  align-items:center;
  justify-content:space-between;
}
.history-title button{
  font-size:.75rem;
  background:none;
  border:none;
  color:var(--text2);
  cursor:pointer;
  font-family:inherit;
  font-weight:600;
}
.history-title button:hover{
  color:var(--pink);
}
.history-list{
  display:flex;
  flex-direction:column;
  gap:.5rem;
}
.history-item{
  display:flex;
  align-items:center;
  gap:1rem;
  background:var(--surface);
  border:1px solid var(--border);
  border-radius:8px;
  padding:.6rem 1rem;
  font-size:.82rem;
  cursor:pointer;
  transition:border-color .2s;
}
.history-item:hover{
  border-color:var(--primary);
}
.history-item .hi-mode{
  background:var(--primary);
  color:#fff;
  padding:.15rem .5rem;
  border-radius:4px;
  font-weight:700;
  font-size:.7rem;
  text-transform:uppercase;
  min-width:40px;
  text-align:center;
}
.history-item .hi-stats{
  color:var(--text2);
  margin-left:auto;
  font-variant-numeric:tabular-nums;
}
.history-item .hi-saved{
  color:var(--pink);
  font-weight:700;
}
.no-history{
  color:var(--text2);
  font-size:.85rem;
  text-align:center;
  padding:1rem;
}

/* Toast */
.toast{
  position:fixed;
  bottom:2rem;
  right:2rem;
  background:var(--primary);
  color:#fff;
  padding:.75rem 1.5rem;
  border-radius:var(--radius);
  font-weight:600;
  font-size:.9rem;
  opacity:0;
  transform:translateY(10px);
  transition:all .3s;
  pointer-events:none;
  z-index:200;
}
.toast.show{
  opacity:1;
  transform:translateY(0);
}

/* Feature badges */
.features{
  display:flex;
  flex-wrap:wrap;
  gap:.5rem;
  justify-content:center;
  margin-top:1rem;
}
.feature-badge{
  display:inline-flex;
  align-items:center;
  gap:.35rem;
  font-size:.78rem;
  color:var(--text2);
  background:var(--surface);
  border:1px solid var(--border);
  border-radius:20px;
  padding:.3rem .75rem;
}
.feature-badge .dot{
  width:6px;
  height:6px;
  border-radius:50%;
  background:var(--green);
}

/* ===== FOOTER ===== */
footer{
  background:var(--surface);
  border-top:1px solid var(--border);
  padding:2rem 1.5rem;
  text-align:center;
  color:var(--text2);
  font-size:.85rem;
  margin-top:auto;
}

/* ===== RESPONSIVE ===== */
@media(max-width:768px){
  .nav-links{
    display:none;
    position:absolute;
    top:64px;
    left:0;
    right:0;
    flex-direction:column;
    background:rgba(5,5,8,.95);
    backdrop-filter:blur(16px);
    padding:1rem 2rem;
    border-bottom:1px solid var(--border);
    gap:.75rem;
  }
  .nav-links.open{display:flex}
  .nav-toggle{display:block}
  .hero h1{font-size:1.75rem}
  .editors{grid-template-columns:1fr}
  .editor-panel textarea{height:250px}
  .stats{margin-left:0;width:100%;justify-content:center}
  .options{margin-left:0}
  .action-row{justify-content:center}
}
</style>
</head>
<body>

<nav>
  <div class="nav-inner">
    <a href="/" class="nav-brand">NexTool</a>
    <button class="nav-toggle" onclick="document.querySelector('.nav-links').classList.toggle('open')" aria-label="Toggle menu">&#9776;</button>
    <ul class="nav-links">
      <li><a href="/">Home</a></li>
      <li><a href="/free-tools/" class="active">Free Tools</a></li>
      <li><a href="/free-tools/">Tools</a></li>
      <li><a href="/pro.html">Pro</a></li>
      <li><a href="/blog/">Blog</a></li>
      <li><a href="/pro.html">Pro — $29</a></li>
    </ul>
  </div>
</nav>

<section class="hero">
  <h1>HTML / CSS / JS Minifier</h1>
  <p>Paste your code, minify it instantly, and see exactly how much space you saved. No data leaves your browser.</p>
  <div class="features">
    <span class="feature-badge"><span class="dot"></span> 100% Client-side</span>
    <span class="feature-badge"><span class="dot"></span> HTML / CSS / JS</span>
    <span class="feature-badge"><span class="dot"></span> Configurable Options</span>
    <span class="feature-badge"><span class="dot"></span> Minification History</span>
  </div>
</section>

<main>
  <div class="toolbar">
    <div class="mode-btns">
      <button class="mode-btn active" data-mode="html" onclick="setMode('html')">HTML</button>
      <button class="mode-btn" data-mode="css" onclick="setMode('css')">CSS</button>
      <button class="mode-btn" data-mode="js" onclick="setMode('js')">JavaScript</button>
    </div>
    <div class="options">
      <label class="option-label"><input type="checkbox" id="optComments" checked> Remove comments</label>
      <label class="option-label"><input type="checkbox" id="optWhitespace" checked> Collapse whitespace</label>
      <label class="option-label"><input type="checkbox" id="optNewlines" checked> Remove newlines</label>
      <label class="option-label"><input type="checkbox" id="optQuotes"> Remove attr quotes</label>
    </div>
  </div>

  <div class="editors">
    <div class="editor-panel">
      <label>
        Input
        <span class="char-count" id="inputCount">0 chars</span>
      </label>
      <textarea id="inputCode" placeholder="Paste your HTML, CSS, or JavaScript here..." spellcheck="false" oninput="updateInputCount()"></textarea>
    </div>
    <div class="editor-panel">
      <label>
        Minified Output
        <span class="char-count" id="outputCount">0 chars</span>
      </label>
      <textarea id="outputCode" readonly placeholder="Minified code will appear here..." spellcheck="false"></textarea>
    </div>
  </div>

  <div class="action-row">
    <button class="btn btn-primary" onclick="minify()">&#9889; Minify</button>
    <button class="btn btn-secondary" onclick="copyOutput()">&#128203; Copy Output</button>
    <button class="btn btn-secondary" onclick="clearAll()">&#10006; Clear</button>
    <button class="btn btn-secondary" onclick="loadSample()">&#128196; Load Sample</button>
    <button class="btn btn-secondary" onclick="swapPanels()">&#8644; Swap</button>
    <div class="stats" id="stats" style="display:none">
      <div class="stat">
        <div class="stat-value" id="origSize">0</div>
        <div class="stat-label">Original</div>
      </div>
      <div class="stat">
        <div class="stat-value" id="minSize">0</div>
        <div class="stat-label">Minified</div>
      </div>
      <div class="stat">
        <div class="stat-value saved" id="savedPct">0%</div>
        <div class="stat-label">Saved</div>
      </div>
      <div class="stat">
        <div class="stat-value" id="lineCount">0</div>
        <div class="stat-label">Lines Removed</div>
      </div>
    </div>
  </div>

  <!-- Minification History -->
  <div class="history-section">
    <div class="history-title">
      <span>Minification History</span>
      <button onclick="clearHistory()">Clear History</button>
    </div>
    <div class="history-list" id="historyList">
      <div class="no-history">No minifications yet. Paste some code and hit Minify.</div>
    </div>
  </div>
</main>

<div class="toast" id="toast"></div>

<!-- Cross Promo -->n<section style="max-width:900px;margin:40px auto;padding:0 24px;">n<div style="background:linear-gradient(135deg,rgba(99,102,241,0.1),rgba(168,85,247,0.08));border:1px solid rgba(99,102,241,0.15);border-radius:20px;padding:32px 28px;text-align:center;">n<div style="font-size:13px;color:#818cf8;font-weight:600;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;">Founding Member</div>n<h3 style="font-size:22px;font-weight:800;color:#fff;margin:0 0 8px;">Get NexTool Pro</h3>n<p style="color:#94a3b8;font-size:14px;margin:0 auto 20px;max-width:500px;">No banners, clean output, enhanced features on all 220+ tools. One-time payment.</p>n<div style="display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap;">n<a href="/pro.html" style="display:inline-block;padding:12px 28px;background:linear-gradient(135deg,#6366f1,#a855f7,#ec4899);color:#fff;border-radius:10px;font-weight:700;font-size:15px;text-decoration:none;transition:transform 0.2s;" onmouseenter="this.style.transform='translateY(-2px)'" onmouseleave="this.style.transform='translateY(0)'">$29 — Get Pro</a>n<a href="/free-tools/" style="color:#94a3b8;font-size:14px;text-decoration:none;transition:color 0.2s;" onmouseenter="this.style.color='#e2e8f0'" onmouseleave="this.style.color='#94a3b8'">Browse 220+ Free Tools →</a>n</div>n</div>n</section>

<!-- AUTO-LINKED by NexTool Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/box-shadow-generator.html" style="color:var(--primary);text-decoration:none">CSS Box Shadow Generator</a> · <a href="/free-tools/emoji-picker.html" style="color:var(--primary);text-decoration:none">Emoji Picker & Search</a> · <a href="/free-tools/meta-tag-generator.html" style="color:var(--primary);text-decoration:none">Meta Tag Generator</a> · <a href="/free-tools/color-palette.html" style="color:var(--primary);text-decoration:none">Free Color Palette Generator</a> · <a href="/free-tools/favicon-generator.html" style="color:var(--primary);text-decoration:none">Favicon Generator</a></p>
</div>

<!-- AUTO-LINKED by NexTool Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/icon-generator.html" style="color:var(--primary);text-decoration:none">Free Icon Generator</a> · <a href="/free-tools/git-diff-viewer.html" style="color:var(--primary);text-decoration:none">Free Git Diff Viewer</a> · <a href="/free-tools/http-status-codes.html" style="color:var(--primary);text-decoration:none">HTTP Status Code Reference</a></p>
</div>
<footer>&copy; 2026 NexTool. All rights reserved.</footer>

<script>
let currentMode = 'html';
let history = [];

function setMode(mode) {
  currentMode = mode;
  document.querySelectorAll('.mode-btn').forEach(b =>
    b.classList.toggle('active', b.dataset.mode === mode)
  );
  const placeholders = {
    html: 'Paste your HTML here...',
    css: 'Paste your CSS here...',
    js: 'Paste your JavaScript here...',
  };
  document.getElementById('inputCode').placeholder = placeholders[mode];
}

function updateInputCount() {
  const val = document.getElementById('inputCode').value;
  document.getElementById('inputCount').textContent = val.length.toLocaleString() + ' chars';
}

/* ===== MINIFIERS ===== */

function minifyHTML(code, opts) {
  let out = code;

  // Remove HTML comments (but keep conditional comments)
  if (opts.comments) {
    out = out.replace(/<!--(?!\[if)[\s\S]*?-->/g, '');
  }

  // Collapse whitespace between tags
  if (opts.whitespace) {
    out = out.replace(/\s{2,}/g, ' ');
    out = out.replace(/>\s+</g, '><');
    out = out.replace(/\s+>/g, '>');
  }

  // Remove newlines
  if (opts.newlines) {
    out = out.replace(/[\r\n]+/g, '');
  }

  // Remove optional attribute quotes for simple values
  if (opts.quotes) {
    out = out.replace(/=\s*"([a-zA-Z0-9_\-]+)"/g, '=$1');
    out = out.replace(/=\s*'([a-zA-Z0-9_\-]+)'/g, '=$1');
  }

  // Collapse spaces around equals in attributes
  out = out.replace(/\s*=\s*/g, '=');

  // Remove type="text/javascript" and type="text/css"
  out = out.replace(/\s*type\s*=\s*["']text\/javascript["']/gi, '');
  out = out.replace(/\s*type\s*=\s*["']text\/css["']/gi, '');

  out = out.trim();
  return out;
}

function minifyCSS(code, opts) {
  let out = code;

  // Remove CSS comments
  if (opts.comments) {
    out = out.replace(/\/\*[\s\S]*?\*\//g, '');
  }

  if (opts.whitespace) {
    // Remove whitespace around structural characters
    out = out.replace(/\s*{\s*/g, '{');
    out = out.replace(/\s*}\s*/g, '}');
    out = out.replace(/\s*:\s*/g, ':');
    out = out.replace(/\s*;\s*/g, ';');
    out = out.replace(/\s*,\s*/g, ',');
    // Remove trailing semicolons before closing brace
    out = out.replace(/;}/g, '}');
    // Collapse multiple whitespace
    out = out.replace(/\s{2,}/g, ' ');
  }

  // Shorten color values where possible
  out = out.replace(/#([0-9a-fA-F])\1([0-9a-fA-F])\2([0-9a-fA-F])\3/g, '#$1$2$3');

  // Remove units from zero values
  out = out.replace(/([:,\s])0(px|em|rem|%|pt|ex|ch|vw|vh)/g, '$10');

  // Remove newlines
  if (opts.newlines) {
    out = out.replace(/[\r\n]+/g, '');
  }

  out = out.trim();
  return out;
}

function minifyJS(code, opts) {
  let out = code;

  // Remove block comments
  if (opts.comments) {
    out = out.replace(/\/\*[\s\S]*?\*\//g, '');

    // Remove single-line comments (careful with strings and regex)
    let lines = out.split('\n');
    lines = lines.map(line => {
      let inStr = false;
      let strChar = '';
      let result = '';
      let i = 0;
      while (i < line.length) {
        const ch = line[i];
        if (inStr) {
          result += ch;
          if (ch === strChar && line[i - 1] !== '\\') {
            inStr = false;
          }
        } else {
          if (ch === '"' || ch === "'" || ch === '`') {
            inStr = true;
            strChar = ch;
            result += ch;
          } else if (ch === '/' && line[i + 1] === '/') {
            break; // rest of line is comment
          } else {
            result += ch;
          }
        }
        i++;
      }
      return result;
    });
    out = lines.join('\n');
  }

  if (opts.whitespace) {
    // Remove leading/trailing whitespace per line
    out = out.replace(/^[ \t]+/gm, '');
    out = out.replace(/[ \t]+$/gm, '');
    // Collapse multiple spaces/tabs into one
    out = out.replace(/[ \t]{2,}/g, ' ');
  }

  if (opts.newlines) {
    // Remove empty lines
    out = out.replace(/\n{2,}/g, '\n');
    // Join lines with semicolons where safe
    out = out.replace(/\n/g, ';');
    // Clean up double semicolons
    out = out.replace(/;{2,}/g, ';');
    // Clean up semicolons next to braces
    out = out.replace(/;}/g, '}');
    out = out.replace(/{;/g, '{');
    out = out.replace(/^;|;$/g, '');
  }

  out = out.trim();
  return out;
}

/* ===== MAIN ACTIONS ===== */

function minify() {
  const input = document.getElementById('inputCode').value;
  if (!input.trim()) {
    showToast('Paste some code first!');
    return;
  }

  const opts = {
    comments: document.getElementById('optComments').checked,
    whitespace: document.getElementById('optWhitespace').checked,
    newlines: document.getElementById('optNewlines').checked,
    quotes: document.getElementById('optQuotes').checked,
  };

  let output;
  if (currentMode === 'html') output = minifyHTML(input, opts);
  else if (currentMode === 'css') output = minifyCSS(input, opts);
  else output = minifyJS(input, opts);

  document.getElementById('outputCode').value = output;
  document.getElementById('outputCount').textContent = output.length.toLocaleString() + ' chars';

  // Calculate stats
  const origBytes = new Blob([input]).size;
  const minBytes = new Blob([output]).size;
  const saved = origBytes > 0 ? Math.round((1 - minBytes / origBytes) * 100) : 0;
  const origLines = input.split('\n').length;
  const minLines = output.split('\n').length;
  const linesRemoved = origLines - minLines;

  document.getElementById('origSize').textContent = formatBytes(origBytes);
  document.getElementById('minSize').textContent = formatBytes(minBytes);
  document.getElementById('savedPct').textContent = saved + '%';
  document.getElementById('lineCount').textContent = linesRemoved;
  document.getElementById('stats').style.display = 'flex';

  // Add to history
  addToHistory(currentMode, origBytes, minBytes, saved);
  showToast('Minified! ' + saved + '% saved');
}

function formatBytes(b) {
  if (b < 1024) return b + ' B';
  if (b < 1048576) return (b / 1024).toFixed(1) + ' KB';
  return (b / 1048576).toFixed(2) + ' MB';
}

function copyOutput() {
  const out = document.getElementById('outputCode').value;
  if (!out) {
    showToast('Nothing to copy!');
    return;
  }
  navigator.clipboard.writeText(out).then(() => showToast('Copied to clipboard!'));
}

function clearAll() {
  document.getElementById('inputCode').value = '';
  document.getElementById('outputCode').value = '';
  document.getElementById('stats').style.display = 'none';
  document.getElementById('inputCount').textContent = '0 chars';
  document.getElementById('outputCount').textContent = '0 chars';
}

function swapPanels() {
  const inputEl = document.getElementById('inputCode');
  const outputEl = document.getElementById('outputCode');
  const temp = outputEl.value;
  if (!temp) {
    showToast('Output is empty, nothing to swap!');
    return;
  }
  inputEl.value = temp;
  outputEl.value = '';
  updateInputCount();
  document.getElementById('outputCount').textContent = '0 chars';
  document.getElementById('stats').style.display = 'none';
  showToast('Swapped! You can re-minify.');
}

function loadSample() {
  const samples = {
    html: `<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Main page title -->
  <title>My Website</title>
  <style type="text/css">
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      background-color: #ffffff;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    /* Navigation styles */
    .nav {
      display: flex;
      gap: 1rem;
      padding: 1rem 0;
    }
    .nav a {
      color: #333333;
      text-decoration: none;
    }
  </style>
</head>
<body>
  <!-- Header section -->
  <header class="container">
    <h1>  Welcome  to  My  Website  </h1>
    <nav class="nav">
      <a href="/">Home</a>
      <a href="/#about-story">About</a>
      <a href="/#contact">Contact</a>
    </nav>
  </header>

  <!-- Main content area -->
  <main class="container">
    <section>
      <h2>Latest Articles</h2>
      <p>This is a sample HTML page with extra whitespace, comments, and redundant attributes that can be minified.</p>
      <!-- TODO: Add article cards here -->
    </section>
  </main>

  <!-- Footer -->
  <footer class="container">
    <p>&copy; 2026 My Website.  All rights reserved.</p>
  </footer>

  <script type="text/javascript">
    // Initialize the page
    console.log("Page loaded");
  <\/script>
</body>
</html>`,
    css: `/* ===================
   Global Reset
   =================== */

*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

/* Body styles */
body {
  font-family: 'Inter', sans-serif;
  background-color: #050508;
  color: #e2e8f0;
  line-height: 1.6;
}

/* Container */
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 1.5rem;
}

/* ==================
   Button Component
   ================== */

.btn {
  display: inline-flex;
  align-items: center;
  padding: 0.65rem 1.5rem;
  border: none;
  border-radius: 12px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.25s ease;
  background-color: #6366f1;
  color: #ffffff;
}

.btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
}

.btn--secondary {
  background-color: #1a1a24;
  color: #e2e8f0;
  border: 1px solid #2a2a3a;
}

/* Card Component */
.card {
  background-color: #111118;
  border: 1px solid #2a2a3a;
  border-radius: 12px;
  padding: 1.5rem;
  transition: border-color 0.2s ease;
}

.card:hover {
  border-color: #6366f1;
}`,
    js: `// Main application module
// Author: NexTool Dev Team
// Version: 2.0.0

const app = {
  // Application state
  state: {
    isLoading: false,
    currentPage: 'home',
    data: [],
    filters: {}
  },

  // Initialize the application
  init: function() {
    console.log("App initialized");
    this.bindEvents();
    this.loadData();
    this.setupRouter();
  },

  // Bind DOM events
  bindEvents: function() {
    const buttons = document.querySelectorAll('.btn');
    buttons.forEach(function(btn) {
      btn.addEventListener('click', function(e) {
        // Handle button click
        console.log("Button clicked:", e.target);
        app.handleAction(e.target.dataset.action);
      });
    });

    // Handle form submissions
    const forms = document.querySelectorAll('form');
    forms.forEach(function(form) {
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        /* Collect form data */
        const formData = new FormData(e.target);
        app.submitForm(formData);
      });
    });
  },

  // Load data from API
  loadData: async function() {
    this.state.isLoading = true;
    try {
      const response = await fetch('/api/data');
      const data = await response.json();
      // Process the data
      this.state.data = data;
      this.render(data);
    } catch (error) {
      console.error("Failed to load:", error);
      this.showError("Failed to load data");
    } finally {
      this.state.isLoading = false;
    }
  },

  // Handle user actions
  handleAction: function(action) {
    switch (action) {
      case 'save':
        this.save();
        break;
      case 'delete':
        this.delete();
        break;
      case 'refresh':
        this.loadData();
        break;
      default:
        console.log("Unknown action:", action);
    }
  },

  // Setup client-side router
  setupRouter: function() {
    window.addEventListener('popstate', function(e) {
      // Handle back/forward navigation
      app.navigate(window.location.pathname);
    });
  }
};

// Start the application when DOM is ready
document.addEventListener('DOMContentLoaded', function() {
  app.init();
});`
  };

  document.getElementById('inputCode').value = samples[currentMode];
  updateInputCount();
  showToast('Sample ' + currentMode.toUpperCase() + ' loaded!');
}

/* ===== HISTORY ===== */

function addToHistory(mode, origBytes, minBytes, savedPct) {
  const entry = {
    mode: mode.toUpperCase(),
    original: formatBytes(origBytes),
    minified: formatBytes(minBytes),
    saved: savedPct + '%',
    time: new Date().toLocaleTimeString(),
  };
  history.unshift(entry);
  if (history.length > 10) history.pop();
  renderHistory();
}

function renderHistory() {
  const container = document.getElementById('historyList');
  if (history.length === 0) {
    container.innerHTML = '<div class="no-history">No minifications yet. Paste some code and hit Minify.</div>';
    return;
  }
  container.innerHTML = history.map(h => `
    <div class="history-item">
      <span class="hi-mode">${h.mode}</span>
      <span>${h.time}</span>
      <span class="hi-stats">${h.original} &rarr; ${h.minified}</span>
      <span class="hi-saved">${h.saved}</span>
    </div>
  `).join('');
}

function clearHistory() {
  history = [];
  renderHistory();
  showToast('History cleared');
}

/* ===== TOAST ===== */

function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2200);
}

/* ===== KEYBOARD SHORTCUTS ===== */

document.addEventListener('keydown', function(e) {
  // Ctrl/Cmd + Enter to minify
  if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
    e.preventDefault();
    minify();
  }
  // Ctrl/Cmd + Shift + C to copy output
  if ((e.ctrlKey || e.metaKey) && e.shiftKey && e.key === 'C') {
    e.preventDefault();
    copyOutput();
  }
});
</script>
<script src="/js/analytics-lite.js" defer></script>
<script src="/js/revenue.js" defer></script>
<script src="/js/lead-capture.js" defer></script>
</body>
</html>