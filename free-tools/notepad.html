<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Online Notepad - Distraction-Free Text Editor | NexTool</title>
<meta name="description" content="Free Online Notepad with auto-save, multiple notes, markdown preview, word count, dark/light theme, and full-screen mode. No signup required.">
<meta name="keywords" content="online notepad, text editor, markdown editor, free notepad, notes app, NexTool">
<link rel="canonical" href="https://nextool.app/free-tools/notepad.html">
<meta property="og:title" content="Online Notepad - Distraction-Free Text Editor | NexTool">
<meta property="og:description" content="Free Online Notepad with auto-save, multiple notes, markdown preview, and full-screen mode. No signup required.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://nextool.app/free-tools/notepad.html">
<meta property="og:image" content="https://nextool.app/free-tools/og/notepad.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Online Notepad - Distraction-Free Text Editor | NexTool">
<meta name="twitter:description" content="Free Online Notepad with auto-save, multiple notes, markdown preview, and full-screen mode.">
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"BreadcrumbList",
  "itemListElement":[
    {"@type":"ListItem","position":1,"name":"Home","item":"https://nextool.app/"},
    {"@type":"ListItem","position":2,"name":"Free Tools","item":"https://nextool.app/free-tools/"},
    {"@type":"ListItem","position":3,"name":"Online Notepad","item":"https://nextool.app/free-tools/notepad.html"}
  ]
}
</script>
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"SoftwareApplication",
  "name":"Online Notepad",
  "applicationCategory":"ProductivityApplication",
  "operatingSystem":"Web",
  "description":"Free Online Notepad with auto-save, multiple notes, markdown preview, and full-screen mode.",
  "url":"https://nextool.app/free-tools/notepad.html",
  "offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},
  "author":{"@type":"Organization","name":"NexTool","url":"https://nextool.app"}
}
</script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#050508;--surface:#111118;--surface2:#1a1a24;--surface3:#22222f;--primary:#6366f1;--accent:#a855f7;--pink:#ec4899;--text:#e2e8f0;--text-dim:#94a3b8;--text-muted:#64748b;--gradient:linear-gradient(135deg,#6366f1,#a855f7,#ec4899);--green:#22c55e;--red:#ef4444;--yellow:#eab308;--radius:12px;--radius-lg:20px}
html{scroll-behavior:smooth}
body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--text);line-height:1.6;-webkit-font-smoothing:antialiased;min-height:100vh}
body.fullscreen .nav,body.fullscreen .breadcrumb,body.fullscreen .tool-header,body.fullscreen .cta-section,body.fullscreen .footer{display:none!important}
body.fullscreen .main{max-width:100%;padding:1rem}
body.fullscreen .editor-card{border-radius:0;border:none;margin:0}

.nav{position:fixed;top:0;left:0;right:0;z-index:1000;padding:0 2rem;height:64px;display:flex;align-items:center;justify-content:space-between;background:rgba(5,5,8,.75);backdrop-filter:blur(20px);border-bottom:1px solid rgba(99,102,241,.1)}
.nav-logo{display:flex;align-items:center;gap:.5rem;font-weight:800;font-size:1.15rem;text-decoration:none;color:var(--text)}
.nav-logo .ico{width:28px;height:28px;border-radius:7px;background:var(--gradient);display:flex;align-items:center;justify-content:center;font-size:.75rem;font-weight:900;color:#fff}
.nav-logo span{background:var(--gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.nav-links{display:flex;gap:1.5rem;align-items:center}
.nav-links a{color:var(--text-dim);font-size:.85rem;font-weight:500;text-decoration:none;transition:color .2s}
.nav-links a:hover{color:var(--text)}
.breadcrumb{max-width:800px;margin:0 auto;padding:80px 1.5rem 0;font-size:.8rem}
.breadcrumb a{color:var(--text-muted);text-decoration:none;transition:color .2s}
.breadcrumb a:hover{color:var(--text)}
.breadcrumb span{color:var(--text-muted);margin:0 .4rem}
.breadcrumb .current{color:var(--text-dim)}
.main{max-width:800px;margin:0 auto;padding:1rem 1.5rem 3rem}
.tool-header{text-align:center;margin-bottom:2.5rem}
.tool-badge{display:inline-flex;align-items:center;gap:.4rem;padding:.3rem .8rem;border-radius:100px;background:rgba(99,102,241,.1);border:1px solid rgba(99,102,241,.15);font-size:.72rem;font-weight:600;color:var(--primary);text-transform:uppercase;letter-spacing:.06em;margin-bottom:1rem}
.tool-header h1{font-size:clamp(1.75rem,4vw,2.5rem);font-weight:800;margin-bottom:.5rem}
.tool-header h1 .gr{background:var(--gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.tool-header p{color:var(--text-dim);font-size:1rem;max-width:560px;margin:0 auto}

.editor-card{background:var(--surface);border:1px solid rgba(99,102,241,.1);border-radius:var(--radius-lg);position:relative;overflow:hidden;margin-bottom:1.5rem}
.editor-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:var(--gradient);z-index:2}

.tab-bar{display:flex;align-items:center;gap:0;padding:.5rem .75rem 0;background:var(--surface);overflow-x:auto;scrollbar-width:none}
.tab-bar::-webkit-scrollbar{display:none}
.tab{display:flex;align-items:center;gap:.3rem;padding:.45rem .85rem;border-radius:8px 8px 0 0;background:transparent;color:var(--text-muted);font-size:.8rem;font-weight:600;cursor:pointer;font-family:'Inter',sans-serif;border:1px solid transparent;border-bottom:none;transition:all .2s;white-space:nowrap;position:relative}
.tab.active{background:var(--surface2);color:var(--text);border-color:var(--surface3)}
.tab:hover:not(.active){color:var(--text-dim)}
.tab .tab-close{width:16px;height:16px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.65rem;cursor:pointer;opacity:0;transition:opacity .15s;color:var(--text-muted);margin-left:.2rem}
.tab:hover .tab-close,.tab.active .tab-close{opacity:1}
.tab .tab-close:hover{background:rgba(239,68,68,.2);color:var(--red)}
.tab-add{width:28px;height:28px;border-radius:6px;border:1px dashed var(--surface3);background:transparent;color:var(--text-muted);font-size:1rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;margin-left:.3rem;flex-shrink:0}
.tab-add:hover{border-color:var(--primary);color:var(--text)}

.toolbar{display:flex;align-items:center;justify-content:space-between;padding:.5rem .75rem;border-bottom:1px solid var(--surface3);gap:.5rem;flex-wrap:wrap}
.toolbar-group{display:flex;align-items:center;gap:.4rem}
.tool-btn{padding:.35rem .6rem;border-radius:6px;border:1px solid var(--surface3);background:transparent;color:var(--text-dim);font-size:.75rem;font-weight:600;cursor:pointer;font-family:'Inter',sans-serif;transition:all .2s;display:flex;align-items:center;gap:.3rem}
.tool-btn:hover{border-color:var(--primary);color:var(--text)}
.tool-btn.active{background:var(--primary);color:#fff;border-color:var(--primary)}
.tool-btn svg{width:14px;height:14px}

.editor-area{position:relative;min-height:400px}
.editor-textarea{width:100%;min-height:400px;padding:1.25rem;border:none;background:var(--surface2);color:var(--text);font-family:'JetBrains Mono',monospace;font-size:.9rem;line-height:1.8;resize:vertical;outline:none;display:block}
.editor-textarea::placeholder{color:var(--text-muted)}
.editor-textarea.light-mode{background:#fafafa;color:#1a1a2e}
.editor-textarea.light-mode::placeholder{color:#999}

.markdown-preview{display:none;width:100%;min-height:400px;padding:1.25rem;background:var(--surface2);color:var(--text);font-size:.9rem;line-height:1.8;overflow-y:auto}
.markdown-preview.light-mode{background:#fafafa;color:#1a1a2e}
.markdown-preview h1{font-size:1.6rem;font-weight:800;margin:1rem 0 .5rem;border-bottom:1px solid var(--surface3);padding-bottom:.3rem}
.markdown-preview h2{font-size:1.3rem;font-weight:700;margin:.8rem 0 .4rem}
.markdown-preview h3{font-size:1.1rem;font-weight:700;margin:.6rem 0 .3rem}
.markdown-preview p{margin:.5rem 0}
.markdown-preview code{font-family:'JetBrains Mono',monospace;background:var(--surface3);padding:.15rem .4rem;border-radius:4px;font-size:.85em}
.markdown-preview pre{background:var(--surface3);padding:1rem;border-radius:8px;overflow-x:auto;margin:.75rem 0}
.markdown-preview pre code{background:none;padding:0}
.markdown-preview ul,
.markdown-preview ol{padding-left:1.5rem;margin:.5rem 0}
.markdown-preview blockquote{border-left:3px solid var(--primary);padding-left:1rem;margin:.5rem 0;color:var(--text-dim)}
.markdown-preview a{color:var(--primary);text-decoration:underline}
.markdown-preview strong{font-weight:700}
.markdown-preview em{font-style:italic}
.markdown-preview hr{border:none;border-top:1px solid var(--surface3);margin:1rem 0}

.status-bar{display:flex;align-items:center;justify-content:space-between;padding:.5rem .75rem;background:var(--surface);border-top:1px solid var(--surface3);font-size:.75rem;color:var(--text-muted);font-weight:500;gap:.5rem;flex-wrap:wrap}
.status-bar .status-group{display:flex;gap:1rem}

.cta-section{text-align:center;padding:3rem 0;margin-top:1rem}
.cta-section h2{font-size:1.5rem;font-weight:800;margin-bottom:.5rem}
.cta-section p{color:var(--text-dim);margin-bottom:1.5rem;font-size:.95rem}
.cta-btn{display:inline-block;padding:.7rem 2rem;border-radius:var(--radius);background:var(--gradient);color:#fff;font-weight:700;font-size:.95rem;text-decoration:none;transition:transform .2s,box-shadow .2s}
.cta-btn:hover{transform:translateY(-2px);box-shadow:0 4px 20px rgba(99,102,241,.4)}

.footer{border-top:1px solid rgba(99,102,241,.06);padding:2rem 0;text-align:center}
.footer-inner{max-width:800px;margin:0 auto;padding:0 1.5rem;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}
.footer-logo{display:flex;align-items:center;gap:.4rem;font-weight:700;font-size:.9rem}
.footer-logo .ico{width:20px;height:20px;border-radius:5px;background:var(--gradient);display:flex;align-items:center;justify-content:center;font-size:.5rem;font-weight:900;color:#fff}
.footer-logo span{color:var(--text-dim)}
.footer-links{display:flex;gap:1.25rem}
.footer-links a{color:var(--text-muted);font-size:.8rem;text-decoration:none;transition:color .2s}
.footer-links a:hover{color:var(--text)}
.footer-copy{color:var(--text-muted);font-size:.75rem;width:100%;text-align:center;margin-top:.5rem}

@media(max-width:600px){
  .main{padding:1rem 1rem 2rem}
  .breadcrumb{padding:80px 1rem 0}
  .nav-links{display:none}
  .toolbar{flex-direction:column;align-items:flex-start}
  .footer-inner{flex-direction:column;text-align:center}
}
</style>
</head>
<body>
<nav class="nav">
  <a class="nav-logo" href="/"><div class="ico">N</div><span>NexTool</span></a>
  <div class="nav-links">
    <a href="/">Home</a>
    <a href="/free-tools/">Free Tools</a>
    <a href="/blog/">Blog</a>
    <a href="/pro.html">Pro</a>
  </div>
</nav>

<div class="breadcrumb">
  <a href="/">Home</a><span>/</span><a href="/free-tools/">Free Tools</a><span>/</span><span class="current">Online Notepad</span>
</div>

<div class="main">
  <div class="tool-header">
    <div class="tool-badge">Free Tool</div>
    <h1><span class="gr">Online</span> Notepad</h1>
    <p>A clean, distraction-free text editor with auto-save, multiple tabs, markdown preview, and full-screen mode.</p>
  </div>

  <div class="editor-card">
    <div class="tab-bar" id="tabBar">
      <button class="tab-add" id="addTabBtn" onclick="addNote()" title="New note">+</button>
    </div>
    <div class="toolbar">
      <div class="toolbar-group">
        <button class="tool-btn" id="btnEdit" onclick="setView('edit')">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
          Edit
        </button>
        <button class="tool-btn" id="btnPreview" onclick="setView('preview')">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
          Preview
        </button>
      </div>
      <div class="toolbar-group">
        <button class="tool-btn" id="btnTheme" onclick="toggleContentTheme()" title="Toggle light/dark for content area">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>
        </button>
        <button class="tool-btn" onclick="downloadNote()" title="Download as .txt">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3"/></svg>
        </button>
        <button class="tool-btn" id="btnFullscreen" onclick="toggleFullscreen()" title="Full-screen mode">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M8 3H5a2 2 0 00-2 2v3m18 0V5a2 2 0 00-2-2h-3m0 18h3a2 2 0 002-2v-3M3 16v3a2 2 0 002 2h3"/></svg>
        </button>
      </div>
    </div>
    <div class="editor-area">
      <textarea class="editor-textarea" id="editor" placeholder="Start typing..." oninput="onEdit()"></textarea>
      <div class="markdown-preview" id="preview"></div>
    </div>
    <div class="status-bar">
      <div class="status-group">
        <span id="wordCount">0 words</span>
        <span id="charCount">0 characters</span>
      </div>
      <div class="status-group">
        <span id="savedStatus">Not saved yet</span>
      </div>
    </div>
  </div>

  <div class="cta-section">
    <h2>Explore More Free Tools</h2>
    <p>Explore 150+ Free Tools at NexTool — your all-in-one developer toolkit.</p>
    <a href="/free-tools/" class="cta-btn">Browse All Tools</a>
  </div>
</div>


<!-- AUTO-LINKED by NexTool Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/box-shadow-generator.html" style="color:var(--primary);text-decoration:none">CSS Box Shadow Generator</a> · <a href="/free-tools/emoji-picker.html" style="color:var(--primary);text-decoration:none">Emoji Picker & Search</a> · <a href="/free-tools/markdown-preview.html" style="color:var(--primary);text-decoration:none">Markdown to HTML Live Preview</a> · <a href="/free-tools/meta-tag-generator.html" style="color:var(--primary);text-decoration:none">Meta Tag Generator</a> · <a href="/free-tools/color-palette.html" style="color:var(--primary);text-decoration:none">Free Color Palette Generator</a></p>
</div>

<!-- AUTO-LINKED by NexTool Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/markdown-to-html.html" style="color:var(--primary);text-decoration:none">Markdown to HTML Converter - Free Tool</a> · <a href="/free-tools/favicon-generator.html" style="color:var(--primary);text-decoration:none">Favicon Generator</a> · <a href="/free-tools/git-diff-viewer.html" style="color:var(--primary);text-decoration:none">Free Git Diff Viewer</a></p>
</div>
<footer class="footer">
  <div class="footer-inner">
    <div class="footer-logo"><div class="ico">N</div><span>NexTool</span></div>
    <div class="footer-links">
      <a href="/free-tools/">Free Tools</a>
      <a href="/blog/">Blog</a>
      <a href="/pro.html">Pro</a>
      <a href="/privacy.html">Privacy</a>
      <a href="/terms.html">Terms</a>
    </div>
    <div class="footer-copy">&copy; 2026 NexTool. Free forever.</div>
  </div>
</footer>

<script>
let notes = [];
let activeId = null;
let currentView = 'edit';
let lightMode = false;
let saveTimer = null;

function loadNotes() {
  try {
    notes = JSON.parse(localStorage.getItem('nt_notepad') || '[]');
    if (!Array.isArray(notes) || notes.length === 0) {
      notes = [{ id: genId(), name: 'Untitled', content: '', saved: null }];
    }
    activeId = notes[0].id;
  } catch(e) {
    notes = [{ id: genId(), name: 'Untitled', content: '', saved: null }];
    activeId = notes[0].id;
  }
}

function saveNotes() {
  localStorage.setItem('nt_notepad', JSON.stringify(notes));
}

function genId() { return 'n_' + Date.now() + '_' + Math.random().toString(36).slice(2, 7); }

function getActive() { return notes.find(n => n.id === activeId); }

function addNote() {
  const note = { id: genId(), name: 'Untitled', content: '', saved: null };
  notes.push(note);
  activeId = note.id;
  saveNotes();
  renderTabs();
  loadEditor();
}

function removeNote(id) {
  if (notes.length <= 1) return;
  notes = notes.filter(n => n.id !== id);
  if (activeId === id) activeId = notes[0].id;
  saveNotes();
  renderTabs();
  loadEditor();
}

function switchNote(id) {
  saveCurrentContent();
  activeId = id;
  renderTabs();
  loadEditor();
}

function renameNote(id) {
  const note = notes.find(n => n.id === id);
  if (!note) return;
  const tab = document.querySelector('[data-note-id="' + id + '"] .tab-name');
  if (!tab) return;
  const input = document.createElement('input');
  input.type = 'text';
  input.value = note.name;
  input.style.cssText = 'background:var(--surface3);border:1px solid var(--primary);border-radius:4px;color:var(--text);font-size:.8rem;font-family:Inter,sans-serif;padding:0 .3rem;width:80px;outline:none';
  tab.replaceWith(input);
  input.focus();
  input.select();
  function finish() {
    note.name = input.value.trim() || 'Untitled';
    saveNotes();
    renderTabs();
  }
  input.addEventListener('blur', finish);
  input.addEventListener('keydown', e => { if (e.key === 'Enter') { e.preventDefault(); finish(); } });
}

function renderTabs() {
  const bar = document.getElementById('tabBar');
  const addBtn = document.getElementById('addTabBtn');
  bar.querySelectorAll('.tab').forEach(t => t.remove());
  notes.forEach(n => {
    const tab = document.createElement('div');
    tab.className = 'tab' + (n.id === activeId ? ' active' : '');
    tab.dataset.noteId = n.id;
    tab.innerHTML = '<span class="tab-name" ondblclick="renameNote(\'' + n.id + '\')">' + escHtml(n.name) + '</span>' +
      (notes.length > 1 ? '<span class="tab-close" onclick="event.stopPropagation();removeNote(\'' + n.id + '\')">&times;</span>' : '');
    tab.addEventListener('click', () => switchNote(n.id));
    bar.insertBefore(tab, addBtn);
  });
}

function loadEditor() {
  const note = getActive();
  if (!note) return;
  document.getElementById('editor').value = note.content;
  updateCounts();
  updateSavedStatus(note.saved);
  if (currentView === 'preview') renderMarkdown();
}

function saveCurrentContent() {
  const note = getActive();
  if (!note) return;
  note.content = document.getElementById('editor').value;
  note.saved = new Date().toISOString();
  saveNotes();
  updateSavedStatus(note.saved);
}

function onEdit() {
  updateCounts();
  clearTimeout(saveTimer);
  saveTimer = setTimeout(() => saveCurrentContent(), 2000);
}

function updateCounts() {
  const text = document.getElementById('editor').value;
  const words = text.trim() ? text.trim().split(/\s+/).length : 0;
  const chars = text.length;
  document.getElementById('wordCount').textContent = words + ' word' + (words !== 1 ? 's' : '');
  document.getElementById('charCount').textContent = chars + ' character' + (chars !== 1 ? 's' : '');
}

function updateSavedStatus(iso) {
  if (!iso) {
    document.getElementById('savedStatus').textContent = 'Not saved yet';
    return;
  }
  const d = new Date(iso);
  document.getElementById('savedStatus').textContent = 'Saved ' + d.toLocaleTimeString();
}

function setView(view) {
  currentView = view;
  document.getElementById('btnEdit').classList.toggle('active', view === 'edit');
  document.getElementById('btnPreview').classList.toggle('active', view === 'preview');
  document.getElementById('editor').style.display = view === 'edit' ? '' : 'none';
  document.getElementById('preview').style.display = view === 'preview' ? 'block' : 'none';
  if (view === 'preview') renderMarkdown();
}

function renderMarkdown() {
  const text = document.getElementById('editor').value;
  let html = text
    .replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')
    .replace(/^### (.+)$/gm,'<h3>$1</h3>')
    .replace(/^## (.+)$/gm,'<h2>$1</h2>')
    .replace(/^# (.+)$/gm,'<h1>$1</h1>')
    .replace(/\*\*(.+?)\*\*/g,'<strong>$1</strong>')
    .replace(/\*(.+?)\*/g,'<em>$1</em>')
    .replace(/`([^`]+)`/g,'<code>$1</code>')
    .replace(/^---$/gm,'<hr>')
    .replace(/^\&gt; (.+)$/gm,'<blockquote>$1</blockquote>')
    .replace(/^\- (.+)$/gm,'<li>$1</li>')
    .replace(/^\d+\. (.+)$/gm,'<li>$1</li>')
    .replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" target="_blank" rel="noopener">$1</a>')
    .replace(/\n\n/g,'</p><p>')
    .replace(/\n/g,'<br>');
  html = '<p>' + html + '</p>';
  html = html.replace(/<p><(h[1-3]|hr|blockquote|li)/g,'<$1').replace(/<\/(h[1-3]|hr|blockquote|li)><\/p>/g,'</$1>');
  document.getElementById('preview').innerHTML = html;
  const pv = document.getElementById('preview');
  pv.classList.toggle('light-mode', lightMode);
}

function toggleContentTheme() {
  lightMode = !lightMode;
  document.getElementById('editor').classList.toggle('light-mode', lightMode);
  document.getElementById('preview').classList.toggle('light-mode', lightMode);
}

function downloadNote() {
  const note = getActive();
  if (!note) return;
  const blob = new Blob([note.content], { type: 'text/plain' });
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = (note.name || 'note') + '.txt';
  a.click();
  URL.revokeObjectURL(a.href);
}

function toggleFullscreen() {
  document.body.classList.toggle('fullscreen');
  const isFs = document.body.classList.contains('fullscreen');
  document.getElementById('editor').style.minHeight = isFs ? 'calc(100vh - 120px)' : '400px';
}

function escHtml(str) {
  const d = document.createElement('div'); d.textContent = str; return d.innerHTML;
}

// Keyboard shortcuts
document.addEventListener('keydown', e => {
  if ((e.ctrlKey || e.metaKey) && e.key === 's') {
    e.preventDefault();
    saveCurrentContent();
  }
  if (e.key === 'Escape' && document.body.classList.contains('fullscreen')) {
    toggleFullscreen();
  }
});

// Init
loadNotes();
renderTabs();
loadEditor();
setView('edit');

// Auto-save on unload
window.addEventListener('beforeunload', () => saveCurrentContent());
</script>
<script src="/js/revenue.js" defer></script>
<script src="/js/lead-capture.js" defer></script>
<script src="/js/analytics-lite.js" defer></script>
</body>
</html>
