<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Word Counter &amp; Text Analyzer | NexTool Free Tools</title>
<meta name="description" content="Advanced word counter with character, sentence, paragraph counts, reading time, speaking time, keyword density, readability score, and top word analysis. Free online tool by NexTool.">
<meta name="keywords" content="word counter, character counter, text analyzer, reading time, keyword density, readability score, Flesch-Kincaid">
<meta property="og:title" content="Word Counter & Text Analyzer | NexTool Free Tools">
<meta property="og:description" content="Count words, characters, sentences, paragraphs. Get reading time, keyword density, readability scores and more.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://nextool.app/free-tools/word-counter.html">
<meta property="og:image" content="https://nextool.app/free-tools/og/word-counter.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Word Counter & Text Analyzer | NexTool Free Tools">
<meta name="twitter:description" content="Count words, characters, sentences, paragraphs. Get reading time, keyword density, readability scores and more.">
<link rel="canonical" href="https://nextool.app/free-tools/word-counter.html">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://nextool.app/"},{"@type":"ListItem","position":2,"name":"Free Tools","item":"https://nextool.app/free-tools/"},{"@type":"ListItem","position":3,"name":"Word Counter","item":"https://nextool.app/free-tools/word-counter.html"}]}
</script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#050508;--surface:#111118;--surface2:#1a1a24;--primary:#6366f1;--accent:#a855f7;--pink:#ec4899;--cyan:#06b6d4;--text:#e2e8f0;--text2:#94a3b8;--radius:16px;--glow:0 0 30px rgba(236,72,153,0.15)}
body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);min-height:100vh;line-height:1.6;-webkit-font-smoothing:antialiased}
a{color:inherit;text-decoration:none}
/* NAV */
nav{position:sticky;top:0;z-index:100;background:rgba(5,5,8,0.85);backdrop-filter:blur(20px);border-bottom:1px solid rgba(255,255,255,0.06);padding:0 2rem;height:64px;display:flex;align-items:center;justify-content:space-between}
.nav-logo{font-size:1.35rem;font-weight:800;background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.nav-links{display:flex;gap:1.5rem;align-items:center}
.nav-links a{font-size:.875rem;color:var(--text2);transition:color .2s}
.nav-links a:hover{color:var(--text)}
.nav-hamburger{display:none;flex-direction:column;gap:5px;cursor:pointer;padding:8px}
.nav-hamburger span{width:22px;height:2px;background:var(--text);border-radius:2px;transition:all .3s}
@media(max-width:768px){.nav-links{display:none;position:absolute;top:64px;left:0;right:0;flex-direction:column;background:var(--surface);padding:1.5rem;gap:1rem;border-bottom:1px solid rgba(255,255,255,0.06)}.nav-links.open{display:flex}.nav-hamburger{display:flex}}
/* HERO */
.hero{text-align:center;padding:4rem 2rem 2rem}
.breadcrumb{font-size:.8rem;color:var(--text2);margin-bottom:1.5rem}
.breadcrumb a:hover{color:var(--pink)}
.breadcrumb span{margin:0 .5rem;opacity:.4}
.hero h1{font-size:clamp(2rem,5vw,3.2rem);font-weight:800;line-height:1.15;margin-bottom:1rem}
.hero h1 .grad{background:linear-gradient(135deg,var(--pink),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hero p{color:var(--text2);max-width:600px;margin:0 auto;font-size:1.05rem}
/* MAIN */
.container{max-width:1100px;margin:0 auto;padding:2rem}
.tool-grid{display:grid;grid-template-columns:1fr 340px;gap:1.5rem;margin-bottom:2rem}
@media(max-width:900px){.tool-grid{grid-template-columns:1fr}}
textarea{width:100%;min-height:360px;background:var(--surface);border:1px solid rgba(255,255,255,0.08);border-radius:var(--radius);padding:1.25rem;color:var(--text);font-family:'Inter',sans-serif;font-size:.95rem;resize:vertical;line-height:1.7;transition:border-color .3s}
textarea:focus{outline:none;border-color:var(--pink);box-shadow:var(--glow)}
textarea::placeholder{color:var(--text2);opacity:.5}
.sidebar{display:flex;flex-direction:column;gap:1rem}
.stat-card{background:var(--surface);border:1px solid rgba(255,255,255,0.06);border-radius:var(--radius);padding:1.25rem}
.stat-card h3{font-size:.75rem;text-transform:uppercase;letter-spacing:.08em;color:var(--text2);margin-bottom:.75rem}
.stat-row{display:flex;justify-content:space-between;align-items:center;padding:.4rem 0;border-bottom:1px solid rgba(255,255,255,0.04)}
.stat-row:last-child{border-bottom:none}
.stat-label{font-size:.85rem;color:var(--text2)}
.stat-value{font-size:1rem;font-weight:700;color:var(--pink)}
.readability-score{font-size:2.5rem;font-weight:800;text-align:center;margin:.5rem 0}
.readability-label{text-align:center;font-size:.85rem;color:var(--text2);margin-bottom:.5rem}
.readability-bar{height:8px;background:var(--surface2);border-radius:4px;overflow:hidden;margin-top:.5rem}
.readability-fill{height:100%;border-radius:4px;transition:width .5s ease}
/* TOP WORDS */
.top-words{background:var(--surface);border:1px solid rgba(255,255,255,0.06);border-radius:var(--radius);padding:1.25rem}
.top-words h3{font-size:.75rem;text-transform:uppercase;letter-spacing:.08em;color:var(--text2);margin-bottom:.75rem}
.word-bar{display:flex;align-items:center;gap:.75rem;margin-bottom:.5rem}
.word-bar .word{font-size:.8rem;min-width:80px;color:var(--text)}
.word-bar .bar{flex:1;height:6px;background:var(--surface2);border-radius:3px;overflow:hidden}
.word-bar .bar-fill{height:100%;background:linear-gradient(90deg,var(--pink),var(--accent));border-radius:3px;transition:width .4s}
.word-bar .count{font-size:.75rem;color:var(--text2);min-width:24px;text-align:right}
/* KEYWORD DENSITY */
.density-section{background:var(--surface);border:1px solid rgba(255,255,255,0.06);border-radius:var(--radius);padding:1.25rem;margin-top:1.5rem}
.density-section h3{font-size:.75rem;text-transform:uppercase;letter-spacing:.08em;color:var(--text2);margin-bottom:.75rem}
.density-item{display:flex;justify-content:space-between;align-items:center;padding:.35rem 0;font-size:.85rem}
.density-item .kw{color:var(--text)}
.density-item .pct{color:var(--pink);font-weight:600}
/* ACTIONS */
.actions{display:flex;gap:.75rem;margin-bottom:1.5rem;flex-wrap:wrap}
.btn{padding:.65rem 1.25rem;border-radius:10px;border:none;font-family:'Inter',sans-serif;font-size:.85rem;font-weight:600;cursor:pointer;transition:all .2s}
.btn-primary{background:linear-gradient(135deg,var(--pink),var(--accent));color:#fff}
.btn-primary:hover{opacity:.9;transform:translateY(-1px)}
.btn-ghost{background:rgba(255,255,255,0.04);color:var(--text2);border:1px solid rgba(255,255,255,0.08)}
.btn-ghost:hover{background:rgba(255,255,255,0.08);color:var(--text)}
/* BOTTOM GRID */
.bottom-grid{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin-top:1.5rem}
@media(max-width:700px){.bottom-grid{grid-template-columns:1fr}}
/* TEXT STRUCTURE */
.structure-section{background:var(--surface);border:1px solid rgba(255,255,255,0.06);border-radius:var(--radius);padding:1.25rem;margin-top:1.5rem}
.structure-section h3{font-size:.75rem;text-transform:uppercase;letter-spacing:.08em;color:var(--text2);margin-bottom:.75rem}
.structure-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:.75rem}
.structure-item{background:var(--surface2);border-radius:10px;padding:.75rem;text-align:center}
.structure-item .si-val{font-size:1.4rem;font-weight:700;color:var(--pink)}
.structure-item .si-label{font-size:.7rem;color:var(--text2);margin-top:.25rem}
/* GRADE LEVEL */
.grade-section{background:var(--surface);border:1px solid rgba(255,255,255,0.06);border-radius:var(--radius);padding:1.25rem;margin-top:1.5rem}
.grade-section h3{font-size:.75rem;text-transform:uppercase;letter-spacing:.08em;color:var(--text2);margin-bottom:.75rem}
.grade-row{display:flex;justify-content:space-between;align-items:center;padding:.4rem 0;border-bottom:1px solid rgba(255,255,255,0.04)}
.grade-row:last-child{border-bottom:none}
.grade-row .gl{font-size:.85rem;color:var(--text2)}
.grade-row .gv{font-size:.9rem;font-weight:600;color:var(--pink)}
/* LETTER FREQ */
.letter-section{background:var(--surface);border:1px solid rgba(255,255,255,0.06);border-radius:var(--radius);padding:1.25rem;margin-top:1.5rem}
.letter-section h3{font-size:.75rem;text-transform:uppercase;letter-spacing:.08em;color:var(--text2);margin-bottom:.75rem}
.letter-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(50px,1fr));gap:.4rem}
.letter-item{background:var(--surface2);border-radius:6px;padding:.35rem;text-align:center;font-size:.7rem}
.letter-item .lc{font-weight:700;color:var(--text);display:block}
.letter-item .ln{color:var(--text2);display:block;font-size:.6rem}
/* SAMPLE TEXT */
.sample-bar{display:flex;gap:.5rem;margin-bottom:1rem;flex-wrap:wrap}
.sample-btn{background:var(--surface2);border:1px solid rgba(255,255,255,0.06);border-radius:8px;padding:.35rem .75rem;color:var(--text2);font-size:.75rem;cursor:pointer;font-family:'Inter',sans-serif;transition:.2s}
.sample-btn:hover{border-color:var(--pink);color:var(--text)}
/* MORE TOOLS */
.more-tools{margin-top:4rem;padding:3rem 0;border-top:1px solid rgba(255,255,255,0.06)}
.more-tools h2{text-align:center;font-size:1.5rem;margin-bottom:2rem}
.tools-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:1rem}
.tool-card{background:var(--surface);border:1px solid rgba(255,255,255,0.06);border-radius:var(--radius);padding:1.5rem;transition:all .3s}
.tool-card:hover{border-color:var(--primary);transform:translateY(-3px);box-shadow:0 8px 30px rgba(99,102,241,0.1)}
.tool-card .icon{font-size:1.5rem;margin-bottom:.75rem}
.tool-card h3{font-size:1rem;margin-bottom:.4rem}
.tool-card p{font-size:.8rem;color:var(--text2)}
/* FOOTER */
footer{margin-top:4rem;padding:2rem;text-align:center;border-top:1px solid rgba(255,255,255,0.06);color:var(--text2);font-size:.8rem}
footer .brand{font-weight:700;background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
/* EXPORT MODAL */
.modal-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.7);z-index:200;align-items:center;justify-content:center}
.modal-overlay.open{display:flex}
.modal{background:var(--surface);border:1px solid rgba(255,255,255,0.1);border-radius:var(--radius);padding:2rem;max-width:500px;width:90%;max-height:80vh;overflow-y:auto}
.modal h2{font-size:1.2rem;margin-bottom:1rem}
.modal pre{background:var(--bg);border-radius:10px;padding:1rem;font-size:.75rem;overflow-x:auto;white-space:pre-wrap;margin-bottom:1rem;max-height:300px;overflow-y:auto;color:var(--text2)}
.modal .actions{justify-content:flex-end;margin-bottom:0}
</style>
</head>
<body>

<nav>
  <a href="/" class="nav-logo">NexTool</a>
  <div class="nav-links" id="navLinks">
    <a href="/">Home</a>
    <a href="/free-tools/">Tools</a>
    <a href="/free-tools/">Tools</a>
    <a href="/blog/">Blog</a>
    <a href="/pro.html">Pro</a>
    <a href="/pro.html">Pro — $29</a>
    <a href="/extension.html">Pro</a>
  </div>
  <div class="nav-hamburger" onclick="document.getElementById('navLinks').classList.toggle('open')">
    <span></span><span></span><span></span>
  </div>
</nav>

<section class="hero">
  <div class="breadcrumb"><a href="/">Home</a><span>/</span><a href="/free-tools/">Free Tools</a><span>/</span>Word Counter</div>
  <h1><span class="grad">Word Counter</span> &amp; Text Analyzer</h1>
  <p>Count words, characters, sentences, paragraphs. Get reading time, speaking time, keyword density, readability scores, and top word analysis.</p>
</section>

<div class="container">
  <div class="actions">
    <button class="btn btn-primary" onclick="analyzeText()">Analyze Text</button>
    <button class="btn btn-ghost" onclick="clearText()">Clear</button>
    <button class="btn btn-ghost" onclick="pasteFromClipboard()">Paste</button>
    <button class="btn btn-ghost" onclick="exportReport()">Export Report</button>
  </div>

  <div class="sample-bar">
    <span style="font-size:.75rem;color:var(--text2);line-height:2">Try samples:</span>
    <button class="sample-btn" onclick="loadSample('short')">Short Text</button>
    <button class="sample-btn" onclick="loadSample('article')">Blog Article</button>
    <button class="sample-btn" onclick="loadSample('technical')">Technical</button>
    <button class="sample-btn" onclick="loadSample('simple')">Simple</button>
  </div>

  <div class="tool-grid">
    <div>
      <textarea id="textInput" placeholder="Start typing or paste your text here to analyze..." oninput="analyzeText()"></textarea>
    </div>
    <div class="sidebar">
      <div class="stat-card">
        <h3>Statistics</h3>
        <div class="stat-row"><span class="stat-label">Words</span><span class="stat-value" id="wordCount">0</span></div>
        <div class="stat-row"><span class="stat-label">Characters</span><span class="stat-value" id="charCount">0</span></div>
        <div class="stat-row"><span class="stat-label">Characters (no spaces)</span><span class="stat-value" id="charNoSpace">0</span></div>
        <div class="stat-row"><span class="stat-label">Sentences</span><span class="stat-value" id="sentenceCount">0</span></div>
        <div class="stat-row"><span class="stat-label">Paragraphs</span><span class="stat-value" id="paraCount">0</span></div>
        <div class="stat-row"><span class="stat-label">Unique Words</span><span class="stat-value" id="uniqueWords">0</span></div>
        <div class="stat-row"><span class="stat-label">Avg Word Length</span><span class="stat-value" id="avgWordLen">0</span></div>
        <div class="stat-row"><span class="stat-label">Avg Sentence Length</span><span class="stat-value" id="avgSentLen">0</span></div>
      </div>
      <div class="stat-card">
        <h3>Time Estimates</h3>
        <div class="stat-row"><span class="stat-label">Reading Time</span><span class="stat-value" id="readTime">0 min</span></div>
        <div class="stat-row"><span class="stat-label">Speaking Time</span><span class="stat-value" id="speakTime">0 min</span></div>
      </div>
      <div class="stat-card">
        <h3>Readability (Flesch-Kincaid)</h3>
        <div class="readability-score" id="readScore">--</div>
        <div class="readability-label" id="readLabel">Enter text to analyze</div>
        <div class="readability-bar"><div class="readability-fill" id="readBar" style="width:0%;background:var(--pink)"></div></div>
      </div>
    </div>
  </div>

  <div class="bottom-grid">
    <div class="top-words" id="topWordsSection">
      <h3>Top 10 Words</h3>
      <div id="topWordsList"><p style="color:var(--text2);font-size:.85rem">Enter text to see top words</p></div>
    </div>
    <div class="density-section">
      <h3>Keyword Density (Top 10)</h3>
      <div id="densityList"><p style="color:var(--text2);font-size:.85rem">Enter text to see keyword density</p></div>
    </div>
  </div>

  <div class="structure-section" id="structureSection">
    <h3>Text Structure</h3>
    <div class="structure-grid">
      <div class="structure-item"><span class="si-val" id="strShort">0</span><span class="si-label">Short Sentences (&lt;10 words)</span></div>
      <div class="structure-item"><span class="si-val" id="strMedium">0</span><span class="si-label">Medium Sentences (10-20)</span></div>
      <div class="structure-item"><span class="si-val" id="strLong">0</span><span class="si-label">Long Sentences (&gt;20)</span></div>
      <div class="structure-item"><span class="si-val" id="strLongest">0</span><span class="si-label">Longest Sentence (words)</span></div>
      <div class="structure-item"><span class="si-val" id="strShortest">0</span><span class="si-label">Shortest Sentence (words)</span></div>
      <div class="structure-item"><span class="si-val" id="strVocabRich">0%</span><span class="si-label">Vocabulary Richness</span></div>
    </div>
  </div>

  <div class="bottom-grid" style="margin-top:1.5rem">
    <div class="grade-section" style="margin-top:0">
      <h3>Grade Level Analysis</h3>
      <div class="grade-row"><span class="gl">Flesch-Kincaid Grade</span><span class="gv" id="fkGrade">--</span></div>
      <div class="grade-row"><span class="gl">Coleman-Liau Index</span><span class="gv" id="clIndex">--</span></div>
      <div class="grade-row"><span class="gl">Automated Readability</span><span class="gv" id="ariIndex">--</span></div>
      <div class="grade-row"><span class="gl">Average Grade Level</span><span class="gv" id="avgGrade">--</span></div>
      <div class="grade-row"><span class="gl">Target Audience</span><span class="gv" id="targetAudience">--</span></div>
    </div>
    <div class="letter-section" style="margin-top:0">
      <h3>Letter Frequency</h3>
      <div class="letter-grid" id="letterGrid">
        <div class="letter-item"><span class="lc">-</span><span class="ln">0</span></div>
      </div>
    </div>
  </div>

  <section class="more-tools">
    <h2>More Free Tools</h2>
    <div class="tools-grid">
      <a href="/free-tools/json-to-typescript.html" class="tool-card"><div class="icon">{ }</div><h3>JSON to TypeScript</h3><p>Convert JSON objects to TypeScript interfaces and type definitions.</p></a>
      <a href="/free-tools/css-minifier.html" class="tool-card"><div class="icon">&lt;/&gt;</div><h3>CSS Minifier</h3><p>Minify and beautify CSS with size reduction stats and options.</p></a>
      <a href="/free-tools/slug-generator.html" class="tool-card"><div class="icon">#</div><h3>Slug Generator</h3><p>Convert text to URL-friendly slugs in multiple formats.</p></a>
      <a href="/free-tools/color-palette.html" class="tool-card"><div class="icon">&#127912;</div><h3>Color Palette Generator</h3><p>Generate beautiful color palettes for your design projects.</p></a>
    </div>
  </section>
</div>

<div class="modal-overlay" id="exportModal">
  <div class="modal">
    <h2>Export Report</h2>
    <pre id="exportContent"></pre>
    <div class="actions">
      <button class="btn btn-ghost" onclick="closeExport()">Close</button>
      <button class="btn btn-primary" onclick="copyExport()">Copy to Clipboard</button>
      <button class="btn btn-ghost" onclick="downloadExport()">Download .txt</button>
    </div>
  </div>
</div>


<!-- AUTO-LINKED by NexTool Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/text-analyzer.html" style="color:var(--primary);text-decoration:none">Free Text Analyzer</a> · <a href="/free-tools/box-shadow-generator.html" style="color:var(--primary);text-decoration:none">CSS Box Shadow Generator</a> · <a href="/free-tools/emoji-picker.html" style="color:var(--primary);text-decoration:none">Emoji Picker & Search</a> · <a href="/free-tools/favicon-generator.html" style="color:var(--primary);text-decoration:none">Favicon Generator</a> · <a href="/free-tools/meta-tag-generator.html" style="color:var(--primary);text-decoration:none">Meta Tag Generator</a></p>
</div>

<!-- AUTO-LINKED by NexTool Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/icon-generator.html" style="color:var(--primary);text-decoration:none">Free Icon Generator</a> · <a href="/free-tools/character-counter.html" style="color:var(--primary);text-decoration:none">Character Counter &amp; Social Media Limits</a> · <a href="/free-tools/accessibility-checker.html" style="color:var(--primary);text-decoration:none">Free Accessibility Checker</a></p>
</div>

<!-- AUTO-LINKED by NexTool Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/color-palette-generator.html" style="color:var(--primary);text-decoration:none">Free Color Palette Generator</a> · <a href="/free-tools/json-to-yaml-converter.html" style="color:var(--primary);text-decoration:none">Free JSON to YAML Converter</a> · <a href="/free-tools/api-request-builder.html" style="color:var(--primary);text-decoration:none">Free API Request Builder</a></p>
</div>
<footer>
  <p><span class="brand">NexTool</span> &mdash; NexTool &copy; 2026. All rights reserved.</p>
</footer>

<script>
const stopWords = new Set(['the','be','to','of','and','a','in','that','have','i','it','for','not','on','with','he','as','you','do','at','this','but','his','by','from','they','we','her','she','or','an','will','my','one','all','would','there','their','what','so','up','out','if','about','who','get','which','go','me','when','make','can','like','time','no','just','him','know','take','people','into','year','your','good','some','could','them','see','other','than','then','now','look','only','come','its','over','think','also','back','after','use','two','how','our','work','first','well','way','even','new','want','because','any','these','give','day','most','us']);
let lastReport = '';

function countSyllables(word) {
  word = word.toLowerCase().replace(/[^a-z]/g, '');
  if (word.length <= 3) return 1;
  word = word.replace(/(?:[^laeiouy]es|ed|[^laeiouy]e)$/, '');
  word = word.replace(/^y/, '');
  const m = word.match(/[aeiouy]{1,2}/g);
  return m ? m.length : 1;
}

function analyzeText() {
  const text = document.getElementById('textInput').value;
  const trimmed = text.trim();

  if (!trimmed) {
    resetStats();
    return;
  }

  const words = trimmed.split(/\s+/).filter(w => w.length > 0);
  const wordCount = words.length;
  const charCount = text.length;
  const charNoSpace = text.replace(/\s/g, '').length;
  const sentences = trimmed.split(/[.!?]+/).filter(s => s.trim().length > 0);
  const sentenceCount = sentences.length;
  const paragraphs = trimmed.split(/\n\s*\n/).filter(p => p.trim().length > 0);
  const paraCount = Math.max(1, paragraphs.length);

  const cleanWords = words.map(w => w.toLowerCase().replace(/[^a-z0-9'-]/g, '')).filter(w => w.length > 0);
  const uniqueWordSet = new Set(cleanWords);
  const uniqueCount = uniqueWordSet.size;

  const totalWordLen = cleanWords.reduce((s, w) => s + w.length, 0);
  const avgWordLength = wordCount > 0 ? (totalWordLen / wordCount).toFixed(1) : 0;
  const avgSentLength = sentenceCount > 0 ? (wordCount / sentenceCount).toFixed(1) : 0;

  const readMin = Math.ceil(wordCount / 238);
  const speakMin = Math.ceil(wordCount / 150);

  // Flesch-Kincaid Reading Ease
  let totalSyllables = 0;
  cleanWords.forEach(w => { totalSyllables += countSyllables(w); });
  let fleschScore = 0;
  if (wordCount > 0 && sentenceCount > 0) {
    fleschScore = 206.835 - 1.015 * (wordCount / sentenceCount) - 84.6 * (totalSyllables / wordCount);
    fleschScore = Math.max(0, Math.min(100, Math.round(fleschScore)));
  }

  document.getElementById('wordCount').textContent = wordCount.toLocaleString();
  document.getElementById('charCount').textContent = charCount.toLocaleString();
  document.getElementById('charNoSpace').textContent = charNoSpace.toLocaleString();
  document.getElementById('sentenceCount').textContent = sentenceCount.toLocaleString();
  document.getElementById('paraCount').textContent = paraCount.toLocaleString();
  document.getElementById('uniqueWords').textContent = uniqueCount.toLocaleString();
  document.getElementById('avgWordLen').textContent = avgWordLength;
  document.getElementById('avgSentLen').textContent = avgSentLength;
  document.getElementById('readTime').textContent = readMin < 1 ? '< 1 min' : readMin + ' min';
  document.getElementById('speakTime').textContent = speakMin < 1 ? '< 1 min' : speakMin + ' min';

  document.getElementById('readScore').textContent = fleschScore;
  let label = 'Very Confusing';
  let color = '#ef4444';
  if (fleschScore >= 90) { label = 'Very Easy'; color = '#22c55e'; }
  else if (fleschScore >= 80) { label = 'Easy'; color = '#4ade80'; }
  else if (fleschScore >= 70) { label = 'Fairly Easy'; color = '#a3e635'; }
  else if (fleschScore >= 60) { label = 'Standard'; color = '#facc15'; }
  else if (fleschScore >= 50) { label = 'Fairly Difficult'; color = '#f97316'; }
  else if (fleschScore >= 30) { label = 'Difficult'; color = '#ef4444'; }
  document.getElementById('readLabel').textContent = label;
  const bar = document.getElementById('readBar');
  bar.style.width = fleschScore + '%';
  bar.style.background = color;

  // Top words
  const wordFreq = {};
  cleanWords.forEach(w => {
    if (!stopWords.has(w) && w.length > 1) {
      wordFreq[w] = (wordFreq[w] || 0) + 1;
    }
  });
  const sorted = Object.entries(wordFreq).sort((a, b) => b[1] - a[1]).slice(0, 10);
  const maxCount = sorted.length > 0 ? sorted[0][1] : 1;

  let topHTML = '';
  sorted.forEach(([word, count]) => {
    const pct = (count / maxCount * 100).toFixed(0);
    topHTML += `<div class="word-bar"><span class="word">${word}</span><div class="bar"><div class="bar-fill" style="width:${pct}%"></div></div><span class="count">${count}</span></div>`;
  });
  document.getElementById('topWordsList').innerHTML = topHTML || '<p style="color:var(--text2);font-size:.85rem">No significant words found</p>';

  // Keyword density
  const allWordFreq = {};
  cleanWords.forEach(w => {
    if (w.length > 2) allWordFreq[w] = (allWordFreq[w] || 0) + 1;
  });
  const densitySorted = Object.entries(allWordFreq).sort((a, b) => b[1] - a[1]).slice(0, 10);
  let densityHTML = '';
  densitySorted.forEach(([word, count]) => {
    const pct = ((count / wordCount) * 100).toFixed(2);
    densityHTML += `<div class="density-item"><span class="kw">${word}</span><span class="pct">${pct}% (${count})</span></div>`;
  });
  document.getElementById('densityList').innerHTML = densityHTML || '<p style="color:var(--text2);font-size:.85rem">No keywords found</p>';

  // Text structure analysis
  const sentenceWordCounts = sentences.map(s => s.trim().split(/\s+/).filter(w => w.length > 0).length);
  const shortSent = sentenceWordCounts.filter(c => c < 10).length;
  const medSent = sentenceWordCounts.filter(c => c >= 10 && c <= 20).length;
  const longSent = sentenceWordCounts.filter(c => c > 20).length;
  const longestSent = sentenceWordCounts.length > 0 ? Math.max(...sentenceWordCounts) : 0;
  const shortestSent = sentenceWordCounts.length > 0 ? Math.min(...sentenceWordCounts) : 0;
  const vocabRichness = wordCount > 0 ? ((uniqueCount / wordCount) * 100).toFixed(1) : 0;

  document.getElementById('strShort').textContent = shortSent;
  document.getElementById('strMedium').textContent = medSent;
  document.getElementById('strLong').textContent = longSent;
  document.getElementById('strLongest').textContent = longestSent;
  document.getElementById('strShortest').textContent = shortestSent;
  document.getElementById('strVocabRich').textContent = vocabRichness + '%';

  // Grade level analysis
  let fkGrade = 0;
  let clIndex = 0;
  let ariIndex = 0;
  if (wordCount > 0 && sentenceCount > 0) {
    // Flesch-Kincaid Grade Level
    fkGrade = 0.39 * (wordCount / sentenceCount) + 11.8 * (totalSyllables / wordCount) - 15.59;
    fkGrade = Math.max(0, Math.round(fkGrade * 10) / 10);

    // Coleman-Liau Index
    const L = (charNoSpace / wordCount) * 100; // avg letters per 100 words
    const S = (sentenceCount / wordCount) * 100; // avg sentences per 100 words
    clIndex = 0.0588 * L - 0.296 * S - 15.8;
    clIndex = Math.max(0, Math.round(clIndex * 10) / 10);

    // Automated Readability Index
    ariIndex = 4.71 * (charNoSpace / wordCount) + 0.5 * (wordCount / sentenceCount) - 21.43;
    ariIndex = Math.max(0, Math.round(ariIndex * 10) / 10);
  }
  const avgGradeVal = wordCount > 0 ? ((fkGrade + clIndex + ariIndex) / 3).toFixed(1) : '--';
  document.getElementById('fkGrade').textContent = wordCount > 0 ? fkGrade : '--';
  document.getElementById('clIndex').textContent = wordCount > 0 ? clIndex : '--';
  document.getElementById('ariIndex').textContent = wordCount > 0 ? ariIndex : '--';
  document.getElementById('avgGrade').textContent = avgGradeVal;

  let audience = '--';
  if (wordCount > 0) {
    const ag = parseFloat(avgGradeVal);
    if (ag <= 5) audience = 'Children';
    else if (ag <= 8) audience = 'Middle School';
    else if (ag <= 12) audience = 'High School';
    else if (ag <= 16) audience = 'College';
    else audience = 'Graduate+';
  }
  document.getElementById('targetAudience').textContent = audience;

  // Letter frequency
  const letterFreq = {};
  const lowerText = trimmed.toLowerCase();
  for (const ch of lowerText) {
    if (ch >= 'a' && ch <= 'z') {
      letterFreq[ch] = (letterFreq[ch] || 0) + 1;
    }
  }
  const letterSorted = Object.entries(letterFreq).sort((a, b) => b[1] - a[1]);
  let letterHTML = '';
  letterSorted.forEach(([letter, count]) => {
    letterHTML += `<div class="letter-item"><span class="lc">${letter.toUpperCase()}</span><span class="ln">${count}</span></div>`;
  });
  document.getElementById('letterGrid').innerHTML = letterHTML || '<div class="letter-item"><span class="lc">-</span><span class="ln">0</span></div>';

  // Store for export
  lastReport = `NexTool Word Counter Report\n${'='.repeat(40)}\n\nSTATISTICS\n  Words: ${wordCount}\n  Characters: ${charCount}\n  Characters (no spaces): ${charNoSpace}\n  Sentences: ${sentenceCount}\n  Paragraphs: ${paraCount}\n  Unique Words: ${uniqueCount}\n  Avg Word Length: ${avgWordLength}\n  Avg Sentence Length: ${avgSentLength}\n\nTIME ESTIMATES\n  Reading Time: ${readMin} min\n  Speaking Time: ${speakMin} min\n\nREADABILITY\n  Flesch-Kincaid Reading Ease: ${fleschScore} (${label})\n  Flesch-Kincaid Grade: ${fkGrade}\n  Coleman-Liau Index: ${clIndex}\n  Automated Readability: ${ariIndex}\n  Average Grade: ${avgGradeVal}\n  Target Audience: ${audience}\n\nTEXT STRUCTURE\n  Short Sentences (<10 words): ${shortSent}\n  Medium Sentences (10-20): ${medSent}\n  Long Sentences (>20): ${longSent}\n  Vocabulary Richness: ${vocabRichness}%\n\nTOP WORDS\n${sorted.map(([w,c]) => '  ' + w + ': ' + c).join('\n')}\n\nKEYWORD DENSITY\n${densitySorted.map(([w,c]) => '  ' + w + ': ' + ((c/wordCount)*100).toFixed(2) + '% (' + c + ')').join('\n')}\n\n---\nGenerated by NexTool Word Counter\nhttps://nextool.app/free-tools/word-counter.html`;
}

function resetStats() {
  ['wordCount','charCount','charNoSpace','sentenceCount','paraCount','uniqueWords'].forEach(id => document.getElementById(id).textContent = '0');
  document.getElementById('avgWordLen').textContent = '0';
  document.getElementById('avgSentLen').textContent = '0';
  document.getElementById('readTime').textContent = '0 min';
  document.getElementById('speakTime').textContent = '0 min';
  document.getElementById('readScore').textContent = '--';
  document.getElementById('readLabel').textContent = 'Enter text to analyze';
  document.getElementById('readBar').style.width = '0%';
  document.getElementById('topWordsList').innerHTML = '<p style="color:var(--text2);font-size:.85rem">Enter text to see top words</p>';
  document.getElementById('densityList').innerHTML = '<p style="color:var(--text2);font-size:.85rem">Enter text to see keyword density</p>';
}

function clearText() {
  document.getElementById('textInput').value = '';
  resetStats();
}

async function pasteFromClipboard() {
  try {
    const text = await navigator.clipboard.readText();
    document.getElementById('textInput').value = text;
    analyzeText();
  } catch(e) {
    alert('Clipboard access denied. Please paste manually with Ctrl+V.');
  }
}

function exportReport() {
  if (!lastReport) {
    analyzeText();
    if (!lastReport) { alert('Enter some text first.'); return; }
  }
  document.getElementById('exportContent').textContent = lastReport;
  document.getElementById('exportModal').classList.add('open');
}

function closeExport() { document.getElementById('exportModal').classList.remove('open'); }

function copyExport() {
  navigator.clipboard.writeText(lastReport).then(() => alert('Report copied to clipboard!'));
}

function downloadExport() {
  const blob = new Blob([lastReport], { type: 'text/plain' });
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = 'word-counter-report.txt';
  a.click();
  URL.revokeObjectURL(a.href);
}

const samples = {
  short: "The quick brown fox jumps over the lazy dog. This sentence contains every letter of the English alphabet. It has been used as a typing test since the late 1800s.",
  article: "Artificial intelligence is transforming the way we work and live. From healthcare to finance, AI applications are becoming increasingly prevalent in our daily routines. Machine learning algorithms can now analyze vast amounts of data to identify patterns that would be impossible for humans to detect. Natural language processing enables computers to understand and generate human language with remarkable accuracy. Computer vision systems can identify objects, faces, and scenes in images and videos. These technologies are not just theoretical concepts anymore. They are being deployed in real-world applications that affect millions of people every day. Self-driving cars use AI to navigate roads safely. Virtual assistants like Siri and Alexa rely on AI to understand voice commands. Email spam filters use machine learning to protect your inbox. The potential benefits of AI are enormous, but so are the challenges. Issues of bias, privacy, transparency, and accountability must be addressed as these technologies become more powerful. Researchers and policymakers around the world are working to develop frameworks that ensure AI is developed and deployed responsibly. The future of AI is both exciting and uncertain, but one thing is clear: it will continue to shape our world in profound ways.",
  technical: "The implementation leverages a microservices architecture with containerized deployment via Kubernetes orchestration. Each service communicates through asynchronous message queues utilizing RabbitMQ for inter-service communication and Redis for caching frequently accessed data. The authentication layer implements OAuth 2.0 with JWT tokens for stateless session management. Database sharding is employed across PostgreSQL instances to handle horizontal scaling requirements. The CI/CD pipeline automates testing, building, and deployment through GitHub Actions workflows. Infrastructure as Code is managed through Terraform configurations. Monitoring and observability are achieved through Prometheus metrics collection and Grafana dashboards.",
  simple: "I like cats. Cats are nice. They sleep a lot. They play with toys. My cat is orange. She likes to sit in the sun. I feed her every day. She purrs when she is happy. Cats are the best pets. I love my cat very much."
};

function loadSample(type) {
  document.getElementById('textInput').value = samples[type] || '';
  analyzeText();
}
</script>
<script defer src="/js/revenue.js"></script>
<script defer src="/js/lead-capture.js"></script>
<script defer src="/js/analytics-lite.js"></script>
</body>
</html>
