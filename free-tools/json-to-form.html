<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Free JSON to Form Generator — Convert JSON to HTML Forms | NexTool</title>
<meta name="description" content="Free online JSON to HTML form generator. Paste JSON or JSON Schema, auto-generate responsive HTML forms with validation. Bootstrap and Tailwind CSS support.">
<meta name="keywords" content="JSON to form, JSON to HTML form, form generator, JSON Schema form, Bootstrap form, Tailwind form, free online tool, NexTool">
<meta property="og:title" content="Free JSON to Form Generator | NexTool">
<meta property="og:description" content="Convert JSON or JSON Schema into clean HTML forms instantly. Bootstrap and Tailwind CSS support. 100% free.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://nextool.app/free-tools/json-to-form.html">
<meta property="og:image" content="https://nextool.app/assets/og-default.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<link rel="canonical" href="https://nextool.app/free-tools/json-to-form.html">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Free JSON to Form Generator | NexTool">
<meta name="twitter:description" content="Convert JSON to HTML forms instantly. Free online tool by NexTool.">
<meta name="robots" content="index, follow">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"SoftwareApplication","name":"NexTool JSON to Form Generator","applicationCategory":"DeveloperApplication","operatingSystem":"Web","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"description":"Free online JSON to HTML form generator with Bootstrap and Tailwind CSS class support."}
</script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#050508;--surface:#111118;--surface2:#1a1a24;--border:#2a2a3a;--text:#e4e4eb;--text2:#9494a8;--primary:#6366f1;--accent:#a855f7;--pink:#ec4899;--green:#22c55e;--red:#ef4444;--cyan:#22d3ee;--yellow:#eab308;--radius:12px;--glass:rgba(17,17,24,0.7)}
html{scroll-behavior:smooth}
body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);line-height:1.6;min-height:100vh;overflow-x:hidden}
/* NAV */
.nav{position:sticky;top:0;z-index:100;background:rgba(5,5,8,0.85);backdrop-filter:blur(20px);border-bottom:1px solid var(--border);padding:0 2rem;height:64px;display:flex;align-items:center;justify-content:space-between}
.nav-logo{font-size:1.4rem;font-weight:800;background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-decoration:none}
.nav-links{display:flex;align-items:center;gap:1.5rem}
.nav-links a{color:var(--text2);text-decoration:none;font-size:.875rem;font-weight:500;transition:color .2s}
.nav-links a:hover{color:var(--text)}
.nav-cta{background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff!important;padding:.5rem 1.2rem;border-radius:8px;font-weight:600;-webkit-text-fill-color:#fff!important}
.nav-cta:hover{opacity:.9}
.nav-toggle{display:none;background:none;border:none;color:var(--text);font-size:1.5rem;cursor:pointer}
/* HERO */
.hero{text-align:center;padding:3rem 1.5rem 2rem;max-width:700px;margin:0 auto}
.hero h1{font-size:2.2rem;font-weight:800;line-height:1.2;margin-bottom:.75rem}
.hero h1 span{background:linear-gradient(135deg,var(--primary),var(--accent),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hero p{color:var(--text2);font-size:1rem}
/* TOOL */
.tool-container{max-width:1200px;margin:0 auto;padding:0 1.5rem 3rem}
.toolbar{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1rem;align-items:center}
.toolbar button,.toolbar select{background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.45rem .9rem;border-radius:8px;font-size:.8rem;font-weight:500;cursor:pointer;transition:all .2s;font-family:inherit}
.toolbar button:hover{border-color:var(--primary);background:rgba(99,102,241,.12)}
.toolbar button.active{background:linear-gradient(135deg,var(--primary),var(--accent));border-color:transparent;color:#fff}
.toolbar select{appearance:none;padding-right:1.8rem;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%239494a8' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right .6rem center}
.status-bar{display:flex;align-items:center;gap:1rem;margin-bottom:1rem;font-size:.8rem;color:var(--text2)}
.status-dot{width:8px;height:8px;border-radius:50%;display:inline-block}
.status-dot.valid{background:var(--green)}
.status-dot.invalid{background:var(--red)}
.status-dot.empty{background:var(--border)}
.panels{display:grid;grid-template-columns:1fr 1fr;gap:1rem;min-height:500px}
.panel{background:var(--glass);backdrop-filter:blur(16px);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;display:flex;flex-direction:column}
.panel-header{padding:.6rem 1rem;border-bottom:1px solid var(--border);font-size:.8rem;font-weight:600;color:var(--text2);display:flex;justify-content:space-between;align-items:center;background:rgba(26,26,36,0.5)}
.panel-body{flex:1;position:relative;overflow:auto}
#jsonInput{width:100%;height:100%;min-height:400px;background:transparent;border:none;color:var(--text);font-family:'Courier New',monospace;font-size:.85rem;padding:1rem;resize:none;outline:none;line-height:1.7;tab-size:2}
#jsonInput::placeholder{color:var(--text2);opacity:.5}
.output-area{padding:1rem;font-family:'Courier New',monospace;font-size:.85rem;line-height:1.7;white-space:pre-wrap;word-break:break-all;min-height:400px}
/* SYNTAX HIGHLIGHTING */
.hl-tag{color:#c084fc}.hl-attr{color:var(--cyan)}.hl-str{color:#4ade80}.hl-bracket{color:var(--text2)}.hl-comment{color:#6b7280;font-style:italic}
/* TABS */
.output-tabs{display:flex;gap:0;border-bottom:1px solid var(--border)}
.output-tab{padding:.5rem 1rem;font-size:.75rem;font-weight:600;color:var(--text2);cursor:pointer;border:none;background:transparent;border-bottom:2px solid transparent;transition:all .2s;font-family:inherit}
.output-tab:hover{color:var(--text)}
.output-tab.active{color:var(--primary);border-bottom-color:var(--primary)}
.output-pane{display:none}
.output-pane.active{display:block}
/* PREVIEW */
.form-preview{padding:1.5rem;min-height:400px}
.form-preview form{font-family:'Inter',system-ui,sans-serif}
.form-preview .fp-group{margin-bottom:1rem}
.form-preview .fp-label{display:block;font-size:.8rem;font-weight:600;color:var(--text);margin-bottom:.35rem;text-transform:capitalize}
.form-preview .fp-required{color:var(--red);margin-left:2px}
.form-preview input[type="text"],.form-preview input[type="number"],.form-preview input[type="email"],.form-preview input[type="url"],.form-preview input[type="date"],.form-preview input[type="password"],.form-preview input[type="tel"],.form-preview textarea,.form-preview select{width:100%;padding:.5rem .75rem;background:var(--surface2);border:1px solid var(--border);border-radius:8px;color:var(--text);font-size:.85rem;font-family:inherit;outline:none;transition:border-color .2s}
.form-preview input:focus,.form-preview textarea:focus,.form-preview select:focus{border-color:var(--primary)}
.form-preview select{appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%239494a8' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right .6rem center;padding-right:2rem}
.form-preview .fp-check{display:flex;align-items:center;gap:.5rem}
.form-preview .fp-check input{width:18px;height:18px;accent-color:var(--primary)}
.form-preview .fp-fieldset{border:1px solid var(--border);border-radius:8px;padding:1rem;margin-bottom:1rem}
.form-preview .fp-legend{font-weight:700;font-size:.85rem;color:var(--primary);padding:0 .5rem}
.form-preview .fp-submit{display:inline-block;background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;padding:.6rem 1.5rem;border:none;border-radius:8px;font-weight:600;font-size:.85rem;cursor:pointer;font-family:inherit;transition:opacity .2s}
.form-preview .fp-submit:hover{opacity:.9}
/* ERROR */
.error-display{padding:1rem;color:var(--red);font-size:.85rem;font-family:'Courier New',monospace;white-space:pre-wrap}
.error-display .error-line{background:rgba(239,68,68,.1);border-left:3px solid var(--red);padding:.3rem .6rem;margin:.3rem 0;border-radius:4px}
/* OPTIONS ROW */
.options-row{display:flex;flex-wrap:wrap;gap:.75rem;margin-bottom:1rem;align-items:center}
.option-group{display:flex;align-items:center;gap:.4rem;font-size:.8rem;color:var(--text2)}
.option-group label{cursor:pointer;white-space:nowrap}
.option-group input[type="checkbox"]{width:14px;height:14px;accent-color:var(--primary)}
/* CTA */
.cta-section{text-align:center;padding:4rem 1.5rem;max-width:700px;margin:0 auto}
.cta-section h2{font-size:1.8rem;font-weight:800;margin-bottom:.75rem}
.cta-section h2 span{background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.cta-section p{color:var(--text2);margin-bottom:1.5rem}
.cta-btn{display:inline-block;background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;padding:.75rem 2rem;border-radius:10px;font-weight:700;text-decoration:none;font-size:1rem;transition:transform .2s,box-shadow .2s}
.cta-btn:hover{transform:translateY(-2px);box-shadow:0 8px 30px rgba(99,102,241,.3)}
/* FOOTER */
.footer{border-top:1px solid var(--border);padding:3rem 2rem 2rem;max-width:1200px;margin:0 auto}
.footer-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;margin-bottom:2rem}
.footer-col h4{font-size:.85rem;font-weight:700;margin-bottom:.75rem;color:var(--text)}
.footer-col a{display:block;color:var(--text2);text-decoration:none;font-size:.8rem;margin-bottom:.4rem;transition:color .2s}
.footer-col a:hover{color:var(--primary)}
.footer-bottom{text-align:center;color:var(--text2);font-size:.75rem;padding-top:1.5rem;border-top:1px solid var(--border)}
/* FADE IN */
.fade-in{opacity:0;transform:translateY(20px);transition:opacity .6s,transform .6s}
.fade-in.visible{opacity:1;transform:translateY(0)}
/* TOAST */
.toast{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%) translateY(80px);background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.6rem 1.2rem;border-radius:10px;font-size:.85rem;font-weight:500;z-index:200;transition:transform .3s;pointer-events:none}
.toast.show{transform:translateX(-50%) translateY(0)}
/* RESPONSIVE */
@media(max-width:768px){
  .panels{grid-template-columns:1fr}
  .nav-links{display:none;position:absolute;top:64px;left:0;right:0;background:var(--bg);border-bottom:1px solid var(--border);flex-direction:column;padding:1rem 2rem;gap:1rem}
  .nav-links.open{display:flex}
  .nav-toggle{display:block}
  .hero h1{font-size:1.6rem}
  .footer-grid{grid-template-columns:1fr}
  .toolbar{gap:.35rem}
  .options-row{gap:.5rem}
}
</style>
</head>
<body>

<nav class="nav">
  <a href="/" class="nav-logo">NexTool</a>
  <button class="nav-toggle" onclick="document.querySelector('.nav-links').classList.toggle('open')" aria-label="Menu">&#9776;</button>
  <div class="nav-links">
    <a href="/">Home</a>
    <a href="/free-tools/">Tools</a>
    <a href="/free-tools/">Free Tools</a>
    <a href="/blog/">Blog</a>
    <a href="/pro.html" class="nav-cta">Get Pro — $29</a>
  </div>
</nav>

<section class="hero fade-in">
  <h1>Free <span>JSON to Form</span> Generator</h1>
  <p class="tool-summary" style="color:#94a3b8;font-size:15px;line-height:1.6;margin-bottom:24px;max-width:700px;margin-left:auto;margin-right:auto;">Paste JSON data or JSON Schema and instantly generate clean, responsive HTML forms. Auto-detects field types, supports Bootstrap and Tailwind CSS classes, adds validation attributes, and provides a live preview. No signup required.</p>
</section>

<div class="tool-container fade-in">
  <div class="toolbar">
    <button onclick="generateForm()" title="Generate HTML form from JSON">Generate Form</button>
    <button onclick="copyOutput()" title="Copy generated HTML">Copy HTML</button>
    <button onclick="downloadHTML()" title="Download as .html file">Download</button>
    <select id="cssFramework" onchange="generateForm()" title="CSS Framework">
      <option value="plain">Plain HTML</option>
      <option value="bootstrap">Bootstrap 5</option>
      <option value="tailwind">Tailwind CSS</option>
    </select>
    <button onclick="clearAll()" title="Clear input and output">Clear</button>
    <button onclick="loadSample()" title="Load sample JSON">Sample</button>
    <button onclick="loadSchemaSample()" title="Load JSON Schema sample">Schema Sample</button>
  </div>

  <div class="options-row">
    <div class="option-group">
      <input type="checkbox" id="optLabels" checked>
      <label for="optLabels">Labels</label>
    </div>
    <div class="option-group">
      <input type="checkbox" id="optPlaceholders" checked>
      <label for="optPlaceholders">Placeholders</label>
    </div>
    <div class="option-group">
      <input type="checkbox" id="optRequired">
      <label for="optRequired">Required attrs</label>
    </div>
    <div class="option-group">
      <input type="checkbox" id="optSubmitBtn" checked>
      <label for="optSubmitBtn">Submit button</label>
    </div>
    <div class="option-group">
      <input type="checkbox" id="optIds" checked>
      <label for="optIds">ID attributes</label>
    </div>
    <div class="option-group">
      <input type="checkbox" id="optNames" checked>
      <label for="optNames">Name attributes</label>
    </div>
  </div>

  <div class="status-bar">
    <span><span class="status-dot empty" id="statusDot"></span></span>
    <span id="statusText">Paste JSON to begin</span>
    <span id="sizeInfo" style="margin-left:auto"></span>
  </div>

  <div class="panels">
    <div class="panel">
      <div class="panel-header"><span>JSON Input</span><span id="lineCount"></span></div>
      <div class="panel-body">
        <textarea id="jsonInput" placeholder='Paste JSON or JSON Schema here...&#10;&#10;Plain JSON example:&#10;{&#10;  "name": "John",&#10;  "email": "john@example.com",&#10;  "age": 25,&#10;  "subscribe": true&#10;}&#10;&#10;JSON Schema also supported.' spellcheck="false"></textarea>
      </div>
    </div>
    <div class="panel">
      <div class="panel-header">
        <div class="output-tabs">
          <button class="output-tab active" data-tab="code" onclick="switchTab('code')">HTML Code</button>
          <button class="output-tab" data-tab="preview" onclick="switchTab('preview')">Live Preview</button>
        </div>
        <span id="outputInfo"></span>
      </div>
      <div class="panel-body" id="outputPanel">
        <div class="output-pane active" id="codePane">
          <div class="output-area" id="formattedOutput"></div>
        </div>
        <div class="output-pane" id="previewPane">
          <div class="form-preview" id="formPreview"></div>
        </div>
        <div class="error-display" id="errorOutput" style="display:none"></div>
      </div>
    </div>
  </div>
</div>

<section class="cta-section fade-in">
  <h2>Need something <span>more powerful</span>?</h2>
  <p>Let us build it for you. Custom APIs, dashboards, automations &mdash; whatever you need.</p>
  <a href="/#contact" class="cta-btn">Start a Project &rarr;</a>
</section>

<!-- Cross Promo -->
<section style="max-width:900px;margin:40px auto;padding:0 24px;">
<div style="background:linear-gradient(135deg,rgba(99,102,241,0.1),rgba(168,85,247,0.08));border:1px solid rgba(99,102,241,0.15);border-radius:20px;padding:32px 28px;text-align:center;">
<div style="font-size:13px;color:#818cf8;font-weight:600;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;">Founding Member</div>
<h3 style="font-size:22px;font-weight:800;color:#fff;margin:0 0 8px;">Get NexTool Pro</h3>
<p style="color:#94a3b8;font-size:14px;margin:0 auto 20px;max-width:500px;">No banners, clean output, enhanced features on all 228+ tools. One-time payment.</p>
<div style="display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap;">
<a href="/pro.html" style="display:inline-block;padding:12px 28px;background:linear-gradient(135deg,#6366f1,#a855f7,#ec4899);color:#fff;border-radius:10px;font-weight:700;font-size:15px;text-decoration:none;">$29 — Get Pro</a>
<a href="/free-tools/" style="color:#94a3b8;font-size:14px;text-decoration:none;">Browse 228+ Free Tools &rarr;</a>
</div>
</div>
</section>


<!-- AUTO-LINKED by NexTool Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/box-shadow-generator.html" style="color:var(--primary);text-decoration:none">CSS Box Shadow Generator</a> · <a href="/free-tools/emoji-picker.html" style="color:var(--primary);text-decoration:none">Emoji Picker & Search</a> · <a href="/free-tools/favicon-generator.html" style="color:var(--primary);text-decoration:none">Favicon Generator</a></p>
</div>
<footer class="footer fade-in">
  <div class="footer-grid">
    <div class="footer-col">
      <h4>Products</h4>
      <a href="/free-tools/">228+ Free Tools</a>
<a href="/pro.html">NexTool Pro</a>
<a href="/workspace.html">Workspace</a>
    </div>
    <div class="footer-col">
      <h4>Explore</h4>
      <a href="/free-tools/">Free Tools</a><a href="/blog/">Blog</a><a href="/pro.html">FAQ</a><a href="/pro.html">Pro — $29</a>
    </div>
    <div class="footer-col">
      <h4>Ecosystem</h4>
      <a href="/">NexTool Home</a><a href="/#contact">Contact</a><a href="https://github.com/christian140903-sudo/nextool" target="_blank">GitHub</a>
    </div>
  </div>
  <div class="footer-bottom">&copy; 2026 NexTool. AI-powered tools for everyone.</div>
</footer>

<div class="toast" id="toast"></div>

<script>
const input = document.getElementById('jsonInput');
const formattedOutput = document.getElementById('formattedOutput');
const formPreview = document.getElementById('formPreview');
const errorOutput = document.getElementById('errorOutput');
const statusDot = document.getElementById('statusDot');
const statusText = document.getElementById('statusText');
const sizeInfo = document.getElementById('sizeInfo');
const lineCount = document.getElementById('lineCount');
const outputInfo = document.getElementById('outputInfo');
let lastHTML = '';

input.addEventListener('input', debounce(autoProcess, 400));
input.addEventListener('input', updateLineCount);

function debounce(fn, ms) { let t; return (...a) => { clearTimeout(t); t = setTimeout(() => fn(...a), ms); }; }

function updateLineCount() {
  const lines = input.value.split('\n').length;
  lineCount.textContent = lines + ' line' + (lines !== 1 ? 's' : '');
}

function switchTab(tab) {
  document.querySelectorAll('.output-tab').forEach(t => t.classList.toggle('active', t.dataset.tab === tab));
  document.getElementById('codePane').classList.toggle('active', tab === 'code');
  document.getElementById('previewPane').classList.toggle('active', tab === 'preview');
}

function autoProcess() {
  const raw = input.value.trim();
  if (!raw) {
    clearOutputs();
    statusDot.className = 'status-dot empty';
    statusText.textContent = 'Paste JSON to begin';
    sizeInfo.textContent = '';
    return;
  }
  sizeInfo.textContent = formatBytes(new Blob([raw]).size);
  try {
    JSON.parse(raw);
    statusDot.className = 'status-dot valid';
    statusText.textContent = 'Valid JSON';
    generateForm();
  } catch (e) {
    statusDot.className = 'status-dot invalid';
    statusText.textContent = 'Invalid JSON';
    showError(e, raw);
  }
}

/* Detect whether the input is a JSON Schema */
function isJsonSchema(obj) {
  return obj && typeof obj === 'object' && (
    obj.type === 'object' && obj.properties ||
    obj.$schema ||
    obj.type && obj.properties
  );
}

/* Convert a label key to a human-readable label */
function keyToLabel(key) {
  return key
    .replace(/([A-Z])/g, ' $1')
    .replace(/[_-]/g, ' ')
    .replace(/\b\w/g, c => c.toUpperCase())
    .trim();
}

/* Infer the HTML input type from a plain JSON value */
function inferType(value) {
  if (value === null || value === undefined) return { type: 'text' };
  if (typeof value === 'boolean') return { type: 'checkbox' };
  if (typeof value === 'number') return { type: 'number', step: Number.isInteger(value) ? '1' : 'any' };
  if (typeof value === 'string') {
    if (/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(value)) return { type: 'email' };
    if (/^https?:\/\//.test(value)) return { type: 'url' };
    if (/^\d{4}-\d{2}-\d{2}$/.test(value)) return { type: 'date' };
    if (/^\+?\d[\d\s\-()]{6,}$/.test(value)) return { type: 'tel' };
    if (value.length > 80) return { type: 'textarea' };
    return { type: 'text' };
  }
  if (Array.isArray(value)) return { type: 'select', options: value };
  if (typeof value === 'object') return { type: 'object', value: value };
  return { type: 'text' };
}

/* Map JSON Schema "type" + "format" to HTML input type */
function schemaTypeToInput(prop) {
  const t = prop.type;
  const f = prop.format || '';
  if (t === 'boolean') return 'checkbox';
  if (t === 'integer' || t === 'number') return 'number';
  if (t === 'string') {
    if (f === 'email') return 'email';
    if (f === 'uri' || f === 'url') return 'url';
    if (f === 'date' || f === 'date-time') return 'date';
    if (f === 'password') return 'password';
    if (f === 'phone' || f === 'tel') return 'tel';
    if (prop.maxLength && prop.maxLength > 200) return 'textarea';
    if (prop.enum) return 'select';
    return 'text';
  }
  if (t === 'array') return 'select';
  if (t === 'object') return 'fieldset';
  return 'text';
}

/* Build fields from plain JSON */
function fieldsFromJSON(obj) {
  const fields = [];
  for (const [key, value] of Object.entries(obj)) {
    const info = inferType(value);
    fields.push({
      key: key,
      label: keyToLabel(key),
      inputType: info.type,
      step: info.step || null,
      options: info.options || null,
      children: info.type === 'object' ? fieldsFromJSON(info.value) : null,
      placeholder: typeof value === 'string' ? value : null,
      defaultValue: typeof value === 'number' ? String(value) : null,
      required: false,
      constraints: {}
    });
  }
  return fields;
}

/* Build fields from JSON Schema */
function fieldsFromSchema(schema) {
  const fields = [];
  const props = schema.properties || {};
  const required = schema.required || [];
  for (const [key, prop] of Object.entries(props)) {
    const inputType = schemaTypeToInput(prop);
    const constraints = {};
    if (prop.minLength !== undefined) constraints.minlength = prop.minLength;
    if (prop.maxLength !== undefined) constraints.maxlength = prop.maxLength;
    if (prop.minimum !== undefined) constraints.min = prop.minimum;
    if (prop.maximum !== undefined) constraints.max = prop.maximum;
    if (prop.pattern) constraints.pattern = prop.pattern;
    if (prop.type === 'integer') constraints.step = '1';
    else if (prop.type === 'number') constraints.step = 'any';

    let children = null;
    if (inputType === 'fieldset' && prop.properties) {
      children = fieldsFromSchema(prop);
    }

    let options = null;
    if (prop.enum) {
      options = prop.enum;
    } else if (prop.type === 'array' && prop.items && prop.items.enum) {
      options = prop.items.enum;
    }

    fields.push({
      key: key,
      label: prop.title || keyToLabel(key),
      inputType: inputType,
      step: constraints.step || null,
      options: options,
      children: children,
      placeholder: prop.description || prop.examples?.[0] || null,
      defaultValue: prop.default !== undefined ? String(prop.default) : null,
      required: required.includes(key),
      constraints: constraints
    });
  }
  return fields;
}

/* Get option flags */
function getOpts() {
  return {
    labels: document.getElementById('optLabels').checked,
    placeholders: document.getElementById('optPlaceholders').checked,
    required: document.getElementById('optRequired').checked,
    submitBtn: document.getElementById('optSubmitBtn').checked,
    ids: document.getElementById('optIds').checked,
    names: document.getElementById('optNames').checked,
    framework: document.getElementById('cssFramework').value
  };
}

/* CSS class helpers */
function cls(fw, type) {
  const m = {
    bootstrap: {
      form: 'class="container mt-4"',
      group: 'class="mb-3"',
      label: 'class="form-label"',
      input: 'class="form-control"',
      select: 'class="form-select"',
      checkbox: 'class="form-check-input"',
      checkLabel: 'class="form-check-label"',
      checkWrap: 'class="form-check"',
      fieldset: '',
      legend: '',
      textarea: 'class="form-control"',
      submit: 'class="btn btn-primary"'
    },
    tailwind: {
      form: 'class="max-w-lg mx-auto p-6"',
      group: 'class="mb-4"',
      label: 'class="block text-sm font-medium text-gray-700 mb-1"',
      input: 'class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"',
      select: 'class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"',
      checkbox: 'class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"',
      checkLabel: 'class="ml-2 text-sm text-gray-700"',
      checkWrap: 'class="flex items-center"',
      fieldset: 'class="border border-gray-300 rounded-md p-4 mb-4"',
      legend: 'class="text-sm font-semibold text-indigo-600 px-2"',
      textarea: 'class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"',
      submit: 'class="px-6 py-2 bg-indigo-600 text-white font-semibold rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"'
    },
    plain: {
      form: '', group: '', label: '', input: '', select: '',
      checkbox: '', checkLabel: '', checkWrap: '', fieldset: '',
      legend: '', textarea: '', submit: ''
    }
  };
  return m[fw]?.[type] || '';
}

/* Generate HTML for a single field */
function fieldToHTML(field, opts, indent) {
  const sp = '  '.repeat(indent);
  const sp2 = '  '.repeat(indent + 1);
  const fw = opts.framework;
  let html = '';

  const idAttr = opts.ids ? ` id="${field.key}"` : '';
  const nameAttr = opts.names ? ` name="${field.key}"` : '';
  const reqAttr = (opts.required || field.required) ? ' required' : '';
  const phAttr = opts.placeholders && field.placeholder ? ` placeholder="${escapeAttr(String(field.placeholder))}"` : '';
  const valAttr = field.defaultValue !== null ? ` value="${escapeAttr(field.defaultValue)}"` : '';
  const c = (type) => { const v = cls(fw, type); return v ? ' ' + v : ''; };

  /* Constraints */
  let constr = '';
  if (field.constraints.minlength !== undefined) constr += ` minlength="${field.constraints.minlength}"`;
  if (field.constraints.maxlength !== undefined) constr += ` maxlength="${field.constraints.maxlength}"`;
  if (field.constraints.min !== undefined) constr += ` min="${field.constraints.min}"`;
  if (field.constraints.max !== undefined) constr += ` max="${field.constraints.max}"`;
  if (field.constraints.pattern) constr += ` pattern="${escapeAttr(field.constraints.pattern)}"`;
  if (field.constraints.step) constr += ` step="${field.constraints.step}"`;
  else if (field.step) constr += ` step="${field.step}"`;

  if (field.inputType === 'object' || field.inputType === 'fieldset') {
    html += sp + `<fieldset${c('fieldset')}>\n`;
    html += sp2 + `<legend${c('legend')}>${escapeHtml(field.label)}</legend>\n`;
    if (field.children) {
      for (const child of field.children) {
        html += fieldToHTML(child, opts, indent + 1);
      }
    }
    html += sp + `</fieldset>\n`;
  } else if (field.inputType === 'checkbox') {
    html += sp + `<div${c('checkWrap')}>\n`;
    html += sp2 + `<input type="checkbox"${idAttr}${nameAttr}${c('checkbox')}${reqAttr}${field.defaultValue === 'true' ? ' checked' : ''}>\n`;
    if (opts.labels) {
      html += sp2 + `<label${opts.ids ? ` for="${field.key}"` : ''}${c('checkLabel')}>${escapeHtml(field.label)}</label>\n`;
    }
    html += sp + `</div>\n`;
  } else if (field.inputType === 'select') {
    html += sp + `<div${c('group')}>\n`;
    if (opts.labels) {
      html += sp2 + `<label${opts.ids ? ` for="${field.key}"` : ''}${c('label')}>${escapeHtml(field.label)}${field.required ? ' <span style="color:red">*</span>' : ''}</label>\n`;
    }
    html += sp2 + `<select${idAttr}${nameAttr}${c('select')}${reqAttr}>\n`;
    if (field.options) {
      for (const opt of field.options) {
        const optStr = String(opt);
        html += sp2 + `  <option value="${escapeAttr(optStr)}">${escapeHtml(optStr)}</option>\n`;
      }
    }
    html += sp2 + `</select>\n`;
    html += sp + `</div>\n`;
  } else if (field.inputType === 'textarea') {
    html += sp + `<div${c('group')}>\n`;
    if (opts.labels) {
      html += sp2 + `<label${opts.ids ? ` for="${field.key}"` : ''}${c('label')}>${escapeHtml(field.label)}${field.required ? ' <span style="color:red">*</span>' : ''}</label>\n`;
    }
    html += sp2 + `<textarea${idAttr}${nameAttr}${c('textarea')} rows="4"${phAttr}${reqAttr}${constr}></textarea>\n`;
    html += sp + `</div>\n`;
  } else {
    html += sp + `<div${c('group')}>\n`;
    if (opts.labels) {
      html += sp2 + `<label${opts.ids ? ` for="${field.key}"` : ''}${c('label')}>${escapeHtml(field.label)}${field.required ? ' <span style="color:red">*</span>' : ''}</label>\n`;
    }
    html += sp2 + `<input type="${field.inputType}"${idAttr}${nameAttr}${c('input')}${phAttr}${valAttr}${reqAttr}${constr}>\n`;
    html += sp + `</div>\n`;
  }
  return html;
}

function generateForm() {
  const raw = input.value.trim();
  if (!raw) return;
  try {
    const obj = JSON.parse(raw);
    const opts = getOpts();
    const schema = isJsonSchema(obj);
    const fields = schema ? fieldsFromSchema(obj) : fieldsFromJSON(obj);
    const fw = opts.framework;
    const c = (type) => { const v = cls(fw, type); return v ? ' ' + v : ''; };

    let html = `<form${c('form')}>\n`;
    for (const field of fields) {
      html += fieldToHTML(field, opts, 1);
    }
    if (opts.submitBtn) {
      html += `  <button type="submit"${c('submit')}>Submit</button>\n`;
    }
    html += `</form>`;

    lastHTML = html;

    /* Show highlighted code */
    formattedOutput.innerHTML = highlightHTML(html);
    outputInfo.textContent = fields.length + ' field' + (fields.length !== 1 ? 's' : '');

    /* Show live preview */
    renderPreview(fields, opts);

    /* Hide error */
    errorOutput.style.display = 'none';
    document.getElementById('codePane').style.display = '';
    document.getElementById('previewPane').style.display = '';

    statusDot.className = 'status-dot valid';
    statusText.textContent = 'Valid JSON — ' + fields.length + ' fields detected' + (schema ? ' (Schema mode)' : '');
  } catch (e) {
    showError(e, raw);
  }
}

/* Render live preview using native DOM */
function renderPreview(fields, opts) {
  formPreview.innerHTML = '';
  const form = document.createElement('form');
  form.addEventListener('submit', e => e.preventDefault());

  function renderField(field, container) {
    if (field.inputType === 'object' || field.inputType === 'fieldset') {
      const fs = document.createElement('fieldset');
      fs.className = 'fp-fieldset';
      const leg = document.createElement('legend');
      leg.className = 'fp-legend';
      leg.textContent = field.label;
      fs.appendChild(leg);
      if (field.children) field.children.forEach(c => renderField(c, fs));
      container.appendChild(fs);
    } else if (field.inputType === 'checkbox') {
      const wrap = document.createElement('div');
      wrap.className = 'fp-group fp-check';
      const inp = document.createElement('input');
      inp.type = 'checkbox';
      if (field.defaultValue === 'true') inp.checked = true;
      wrap.appendChild(inp);
      if (opts.labels) {
        const lbl = document.createElement('label');
        lbl.textContent = field.label;
        lbl.className = 'fp-label';
        lbl.style.display = 'inline';
        lbl.style.marginBottom = '0';
        wrap.appendChild(lbl);
      }
      container.appendChild(wrap);
    } else if (field.inputType === 'select') {
      const wrap = document.createElement('div');
      wrap.className = 'fp-group';
      if (opts.labels) {
        const lbl = document.createElement('label');
        lbl.className = 'fp-label';
        lbl.innerHTML = field.label + (field.required ? '<span class="fp-required">*</span>' : '');
        wrap.appendChild(lbl);
      }
      const sel = document.createElement('select');
      if (field.options) {
        field.options.forEach(o => {
          const opt = document.createElement('option');
          opt.value = String(o);
          opt.textContent = String(o);
          sel.appendChild(opt);
        });
      }
      wrap.appendChild(sel);
      container.appendChild(wrap);
    } else if (field.inputType === 'textarea') {
      const wrap = document.createElement('div');
      wrap.className = 'fp-group';
      if (opts.labels) {
        const lbl = document.createElement('label');
        lbl.className = 'fp-label';
        lbl.innerHTML = field.label + (field.required ? '<span class="fp-required">*</span>' : '');
        wrap.appendChild(lbl);
      }
      const ta = document.createElement('textarea');
      ta.rows = 4;
      if (opts.placeholders && field.placeholder) ta.placeholder = field.placeholder;
      wrap.appendChild(ta);
      container.appendChild(wrap);
    } else {
      const wrap = document.createElement('div');
      wrap.className = 'fp-group';
      if (opts.labels) {
        const lbl = document.createElement('label');
        lbl.className = 'fp-label';
        lbl.innerHTML = field.label + (field.required ? '<span class="fp-required">*</span>' : '');
        wrap.appendChild(lbl);
      }
      const inp = document.createElement('input');
      inp.type = field.inputType;
      if (opts.placeholders && field.placeholder) inp.placeholder = field.placeholder;
      if (field.defaultValue !== null) inp.value = field.defaultValue;
      if (field.constraints.min !== undefined) inp.min = field.constraints.min;
      if (field.constraints.max !== undefined) inp.max = field.constraints.max;
      wrap.appendChild(inp);
      container.appendChild(wrap);
    }
  }

  fields.forEach(f => renderField(f, form));

  if (opts.submitBtn) {
    const btn = document.createElement('button');
    btn.type = 'submit';
    btn.className = 'fp-submit';
    btn.textContent = 'Submit';
    form.appendChild(btn);
  }

  formPreview.appendChild(form);
}

/* Highlight HTML output */
function highlightHTML(html) {
  let escaped = html.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
  /* Tags */
  escaped = escaped.replace(/&lt;(\/?)([\w-]+)/g, '&lt;$1<span class="hl-tag">$2</span>');
  /* Attributes */
  escaped = escaped.replace(/([\w-]+)(=)(&quot;|")/g, '<span class="hl-attr">$1</span>$2$3');
  /* Attribute values in quotes */
  escaped = escaped.replace(/=(&quot;|")(.*?)(&quot;|")/g, '=<span class="hl-str">"$2"</span>');
  return escaped;
}

function showError(e, raw) {
  const msg = e.message;
  let lineNum = null;
  const posMatch = msg.match(/position\s+(\d+)/i);
  if (posMatch) {
    const pos = parseInt(posMatch[1]);
    lineNum = raw.substring(0, pos).split('\n').length;
  }
  let html = '<strong>JSON Parse Error</strong>\n\n';
  html += '<div class="error-line">' + escapeHtml(msg) + '</div>\n';
  if (lineNum) {
    html += '\nError near line ' + lineNum + ':\n';
    const lines = raw.split('\n');
    const start = Math.max(0, lineNum - 3);
    const end = Math.min(lines.length, lineNum + 2);
    for (let i = start; i < end; i++) {
      const marker = i === lineNum - 1 ? ' >>> ' : '     ';
      html += '<span style="color:' + (i === lineNum - 1 ? 'var(--red)' : 'var(--text2)') + '">' + marker + (i + 1) + ' | ' + escapeHtml(lines[i]) + '</span>\n';
    }
  }
  errorOutput.innerHTML = html;
  errorOutput.style.display = '';
  document.getElementById('codePane').classList.remove('active');
  document.getElementById('previewPane').classList.remove('active');
}

function escapeHtml(s) { return s.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;'); }
function escapeAttr(s) { return s.replace(/&/g, '&amp;').replace(/"/g, '&quot;').replace(/</g, '&lt;').replace(/>/g, '&gt;'); }

function clearOutputs() {
  formattedOutput.innerHTML = '';
  formPreview.innerHTML = '';
  errorOutput.innerHTML = '';
  errorOutput.style.display = 'none';
  outputInfo.textContent = '';
  lastHTML = '';
}

function clearAll() {
  input.value = '';
  clearOutputs();
  statusDot.className = 'status-dot empty';
  statusText.textContent = 'Paste JSON to begin';
  sizeInfo.textContent = '';
  lineCount.textContent = '';
}

function copyOutput() {
  if (!lastHTML) { showToast('Nothing to copy'); return; }
  navigator.clipboard.writeText(lastHTML).then(() => showToast('HTML copied to clipboard'));
}

function downloadHTML() {
  if (!lastHTML) { showToast('No form generated yet'); return; }
  const blob = new Blob([lastHTML], { type: 'text/html' });
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = 'form.html';
  a.click();
  URL.revokeObjectURL(a.href);
  showToast('Downloaded form.html');
}

function loadSample() {
  input.value = JSON.stringify({
    "firstName": "John",
    "lastName": "Doe",
    "email": "john@example.com",
    "phone": "+1 555-0123",
    "age": 30,
    "website": "https://example.com",
    "bio": "Full-stack developer with 10 years of experience building web applications and APIs for enterprise clients.",
    "role": ["Developer", "Designer", "Manager", "Marketing"],
    "subscribe": true,
    "startDate": "2026-01-15",
    "address": {
      "street": "123 Main St",
      "city": "New York",
      "zip": "10001"
    }
  }, null, 2);
  updateLineCount();
  autoProcess();
}

function loadSchemaSample() {
  input.value = JSON.stringify({
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "required": ["name", "email", "age"],
    "properties": {
      "name": {
        "type": "string",
        "title": "Full Name",
        "minLength": 2,
        "maxLength": 100,
        "description": "Enter your full name"
      },
      "email": {
        "type": "string",
        "format": "email",
        "title": "Email Address",
        "description": "your@email.com"
      },
      "age": {
        "type": "integer",
        "title": "Age",
        "minimum": 18,
        "maximum": 120
      },
      "website": {
        "type": "string",
        "format": "uri",
        "title": "Website URL"
      },
      "role": {
        "type": "string",
        "title": "Role",
        "enum": ["Developer", "Designer", "Manager", "QA", "DevOps"]
      },
      "newsletter": {
        "type": "boolean",
        "title": "Subscribe to Newsletter",
        "default": true
      },
      "bio": {
        "type": "string",
        "title": "Biography",
        "maxLength": 500,
        "description": "Tell us about yourself"
      },
      "address": {
        "type": "object",
        "title": "Address",
        "properties": {
          "street": { "type": "string", "title": "Street" },
          "city": { "type": "string", "title": "City" },
          "zip": { "type": "string", "title": "ZIP Code", "pattern": "^\\d{5}(-\\d{4})?$" }
        }
      }
    }
  }, null, 2);
  updateLineCount();
  autoProcess();
}

function formatBytes(bytes) {
  if (bytes === 0) return '0 B';
  const k = 1024, sizes = ['B', 'KB', 'MB'];
  const i = Math.floor(Math.log(bytes) / Math.log(k));
  return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];
}

function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2000);
}

/* Tab key support */
input.addEventListener('keydown', e => {
  if (e.key === 'Tab') {
    e.preventDefault();
    const start = input.selectionStart, end = input.selectionEnd;
    input.value = input.value.substring(0, start) + '  ' + input.value.substring(end);
    input.selectionStart = input.selectionEnd = start + 2;
  }
});

/* Re-generate when options change */
document.querySelectorAll('.options-row input[type="checkbox"]').forEach(cb => {
  cb.addEventListener('change', () => { if (input.value.trim()) generateForm(); });
});

/* IntersectionObserver fade-in */
const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('visible'); observer.unobserve(entry.target); }});
}, { threshold: 0.1 });
document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
</script>
<script src="/js/analytics-lite.js" defer></script>
<script src="/js/revenue.js" defer></script>
<script src="/js/lead-capture.js" defer></script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What does the JSON to Form generator do?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "It takes JSON data or a JSON Schema as input and automatically generates clean HTML form markup. It detects field types from values (strings become text inputs, numbers become number inputs, booleans become checkboxes, arrays become select dropdowns, and nested objects become fieldsets)."
      }
    },
    {
      "@type": "Question",
      "name": "Does it support JSON Schema?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, the tool auto-detects JSON Schema input and uses its type definitions, format hints, constraints (minLength, maxLength, minimum, maximum, pattern), required fields, enum values, and titles to generate more accurate forms with proper validation attributes."
      }
    },
    {
      "@type": "Question",
      "name": "Can I generate Bootstrap or Tailwind forms?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, you can choose between Plain HTML, Bootstrap 5, and Tailwind CSS from the dropdown. The generator adds the appropriate CSS classes to all form elements automatically."
      }
    },
    {
      "@type": "Question",
      "name": "Is this tool free to use?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, the JSON to Form generator is completely free. It runs entirely in your browser with no server calls, no signup, and no data collection. Your JSON never leaves your device."
      }
    }
  ]
}
</script>
</body>
</html>
