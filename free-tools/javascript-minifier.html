<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>JavaScript Minifier & Beautifier — Free Online Tool | NexTool</title>
<meta name="description" content="Minify or beautify JavaScript code instantly. Remove whitespace, comments, shorten code. Free online JS minifier with compression ratio and syntax highlighting.">
<meta name="keywords" content="javascript minifier, js beautifier, minify js online, compress javascript, code formatter, uglify js">
<meta name="author" content="NexTool">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://nextool.app/free-tools/javascript-minifier.html">
<meta property="og:title" content="JavaScript Minifier & Beautifier — Free Online Tool | NexTool">
<meta property="og:description" content="Minify or beautify JavaScript code instantly. Remove whitespace, comments, shorten code with compression stats.">
<meta property="og:image" content="https://nextool.app/assets/img/tools/javascript-minifier-og.png">
<meta property="og:url" content="https://nextool.app/free-tools/javascript-minifier.html">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="JavaScript Minifier & Beautifier — Free Online Tool | NexTool">
<meta name="twitter:description" content="Minify or beautify JavaScript code instantly. Free with compression stats.">
<meta name="twitter:image" content="https://nextool.app/assets/img/tools/javascript-minifier-og.png">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"BreadcrumbList",
  "itemListElement":[
    {"@type":"ListItem","position":1,"name":"Home","item":"https://nextool.app/"},
    {"@type":"ListItem","position":2,"name":"Free Tools","item":"https://nextool.app/free-tools/"},
    {"@type":"ListItem","position":3,"name":"JavaScript Minifier","item":"https://nextool.app/free-tools/javascript-minifier.html"}
  ]
}
</script>
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"FAQPage",
  "mainEntity":[
    {"@type":"Question","name":"What does a JavaScript minifier do?","acceptedAnswer":{"@type":"Answer","text":"A JavaScript minifier removes unnecessary characters from your code — whitespace, comments, and line breaks — to reduce file size without changing functionality. This makes your website load faster."}},
    {"@type":"Question","name":"Is minified JavaScript safe to use in production?","acceptedAnswer":{"@type":"Answer","text":"Yes. Minified JavaScript is standard practice for production deployments. It reduces bandwidth usage and improves page load times. Always keep your original source files for development."}},
    {"@type":"Question","name":"What is the difference between minify and beautify?","acceptedAnswer":{"@type":"Answer","text":"Minify compresses code by removing whitespace and comments to reduce file size. Beautify does the opposite — it formats compressed code with proper indentation and spacing to make it human-readable."}}
  ]
}
</script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
:root{--bg:#050508;--surface:#111118;--primary:#6366f1;--accent:#a855f7;--text:#e2e8f0;--text2:#94a3b8;--border:rgba(255,255,255,0.06);--radius:16px;}
body{font-family:'Inter',system-ui,-apple-system,sans-serif;background:var(--bg);color:var(--text);min-height:100vh;line-height:1.6;-webkit-font-smoothing:antialiased;}
a{color:var(--primary);text-decoration:none;}
a:hover{color:#818cf8;}

/* Nav */
.nav{position:sticky;top:0;z-index:100;background:rgba(5,5,8,0.85);backdrop-filter:blur(20px);border-bottom:1px solid var(--border);padding:0 24px;}
.nav-inner{max-width:1100px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;height:60px;}
.nav-logo{font-size:20px;font-weight:800;color:#fff;letter-spacing:-0.5px;}
.nav-logo span{background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.nav-links{display:flex;gap:24px;align-items:center;}
.nav-links a{color:var(--text2);font-size:14px;font-weight:500;transition:color .2s;}
.nav-links a:hover{color:#fff;}

/* Hero */
.hero{text-align:center;padding:56px 24px 32px;max-width:700px;margin:0 auto;}
.hero-badge{display:inline-block;padding:6px 14px;border-radius:20px;font-size:12px;font-weight:600;color:var(--primary);background:rgba(99,102,241,0.1);border:1px solid rgba(99,102,241,0.2);margin-bottom:16px;letter-spacing:0.5px;text-transform:uppercase;}
.hero h1{font-size:clamp(28px,5vw,42px);font-weight:900;letter-spacing:-1px;line-height:1.15;margin-bottom:12px;}
.hero h1 span{background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.hero p{color:var(--text2);font-size:16px;max-width:520px;margin:0 auto;}

/* Tool Container */
.tool{max-width:1100px;margin:0 auto;padding:0 24px 40px;}
.controls{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:16px;align-items:center;}
.btn{display:inline-flex;align-items:center;gap:6px;padding:10px 20px;border:none;border-radius:10px;font-family:inherit;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s;}
.btn-primary{background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;}
.btn-primary:hover{opacity:0.9;transform:translateY(-1px);}
.btn-secondary{background:rgba(255,255,255,0.06);color:var(--text);border:1px solid var(--border);}
.btn-secondary:hover{background:rgba(255,255,255,0.1);}
.btn-sm{padding:7px 14px;font-size:13px;border-radius:8px;}
.spacer{flex:1;}

/* Stats */
.stats-bar{display:flex;gap:20px;flex-wrap:wrap;margin-bottom:16px;padding:12px 16px;background:var(--surface);border:1px solid var(--border);border-radius:12px;}
.stat{display:flex;flex-direction:column;}
.stat-label{font-size:11px;color:var(--text2);text-transform:uppercase;letter-spacing:0.5px;font-weight:600;}
.stat-value{font-size:16px;font-weight:700;color:#fff;}
.stat-value.good{color:#22c55e;}
.stat-value.warn{color:#f59e0b;}

/* Editor Grid */
.editor-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px;}
@media(max-width:768px){.editor-grid{grid-template-columns:1fr;}}
.editor-panel{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;display:flex;flex-direction:column;}
.editor-header{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid var(--border);background:rgba(255,255,255,0.02);}
.editor-title{font-size:13px;font-weight:700;color:var(--text);text-transform:uppercase;letter-spacing:0.5px;}
.editor-actions{display:flex;gap:6px;}
.editor-body{position:relative;flex:1;min-height:380px;}
.line-numbers{position:absolute;left:0;top:0;bottom:0;width:44px;background:rgba(0,0,0,0.3);padding:14px 8px;text-align:right;font-family:'SF Mono',Monaco,Consolas,'Courier New',monospace;font-size:13px;line-height:1.6;color:rgba(148,163,184,0.4);user-select:none;overflow:hidden;border-right:1px solid var(--border);}
.code-area{width:100%;height:100%;min-height:380px;background:transparent;color:var(--text);border:none;outline:none;resize:none;font-family:'SF Mono',Monaco,Consolas,'Courier New',monospace;font-size:13px;line-height:1.6;padding:14px 14px 14px 56px;tab-size:2;}
.code-area::placeholder{color:rgba(148,163,184,0.3);}
.code-area:focus{box-shadow:inset 0 0 0 1px rgba(99,102,241,0.3);}

/* Toast */
.toast{position:fixed;bottom:24px;right:24px;background:#22c55e;color:#fff;padding:12px 20px;border-radius:10px;font-size:14px;font-weight:600;opacity:0;transform:translateY(10px);transition:all .3s;z-index:999;pointer-events:none;}
.toast.show{opacity:1;transform:translateY(0);}

/* FAQ */
.faq{max-width:800px;margin:40px auto;padding:0 24px;}
.faq h2{font-size:24px;font-weight:800;margin-bottom:20px;text-align:center;}
.faq-item{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);margin-bottom:12px;overflow:hidden;}
.faq-q{padding:16px 20px;font-weight:600;cursor:pointer;display:flex;justify-content:space-between;align-items:center;transition:background .2s;}
.faq-q:hover{background:rgba(255,255,255,0.03);}
.faq-q::after{content:'+';font-size:20px;color:var(--text2);transition:transform .3s;}
.faq-q.open::after{transform:rotate(45deg);}
.faq-a{padding:0 20px;max-height:0;overflow:hidden;transition:all .3s;color:var(--text2);font-size:14px;line-height:1.7;}
.faq-a.open{padding:0 20px 16px;max-height:300px;}

/* Footer */
.footer{border-top:1px solid var(--border);padding:32px 24px;text-align:center;color:var(--text2);font-size:13px;margin-top:40px;}
.footer-links{display:flex;justify-content:center;gap:24px;margin-bottom:12px;flex-wrap:wrap;}
.footer-links a{color:var(--text2);font-weight:500;transition:color .2s;}
.footer-links a:hover{color:#fff;}
</style>
</head>
<body>

<!-- Nav -->
<nav class="nav">
<div class="nav-inner">
<a href="/" class="nav-logo">Nex<span>Tool</span></a>
<div class="nav-links">
<a href="/free-tools/">Free Tools</a>
<a href="/products/">Products</a>
<a href="/blog/">Blog</a>
</div>
</div>
</nav>

<!-- Hero -->
<section class="hero">
<div class="hero-badge">Free Developer Tool</div>
<h1>JavaScript <span>Minifier</span> & Beautifier</h1>
<p>Compress your JavaScript to reduce file size or beautify minified code for readability. Instant results with compression stats.</p>
</section>

<!-- Tool -->
<section class="tool">
<div class="controls">
<button class="btn btn-primary" onclick="minifyCode()">Minify</button>
<button class="btn btn-secondary" onclick="beautifyCode()">Beautify</button>
<button class="btn btn-secondary" onclick="loadSample()">Load Sample</button>
<span class="spacer"></span>
<button class="btn btn-secondary btn-sm" onclick="clearAll()">Clear</button>
</div>

<div class="stats-bar" id="statsBar" style="display:none;">
<div class="stat"><span class="stat-label">Original</span><span class="stat-value" id="origSize">—</span></div>
<div class="stat"><span class="stat-label">Output</span><span class="stat-value" id="outSize">—</span></div>
<div class="stat"><span class="stat-label">Saved</span><span class="stat-value good" id="savedSize">—</span></div>
<div class="stat"><span class="stat-label">Ratio</span><span class="stat-value good" id="ratio">—</span></div>
</div>

<div class="editor-grid">
<div class="editor-panel">
<div class="editor-header">
<span class="editor-title">Input</span>
<div class="editor-actions">
<button class="btn btn-secondary btn-sm" onclick="pasteClipboard()">Paste</button>
</div>
</div>
<div class="editor-body">
<div class="line-numbers" id="linesInput">1</div>
<textarea class="code-area" id="inputCode" placeholder="Paste your JavaScript code here..." spellcheck="false" oninput="updateLines('inputCode','linesInput')"></textarea>
</div>
</div>
<div class="editor-panel">
<div class="editor-header">
<span class="editor-title">Output</span>
<div class="editor-actions">
<button class="btn btn-secondary btn-sm" onclick="copyOutput()">Copy</button>
<button class="btn btn-secondary btn-sm" onclick="downloadOutput()">Download</button>
</div>
</div>
<div class="editor-body">
<div class="line-numbers" id="linesOutput">1</div>
<textarea class="code-area" id="outputCode" placeholder="Minified or beautified output will appear here..." spellcheck="false" readonly oninput="updateLines('outputCode','linesOutput')"></textarea>
</div>
</div>
</div>
</section>

<!-- FAQ -->
<section class="faq">
<h2>Frequently Asked Questions</h2>
<div class="faq-item">
<div class="faq-q" onclick="toggleFaq(this)">What does a JavaScript minifier do?</div>
<div class="faq-a">A JavaScript minifier removes unnecessary characters from your code — whitespace, comments, and line breaks — to reduce file size without changing functionality. This makes your website load faster and reduces bandwidth costs.</div>
</div>
<div class="faq-item">
<div class="faq-q" onclick="toggleFaq(this)">Is minified JavaScript safe to use in production?</div>
<div class="faq-a">Yes. Minified JavaScript is standard practice for production deployments. It reduces bandwidth usage and improves page load times. Always keep your original source files for development and debugging purposes.</div>
</div>
<div class="faq-item">
<div class="faq-q" onclick="toggleFaq(this)">What is the difference between minify and beautify?</div>
<div class="faq-a">Minify compresses code by removing whitespace and comments to reduce file size. Beautify does the opposite — it formats compressed code with proper indentation, line breaks, and spacing to make it human-readable and easier to debug.</div>
</div>
</section>

<!-- Bundle Cross-Promo -->
<section style="max-width:900px;margin:40px auto;padding:0 24px;">
<div style="background:linear-gradient(135deg,rgba(99,102,241,0.1),rgba(168,85,247,0.08));border:1px solid rgba(99,102,241,0.15);border-radius:20px;padding:32px 28px;text-align:center;">
<div style="font-size:13px;color:#818cf8;font-weight:600;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;">Save 37%</div>
<h3 style="font-size:22px;font-weight:800;color:#fff;margin:0 0 8px;">Get the Ultimate Bundle</h3>
<p style="color:#94a3b8;font-size:14px;margin:0 auto 20px;max-width:500px;">Website Kit + Automation Bundle + Content Toolkit — everything you need to launch.</p>
<a href="/products/ultimate-bundle.html" style="display:inline-block;padding:12px 28px;background:linear-gradient(135deg,#6366f1,#a855f7);color:#fff;text-decoration:none;border-radius:12px;font-weight:700;font-size:15px;">$39 — Get Bundle</a>
<a href="/free-tools/" style="display:inline-block;margin-left:12px;color:#818cf8;text-decoration:none;font-size:14px;">Browse 59+ Free Tools &rarr;</a>
</div>
</section>

<!-- Footer -->
<footer class="footer">
<div class="footer-links">
<a href="/">Home</a>
<a href="/free-tools/">Free Tools</a>
<a href="/products/">Products</a>
<a href="/blog/">Blog</a>
</div>
<p>&copy; 2026 NexTool. All rights reserved.</p>
</footer>

<!-- Toast -->
<div class="toast" id="toast"></div>

<script>
/* ========== Line Numbers ========== */
function updateLines(taId, lnId) {
  const ta = document.getElementById(taId);
  const ln = document.getElementById(lnId);
  const count = ta.value.split('\n').length;
  let html = '';
  for (let i = 1; i <= count; i++) html += i + '\n';
  ln.textContent = html;
  ln.scrollTop = ta.scrollTop;
}
document.getElementById('inputCode').addEventListener('scroll', function() {
  document.getElementById('linesInput').scrollTop = this.scrollTop;
});
document.getElementById('outputCode').addEventListener('scroll', function() {
  document.getElementById('linesOutput').scrollTop = this.scrollTop;
});

/* ========== Minifier ========== */
function minifyCode() {
  const input = document.getElementById('inputCode').value;
  if (!input.trim()) { showToast('Please enter some JavaScript code.', '#ef4444'); return; }
  try {
    let code = input;
    /* Remove single-line comments (but not URLs like http://) */
    code = code.replace(/([^:"\/'\\])\/\/.*$/gm, '$1');
    /* Remove multi-line comments */
    code = code.replace(/\/\*[\s\S]*?\*\//g, '');
    /* Preserve strings — replace temporarily */
    const strings = [];
    code = code.replace(/(["'`])(?:(?!\1|\\).|\\.)*\1/g, function(match) {
      strings.push(match);
      return '___STR' + (strings.length - 1) + '___';
    });
    /* Preserve regex literals */
    const regexes = [];
    code = code.replace(/\/(?![*\/])(?:\\.|\[(?:\\.|[^\]])*\]|[^\\\/\n])+\/[gimsuy]*/g, function(match) {
      regexes.push(match);
      return '___RGX' + (regexes.length - 1) + '___';
    });
    /* Remove whitespace around operators */
    code = code.replace(/\s*([{}();\[\]:,=+\-*/<>!&|?^~%])\s*/g, '$1');
    /* Remove leading/trailing whitespace per line */
    code = code.replace(/^\s+|\s+$/gm, '');
    /* Collapse multiple spaces */
    code = code.replace(/\s{2,}/g, ' ');
    /* Remove empty lines */
    code = code.replace(/\n{2,}/g, '\n');
    /* Remove newlines where safe */
    code = code.replace(/\n/g, '');
    /* Restore necessary spaces around keywords */
    const keywords = ['var','let','const','function','return','typeof','instanceof',
      'new','delete','throw','in','of','if','else','for','while','do','switch',
      'case','break','continue','class','extends','import','export','from','default',
      'try','catch','finally','async','await','yield','void','static','get','set'];
    keywords.forEach(function(kw) {
      const re1 = new RegExp('\\b' + kw + '(?=[a-zA-Z_$0-9])', 'g');
      code = code.replace(re1, kw + ' ');
      const re2 = new RegExp('([a-zA-Z_$0-9])' + kw + '\\b', 'g');
      code = code.replace(re2, '$1 ' + kw);
    });
    /* Restore strings */
    code = code.replace(/___STR(\d+)___/g, function(_, i) { return strings[parseInt(i)]; });
    code = code.replace(/___RGX(\d+)___/g, function(_, i) { return regexes[parseInt(i)]; });
    /* Fix semicolons before closing braces */
    code = code.replace(/;}/g, ';}');
    setOutput(code, input);
    showToast('JavaScript minified successfully!', '#22c55e');
  } catch (e) {
    showToast('Error: ' + e.message, '#ef4444');
  }
}

/* ========== Beautifier ========== */
function beautifyCode() {
  const input = document.getElementById('inputCode').value;
  if (!input.trim()) { showToast('Please enter some JavaScript code.', '#ef4444'); return; }
  try {
    let code = input.trim();
    /* Preserve strings */
    const strings = [];
    code = code.replace(/(["'`])(?:(?!\1|\\).|\\.)*\1/g, function(match) {
      strings.push(match);
      return '___STR' + (strings.length - 1) + '___';
    });
    let result = '';
    let indent = 0;
    const tab = '  ';
    let i = 0;
    let newline = true;
    function addIndent() {
      if (newline) { result += tab.repeat(indent); newline = false; }
    }
    while (i < code.length) {
      const ch = code[i];
      if (ch === '{') {
        addIndent();
        result += ' {\n';
        indent++;
        newline = true;
        i++;
      } else if (ch === '}') {
        indent = Math.max(0, indent - 1);
        if (!newline) result += '\n';
        newline = true;
        addIndent();
        result += '}';
        if (i + 1 < code.length && code[i + 1] !== ';' && code[i + 1] !== ',' && code[i + 1] !== ')') {
          result += '\n';
          newline = true;
        }
        i++;
      } else if (ch === ';') {
        addIndent();
        result += ';\n';
        newline = true;
        i++;
      } else if (ch === ',' && indent > 0) {
        addIndent();
        result += ',\n';
        newline = true;
        i++;
      } else if (ch === '\n') {
        if (!newline) { result += '\n'; newline = true; }
        i++;
      } else if (ch === ' ' || ch === '\t') {
        if (!newline) result += ch;
        i++;
      } else {
        addIndent();
        result += ch;
        i++;
      }
    }
    /* Restore strings */
    result = result.replace(/___STR(\d+)___/g, function(_, idx) { return strings[parseInt(idx)]; });
    /* Clean up extra blank lines */
    result = result.replace(/\n{3,}/g, '\n\n');
    setOutput(result, input);
    showToast('JavaScript beautified successfully!', '#22c55e');
  } catch (e) {
    showToast('Error: ' + e.message, '#ef4444');
  }
}

/* ========== Helpers ========== */
function setOutput(output, input) {
  document.getElementById('outputCode').value = output;
  updateLines('outputCode', 'linesOutput');
  /* Stats */
  const origBytes = new Blob([input]).size;
  const outBytes = new Blob([output]).size;
  const saved = origBytes - outBytes;
  const pct = origBytes > 0 ? ((saved / origBytes) * 100).toFixed(1) : 0;
  document.getElementById('origSize').textContent = formatBytes(origBytes);
  document.getElementById('outSize').textContent = formatBytes(outBytes);
  document.getElementById('savedSize').textContent = (saved >= 0 ? '-' : '+') + formatBytes(Math.abs(saved));
  document.getElementById('ratio').textContent = (saved >= 0 ? '-' : '+') + Math.abs(pct) + '%';
  const ratioEl = document.getElementById('ratio');
  const savedEl = document.getElementById('savedSize');
  if (saved >= 0) {
    ratioEl.className = 'stat-value good'; savedEl.className = 'stat-value good';
  } else {
    ratioEl.className = 'stat-value warn'; savedEl.className = 'stat-value warn';
  }
  document.getElementById('statsBar').style.display = 'flex';
}

function formatBytes(b) {
  if (b < 1024) return b + ' B';
  if (b < 1048576) return (b / 1024).toFixed(1) + ' KB';
  return (b / 1048576).toFixed(2) + ' MB';
}

function copyOutput() {
  const text = document.getElementById('outputCode').value;
  if (!text) { showToast('Nothing to copy.', '#ef4444'); return; }
  navigator.clipboard.writeText(text).then(function() { showToast('Copied to clipboard!', '#22c55e'); });
}

function downloadOutput() {
  const text = document.getElementById('outputCode').value;
  if (!text) { showToast('Nothing to download.', '#ef4444'); return; }
  const blob = new Blob([text], { type: 'application/javascript' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url; a.download = 'output.min.js';
  document.body.appendChild(a); a.click(); document.body.removeChild(a);
  URL.revokeObjectURL(url);
  showToast('File downloaded!', '#22c55e');
}

async function pasteClipboard() {
  try {
    const text = await navigator.clipboard.readText();
    document.getElementById('inputCode').value = text;
    updateLines('inputCode', 'linesInput');
    showToast('Pasted from clipboard!', '#22c55e');
  } catch (e) {
    showToast('Cannot access clipboard.', '#ef4444');
  }
}

function clearAll() {
  document.getElementById('inputCode').value = '';
  document.getElementById('outputCode').value = '';
  updateLines('inputCode', 'linesInput');
  updateLines('outputCode', 'linesOutput');
  document.getElementById('statsBar').style.display = 'none';
}

function loadSample() {
  const sample = `/**
 * NexTool - Sample JavaScript Code
 * This demonstrates various ES6+ features
 */

// Constants and configuration
const API_BASE_URL = 'https://api.nextool.app/v1';
const MAX_RETRIES = 3;
const TIMEOUT_MS = 5000;

// Utility class for HTTP requests
class HttpClient {
  constructor(baseUrl, options = {}) {
    this.baseUrl = baseUrl;
    this.headers = {
      'Content-Type': 'application/json',
      ...options.headers
    };
    this.retries = options.retries || MAX_RETRIES;
  }

  async get(endpoint) {
    return this._request('GET', endpoint);
  }

  async post(endpoint, data) {
    return this._request('POST', endpoint, data);
  }

  async _request(method, endpoint, body = null) {
    const url = \`\${this.baseUrl}\${endpoint}\`;
    let lastError;

    for (let attempt = 0; attempt < this.retries; attempt++) {
      try {
        const response = await fetch(url, {
          method,
          headers: this.headers,
          body: body ? JSON.stringify(body) : null,
          signal: AbortSignal.timeout(TIMEOUT_MS)
        });

        if (!response.ok) {
          throw new Error(\`HTTP \${response.status}: \${response.statusText}\`);
        }

        return await response.json();
      } catch (error) {
        lastError = error;
        console.warn(\`Attempt \${attempt + 1} failed:\`, error.message);
        // Exponential backoff
        await new Promise(resolve =>
          setTimeout(resolve, Math.pow(2, attempt) * 1000)
        );
      }
    }

    throw lastError;
  }
}

// Array utilities
const arrayUtils = {
  unique: (arr) => [...new Set(arr)],
  chunk: (arr, size) => {
    const chunks = [];
    for (let i = 0; i < arr.length; i += size) {
      chunks.push(arr.slice(i, i + size));
    }
    return chunks;
  },
  shuffle: (arr) => {
    const shuffled = [...arr];
    for (let i = shuffled.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
    }
    return shuffled;
  }
};

// Event emitter pattern
class EventEmitter {
  #listeners = new Map();

  on(event, callback) {
    if (!this.#listeners.has(event)) {
      this.#listeners.set(event, []);
    }
    this.#listeners.get(event).push(callback);
    return () => this.off(event, callback);
  }

  off(event, callback) {
    const listeners = this.#listeners.get(event);
    if (listeners) {
      const index = listeners.indexOf(callback);
      if (index > -1) listeners.splice(index, 1);
    }
  }

  emit(event, ...args) {
    const listeners = this.#listeners.get(event) || [];
    listeners.forEach(cb => cb(...args));
  }
}

// Initialize
const client = new HttpClient(API_BASE_URL);
const emitter = new EventEmitter();

export { HttpClient, arrayUtils, EventEmitter, client, emitter };`;
  document.getElementById('inputCode').value = sample;
  updateLines('inputCode', 'linesInput');
  showToast('Sample code loaded!', '#22c55e');
}

function showToast(msg, color) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.style.background = color || '#22c55e';
  t.classList.add('show');
  clearTimeout(t._timer);
  t._timer = setTimeout(function() { t.classList.remove('show'); }, 2500);
}

function toggleFaq(el) {
  const a = el.nextElementSibling;
  const isOpen = el.classList.contains('open');
  document.querySelectorAll('.faq-q').forEach(function(q) { q.classList.remove('open'); });
  document.querySelectorAll('.faq-a').forEach(function(ans) { ans.classList.remove('open'); });
  if (!isOpen) { el.classList.add('open'); a.classList.add('open'); }
}

/* Init */
updateLines('inputCode', 'linesInput');
updateLines('outputCode', 'linesOutput');
</script>
<script defer src="/js/revenue.js"></script>
<script defer src="/js/lead-capture.js"></script>
<script defer src="/js/analytics-lite.js"></script>
</body>
</html>
