<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Free JavaScript Minifier & Beautifier — Minify JS | NexTool</title>
<meta name="description" content="Free online JavaScript minifier and beautifier. Minify JS to reduce file size, beautify for readability. Shows compression stats, error detection. No signup.">
<meta name="keywords" content="JavaScript minifier, JS beautifier, minify JavaScript, compress JS, code formatter, uglify JS, free online tool, NexTool">
<meta name="robots" content="index, follow">
<meta property="og:title" content="Free JavaScript Minifier & Beautifier — Minify JS | NexTool">
<meta property="og:description" content="Minify or beautify JavaScript instantly. Compression stats, error detection, copy and download. 100% free.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://nextool.app/free-tools/javascript-minifier.html">
<meta property="og:image" content="https://nextool.app/assets/og-default.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<link rel="canonical" href="https://nextool.app/free-tools/javascript-minifier.html">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Free JavaScript Minifier & Beautifier — Minify JS | NexTool">
<meta name="twitter:description" content="Minify or beautify JavaScript code instantly. Free with compression stats.">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"SoftwareApplication","name":"NexTool JavaScript Minifier & Beautifier","applicationCategory":"DeveloperApplication","operatingSystem":"Web","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"description":"Free online JavaScript minifier and beautifier with compression statistics, error detection, copy, and download."}
</script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#050508;--surface:#111118;--surface2:#1a1a24;--border:#2a2a3a;--text:#e4e4eb;--text2:#9494a8;--primary:#6366f1;--accent:#a855f7;--pink:#ec4899;--green:#22c55e;--red:#ef4444;--cyan:#22d3ee;--yellow:#eab308;--radius:12px;--glass:rgba(17,17,24,0.7)}
html{scroll-behavior:smooth}
body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);line-height:1.6;min-height:100vh;overflow-x:hidden}
.nav{position:sticky;top:0;z-index:100;background:rgba(5,5,8,0.85);backdrop-filter:blur(20px);border-bottom:1px solid var(--border);padding:0 2rem;height:64px;display:flex;align-items:center;justify-content:space-between}
.nav-logo{font-size:1.4rem;font-weight:800;background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-decoration:none}
.nav-links{display:flex;align-items:center;gap:1.5rem}
.nav-links a{color:var(--text2);text-decoration:none;font-size:.875rem;font-weight:500;transition:color .2s}
.nav-links a:hover{color:var(--text)}
.nav-cta{background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff!important;padding:.5rem 1.2rem;border-radius:8px;font-weight:600;-webkit-text-fill-color:#fff!important}
.nav-cta:hover{opacity:.9}
.nav-toggle{display:none;background:none;border:none;color:var(--text);font-size:1.5rem;cursor:pointer}
.hero{text-align:center;padding:3rem 1.5rem 2rem;max-width:700px;margin:0 auto}
.hero h1{font-size:2.2rem;font-weight:800;line-height:1.2;margin-bottom:.75rem}
.hero h1 span{background:linear-gradient(135deg,var(--primary),var(--accent),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hero p{color:var(--text2);font-size:1rem}
.tool-container{max-width:1200px;margin:0 auto;padding:0 1.5rem 3rem}
.toolbar{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1rem;align-items:center}
.toolbar button{background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.45rem .9rem;border-radius:8px;font-size:.8rem;font-weight:500;cursor:pointer;transition:all .2s;font-family:inherit}
.toolbar button:hover{border-color:var(--primary);background:rgba(99,102,241,.12)}
.toolbar button.active{background:linear-gradient(135deg,var(--primary),var(--accent));border-color:transparent;color:#fff}
.status-bar{display:flex;align-items:center;gap:1rem;margin-bottom:1rem;font-size:.8rem;color:var(--text2);flex-wrap:wrap}
.status-dot{width:8px;height:8px;border-radius:50%;display:inline-block}
.status-dot.valid{background:var(--green)}.status-dot.invalid{background:var(--red)}.status-dot.empty{background:var(--border)}
.panels{display:grid;grid-template-columns:1fr 1fr;gap:1rem;min-height:500px}
.panel{background:var(--glass);backdrop-filter:blur(16px);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;display:flex;flex-direction:column}
.panel-header{padding:.6rem 1rem;border-bottom:1px solid var(--border);font-size:.8rem;font-weight:600;color:var(--text2);display:flex;justify-content:space-between;align-items:center;background:rgba(26,26,36,0.5)}
.panel-body{flex:1;position:relative;overflow:auto}
#jsInput{width:100%;height:100%;min-height:400px;background:transparent;border:none;color:var(--text);font-family:'Courier New',monospace;font-size:.85rem;padding:1rem;resize:none;outline:none;line-height:1.7;tab-size:2}
#jsInput::placeholder{color:var(--text2);opacity:.5}
.output-area{padding:1rem;font-family:'Courier New',monospace;font-size:.85rem;line-height:1.7;white-space:pre-wrap;word-break:break-all;min-height:400px;color:var(--text)}
.error-display{padding:1rem;color:var(--red);font-size:.85rem;font-family:'Courier New',monospace;white-space:pre-wrap}
.error-display .error-line{background:rgba(239,68,68,.1);border-left:3px solid var(--red);padding:.3rem .6rem;margin:.3rem 0;border-radius:4px}
.stats-bar{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:.75rem;margin-top:1rem}
.stat-card{background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:.6rem .8rem;text-align:center}
.stat-card .label{font-size:.7rem;color:var(--text2);text-transform:uppercase;letter-spacing:.5px;margin-bottom:.2rem}
.stat-card .value{font-size:1.1rem;font-weight:700}
.stat-card .value.green{color:var(--green)}
.stat-card .value.red{color:var(--red)}
.stat-card .value.cyan{color:var(--cyan)}
.stat-card .value.yellow{color:var(--yellow)}
.cta-section{text-align:center;padding:4rem 1.5rem;max-width:700px;margin:0 auto}
.cta-section h2{font-size:1.8rem;font-weight:800;margin-bottom:.75rem}
.cta-section h2 span{background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.cta-section p{color:var(--text2);margin-bottom:1.5rem}
.cta-btn{display:inline-block;background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;padding:.75rem 2rem;border-radius:10px;font-weight:700;text-decoration:none;font-size:1rem;transition:transform .2s,box-shadow .2s}
.cta-btn:hover{transform:translateY(-2px);box-shadow:0 8px 30px rgba(99,102,241,.3)}
.footer{border-top:1px solid var(--border);padding:3rem 2rem 2rem;max-width:1200px;margin:0 auto}
.footer-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;margin-bottom:2rem}
.footer-col h4{font-size:.85rem;font-weight:700;margin-bottom:.75rem;color:var(--text)}
.footer-col a{display:block;color:var(--text2);text-decoration:none;font-size:.8rem;margin-bottom:.4rem;transition:color .2s}
.footer-col a:hover{color:var(--primary)}
.footer-bottom{text-align:center;color:var(--text2);font-size:.75rem;padding-top:1.5rem;border-top:1px solid var(--border)}
.fade-in{opacity:0;transform:translateY(20px);transition:opacity .6s,transform .6s}
.fade-in.visible{opacity:1;transform:translateY(0)}
.toast{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%) translateY(80px);background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.6rem 1.2rem;border-radius:10px;font-size:.85rem;font-weight:500;z-index:200;transition:transform .3s;pointer-events:none}
.toast.show{transform:translateX(-50%) translateY(0)}
@media(max-width:768px){
  .panels{grid-template-columns:1fr}
  .nav-links{display:none;position:absolute;top:64px;left:0;right:0;background:var(--bg);border-bottom:1px solid var(--border);flex-direction:column;padding:1rem 2rem;gap:1rem}
  .nav-links.open{display:flex}
  .nav-toggle{display:block}
  .hero h1{font-size:1.6rem}
  .footer-grid{grid-template-columns:1fr}
  .toolbar{gap:.35rem}
  .stats-bar{grid-template-columns:1fr 1fr}
}
</style>
</head>
<body>

<nav class="nav">
  <a href="/" class="nav-logo">NexTool</a>
  <button class="nav-toggle" onclick="document.querySelector('.nav-links').classList.toggle('open')" aria-label="Menu">&#9776;</button>
  <div class="nav-links">
    <a href="/">Home</a>
    <a href="/free-tools/">Tools</a>
    <a href="/free-tools/">Free Tools</a>
    <a href="/blog/">Blog</a>
    <a href="/pro.html" class="nav-cta">Get Pro — $29</a>
  </div>
</nav>

<section class="hero fade-in">
  <h1>Free <span>JavaScript Minifier</span> & Beautifier</h1>
  <p class="tool-summary" style="color:#94a3b8;font-size:15px;line-height:1.6;margin-bottom:24px;max-width:700px;margin-left:auto;margin-right:auto;">Minify JavaScript to reduce file size or beautify for readability. See character count, line count, and compression percentage. Includes syntax error detection. Everything runs in your browser -- your code stays private.</p>
</section>

<div class="tool-container fade-in">
  <div class="toolbar">
    <button onclick="minifyJS()" title="Minify JavaScript">Minify</button>
    <button onclick="beautifyJS()" title="Beautify/format JavaScript">Beautify</button>
    <button onclick="copyOutput()" title="Copy output to clipboard">Copy</button>
    <button onclick="downloadJS()" title="Download as .js file">Download</button>
    <button onclick="clearAll()" title="Clear input and output">Clear</button>
    <button onclick="loadSample()" title="Load sample JavaScript">Sample</button>
  </div>

  <div class="status-bar">
    <span><span class="status-dot empty" id="statusDot"></span></span>
    <span id="statusText">Paste JavaScript to begin</span>
    <span id="sizeInfo" style="margin-left:auto"></span>
  </div>

  <div class="panels">
    <div class="panel">
      <div class="panel-header"><span>Input</span><span id="inputInfo"></span></div>
      <div class="panel-body">
        <textarea id="jsInput" placeholder='Paste your JavaScript code here...&#10;&#10;Example:&#10;function greet(name) {&#10;  // Say hello&#10;  console.log("Hello, " + name + "!");&#10;}' spellcheck="false"></textarea>
      </div>
    </div>
    <div class="panel">
      <div class="panel-header"><span id="outputLabel">Output</span><span id="outputInfo"></span></div>
      <div class="panel-body" id="outputPanel">
        <div class="output-area" id="jsOutput"></div>
        <div class="error-display" id="errorOutput" style="display:none"></div>
      </div>
    </div>
  </div>

  <div class="stats-bar" id="statsBar" style="display:none">
    <div class="stat-card"><div class="label">Input Size</div><div class="value cyan" id="statInputSize">--</div></div>
    <div class="stat-card"><div class="label">Output Size</div><div class="value green" id="statOutputSize">--</div></div>
    <div class="stat-card"><div class="label">Reduction</div><div class="value green" id="statReduction">--</div></div>
    <div class="stat-card"><div class="label">Input Lines</div><div class="value" id="statInputLines">--</div></div>
    <div class="stat-card"><div class="label">Output Lines</div><div class="value" id="statOutputLines">--</div></div>
    <div class="stat-card"><div class="label">Input Chars</div><div class="value" id="statInputChars">--</div></div>
    <div class="stat-card"><div class="label">Output Chars</div><div class="value" id="statOutputChars">--</div></div>
  </div>
</div>

<section class="cta-section fade-in">
  <h2>Need something <span>more powerful</span>?</h2>
  <p>Let us build it for you. Custom APIs, dashboards, automations &mdash; whatever you need.</p>
  <a href="/#contact" class="cta-btn">Start a Project &rarr;</a>
</section>

<section style="max-width:900px;margin:40px auto;padding:0 24px;">
<div style="background:linear-gradient(135deg,rgba(99,102,241,0.1),rgba(168,85,247,0.08));border:1px solid rgba(99,102,241,0.15);border-radius:20px;padding:32px 28px;text-align:center;">
<div style="font-size:13px;color:#818cf8;font-weight:600;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;">Founding Member</div>
<h3 style="font-size:22px;font-weight:800;color:#fff;margin:0 0 8px;">Get NexTool Pro</h3>
<p style="color:#94a3b8;font-size:14px;margin:0 auto 20px;max-width:500px;">No banners, clean output, enhanced features on all 220+ tools. One-time payment.</p>
<div style="display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap;">
<a href="/pro.html" style="display:inline-block;padding:12px 28px;background:linear-gradient(135deg,#6366f1,#a855f7,#ec4899);color:#fff;border-radius:10px;font-weight:700;font-size:15px;text-decoration:none;">$29 — Get Pro</a>
<a href="/free-tools/" style="color:#94a3b8;font-size:14px;text-decoration:none;">Browse 220+ Free Tools &rarr;</a>
</div>
</div>
</section>

<footer class="footer fade-in">
  <div class="footer-grid">
    <div class="footer-col">
      <h4>Products</h4>
      <a href="/free-tools/">220+ Free Tools</a>
<a href="/pro.html">NexTool Pro</a>
<a href="/workspace.html">Workspace</a>
    </div>
    <div class="footer-col">
      <h4>Explore</h4>
      <a href="/free-tools/">Free Tools</a><a href="/blog/">Blog</a><a href="/pro.html">FAQ</a><a href="/pro.html">Pro — $29</a>
    </div>
    <div class="footer-col">
      <h4>Ecosystem</h4>
      <a href="/">NexTool Home</a><a href="/#contact">Contact</a><a href="https://github.com/christian140903-sudo/nextool" target="_blank">GitHub</a>
    </div>
  </div>
  <div class="footer-bottom">&copy; 2026 NexTool. AI-powered tools for everyone.</div>
</footer>

<div class="toast" id="toast"></div>

<script>
const jsInput = document.getElementById('jsInput');
const jsOutput = document.getElementById('jsOutput');
const errorOutput = document.getElementById('errorOutput');
const statusDot = document.getElementById('statusDot');
const statusText = document.getElementById('statusText');
const sizeInfo = document.getElementById('sizeInfo');
const inputInfo = document.getElementById('inputInfo');
const outputInfo = document.getElementById('outputInfo');
const outputLabel = document.getElementById('outputLabel');
let lastOutput = '';

jsInput.addEventListener('input', debounce(autoCheck, 400));
jsInput.addEventListener('input', updateInputInfo);

function debounce(fn, ms) { let t; return (...a) => { clearTimeout(t); t = setTimeout(() => fn(...a), ms); }; }

function updateInputInfo() {
  const v = jsInput.value;
  const lines = v.split('\n').length;
  const chars = v.length;
  inputInfo.textContent = lines + ' lines, ' + chars.toLocaleString() + ' chars';
  sizeInfo.textContent = formatBytes(new Blob([v]).size);
}

function formatBytes(bytes) {
  if (bytes === 0) return '0 B';
  const k = 1024, sizes = ['B', 'KB', 'MB'];
  const i = Math.floor(Math.log(bytes) / Math.log(k));
  return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];
}

function autoCheck() {
  const raw = jsInput.value.trim();
  if (!raw) {
    statusDot.className = 'status-dot empty';
    statusText.textContent = 'Paste JavaScript to begin';
    sizeInfo.textContent = '';
    inputInfo.textContent = '';
    return;
  }
  const err = checkSyntax(raw);
  if (err) {
    statusDot.className = 'status-dot invalid';
    statusText.textContent = 'Syntax error detected';
  } else {
    statusDot.className = 'status-dot valid';
    statusText.textContent = 'Valid JavaScript';
  }
}

function checkSyntax(code) {
  try {
    new Function(code);
    return null;
  } catch (e) {
    return e;
  }
}

function minifyJS() {
  const raw = jsInput.value;
  if (!raw.trim()) { showToast('No JavaScript to minify'); return; }

  const err = checkSyntax(raw);
  if (err) {
    showError(err);
    return;
  }

  let code = raw;

  // Remove single-line comments (but not URLs like http://)
  code = code.replace(/(?<![:\/"'])\/\/[^\n]*/g, '');

  // Remove multi-line comments
  code = code.replace(/\/\*[\s\S]*?\*\//g, '');

  // Preserve strings while processing whitespace
  const strings = [];
  code = code.replace(/(["'`])(?:(?!\1|\\).|\\.)*\1/g, (match) => {
    strings.push(match);
    return '___STR' + (strings.length - 1) + '___';
  });

  // Preserve regex literals
  const regexes = [];
  code = code.replace(/\/(?![*\/])(?:[^\/\\]|\\.)+\/[gimsuy]*/g, (match) => {
    regexes.push(match);
    return '___RGX' + (regexes.length - 1) + '___';
  });

  // Remove newlines and excessive whitespace
  code = code.replace(/\s+/g, ' ');

  // Remove spaces around operators and punctuation
  code = code.replace(/\s*([{}()[\];,=+\-*/<>!&|?:^%~])\s*/g, '$1');

  // Restore necessary spaces (keywords that need spaces)
  const keywords = ['var','let','const','return','typeof','instanceof','in','of','new','delete','void','throw','case','else','export','import','default','extends','class','function','yield','async','await','from','as','static','get','set'];
  keywords.forEach(kw => {
    // Space after keyword when followed by word char
    const re1 = new RegExp(kw + '(?=[a-zA-Z_$0-9{(\\[\"\\'`])', 'g');
    code = code.replace(re1, kw + ' ');
    // Space before keyword when preceded by word char
    const re2 = new RegExp('(?<=[a-zA-Z_$0-9})\\]]\\s*)' + kw + '(?=\\s)', 'g');
    code = code.replace(re2, ' ' + kw);
  });

  // Restore strings
  strings.forEach((s, i) => {
    code = code.replace('___STR' + i + '___', s);
  });

  // Restore regexes
  regexes.forEach((r, i) => {
    code = code.replace('___RGX' + i + '___', r);
  });

  // Clean up any remaining double spaces
  code = code.replace(/\s{2,}/g, ' ').trim();

  // Remove trailing semicolons before closing braces
  code = code.replace(/;}/g, '}');

  lastOutput = code;
  jsOutput.textContent = code;
  errorOutput.style.display = 'none';
  jsOutput.style.display = '';
  outputLabel.textContent = 'Minified Output';
  updateStats(raw, code);
  showToast('JavaScript minified');
}

function beautifyJS() {
  const raw = jsInput.value;
  if (!raw.trim()) { showToast('No JavaScript to beautify'); return; }

  let code = raw.trim();
  let result = '';
  let indent = 0;
  let inString = false;
  let stringChar = '';
  let inComment = false;
  let inLineComment = false;
  let inMultiComment = false;
  let newLine = true;
  const indentStr = '  ';

  function addIndent() {
    return indentStr.repeat(indent);
  }

  // Simple token-based beautifier
  let i = 0;
  while (i < code.length) {
    const ch = code[i];
    const next = code[i + 1] || '';

    // Handle strings
    if (!inComment && !inLineComment && !inMultiComment) {
      if ((ch === '"' || ch === "'" || ch === '`') && (i === 0 || code[i - 1] !== '\\')) {
        if (inString && ch === stringChar) {
          inString = false;
          result += ch;
          i++;
          continue;
        } else if (!inString) {
          inString = true;
          stringChar = ch;
          result += ch;
          i++;
          continue;
        }
      }
    }

    if (inString) {
      result += ch;
      i++;
      continue;
    }

    // Handle comments
    if (ch === '/' && next === '/' && !inMultiComment) {
      inLineComment = true;
      result += ch;
      i++;
      continue;
    }
    if (ch === '/' && next === '*' && !inLineComment) {
      inMultiComment = true;
      result += ch;
      i++;
      continue;
    }
    if (inLineComment && ch === '\n') {
      inLineComment = false;
      result += '\n' + addIndent();
      newLine = true;
      i++;
      continue;
    }
    if (inMultiComment && ch === '*' && next === '/') {
      inMultiComment = false;
      result += '*/';
      i += 2;
      continue;
    }
    if (inLineComment || inMultiComment) {
      result += ch;
      i++;
      continue;
    }

    // Handle braces
    if (ch === '{') {
      result = result.trimEnd();
      result += ' {\n';
      indent++;
      result += addIndent();
      newLine = true;
      i++;
      continue;
    }
    if (ch === '}') {
      indent = Math.max(0, indent - 1);
      result = result.trimEnd();
      result += '\n' + addIndent() + '}';
      if (next && next !== ';' && next !== ',' && next !== ')' && next !== '}' && next !== '\n') {
        result += '\n' + addIndent();
        newLine = true;
      }
      i++;
      continue;
    }

    // Handle semicolons
    if (ch === ';') {
      result += ';\n' + addIndent();
      newLine = true;
      i++;
      // Skip whitespace after semicolon
      while (i < code.length && (code[i] === ' ' || code[i] === '\t' || code[i] === '\n')) i++;
      continue;
    }

    // Skip excessive whitespace
    if ((ch === ' ' || ch === '\t' || ch === '\n' || ch === '\r') && newLine) {
      i++;
      continue;
    }

    if (ch === '\n') {
      result += '\n' + addIndent();
      newLine = true;
      i++;
      continue;
    }

    newLine = false;
    result += ch;
    i++;
  }

  // Clean up
  result = result.replace(/\n\s*\n\s*\n/g, '\n\n');
  result = result.trim();

  lastOutput = result;
  jsOutput.textContent = result;
  errorOutput.style.display = 'none';
  jsOutput.style.display = '';
  outputLabel.textContent = 'Beautified Output';
  updateStats(raw, result);
  showToast('JavaScript beautified');
}

function showError(err) {
  jsOutput.style.display = 'none';
  errorOutput.style.display = '';
  errorOutput.innerHTML = '<div class="error-line">Syntax Error: ' + escapeHtml(err.message) + '</div>';
  statusDot.className = 'status-dot invalid';
  statusText.textContent = 'Syntax error';
  document.getElementById('statsBar').style.display = 'none';
}

function escapeHtml(str) {
  return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
}

function updateStats(input, output) {
  const statsBar = document.getElementById('statsBar');
  statsBar.style.display = '';

  const inputBytes = new Blob([input]).size;
  const outputBytes = new Blob([output]).size;
  const reduction = inputBytes > 0 ? ((1 - outputBytes / inputBytes) * 100).toFixed(1) : 0;
  const inputLines = input.split('\n').length;
  const outputLines = output.split('\n').length;

  document.getElementById('statInputSize').textContent = formatBytes(inputBytes);
  document.getElementById('statOutputSize').textContent = formatBytes(outputBytes);
  document.getElementById('statReduction').textContent = (reduction >= 0 ? '' : '+') + reduction + '%';
  document.getElementById('statReduction').className = 'value ' + (reduction >= 0 ? 'green' : 'red');
  document.getElementById('statInputLines').textContent = inputLines.toLocaleString();
  document.getElementById('statOutputLines').textContent = outputLines.toLocaleString();
  document.getElementById('statInputChars').textContent = input.length.toLocaleString();
  document.getElementById('statOutputChars').textContent = output.length.toLocaleString();

  outputInfo.textContent = outputLines + ' lines, ' + output.length.toLocaleString() + ' chars';
}

function copyOutput() {
  if (!lastOutput) { showToast('Nothing to copy'); return; }
  navigator.clipboard.writeText(lastOutput).then(() => showToast('Copied to clipboard'));
}

function downloadJS() {
  if (!lastOutput) { showToast('No output to download'); return; }
  const blob = new Blob([lastOutput], { type: 'application/javascript' });
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = 'output.min.js';
  a.click();
  URL.revokeObjectURL(a.href);
  showToast('Downloaded output.min.js');
}

function clearAll() {
  jsInput.value = '';
  jsOutput.textContent = '';
  errorOutput.innerHTML = '';
  errorOutput.style.display = 'none';
  jsOutput.style.display = '';
  lastOutput = '';
  statusDot.className = 'status-dot empty';
  statusText.textContent = 'Paste JavaScript to begin';
  sizeInfo.textContent = '';
  inputInfo.textContent = '';
  outputInfo.textContent = '';
  outputLabel.textContent = 'Output';
  document.getElementById('statsBar').style.display = 'none';
}

function loadSample() {
  jsInput.value = `/**
 * NexTool Utility Functions
 * A collection of helper functions for common tasks
 */

// Debounce function for rate-limiting
function debounce(func, wait, immediate) {
  let timeout;
  return function executedFunction() {
    const context = this;
    const args = arguments;
    const later = function () {
      timeout = null;
      if (!immediate) {
        func.apply(context, args);
      }
    };
    const callNow = immediate && !timeout;
    clearTimeout(timeout);
    timeout = setTimeout(later, wait);
    if (callNow) {
      func.apply(context, args);
    }
  };
}

// Format bytes to human-readable string
function formatBytes(bytes, decimals = 2) {
  if (bytes === 0) return "0 Bytes";
  const k = 1024;
  const sizes = ["Bytes", "KB", "MB", "GB", "TB"];
  const i = Math.floor(Math.log(bytes) / Math.log(k));
  return parseFloat((bytes / Math.pow(k, i)).toFixed(decimals)) + " " + sizes[i];
}

// Deep clone an object
function deepClone(obj) {
  if (obj === null || typeof obj !== "object") {
    return obj;
  }
  const clone = Array.isArray(obj) ? [] : {};
  for (const key in obj) {
    if (obj.hasOwnProperty(key)) {
      clone[key] = deepClone(obj[key]);
    }
  }
  return clone;
}

// Generate a random UUID v4
function generateUUID() {
  return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (c) {
    const r = (Math.random() * 16) | 0;
    const v = c === "x" ? r : (r & 0x3) | 0x8;
    return v.toString(16);
  });
}`;
  updateInputInfo();
  autoCheck();
}

function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2000);
}

jsInput.addEventListener('keydown', e => {
  if (e.key === 'Tab') {
    e.preventDefault();
    const start = jsInput.selectionStart, end = jsInput.selectionEnd;
    jsInput.value = jsInput.value.substring(0, start) + '  ' + jsInput.value.substring(end);
    jsInput.selectionStart = jsInput.selectionEnd = start + 2;
  }
});

const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('visible'); observer.unobserve(entry.target); }});
}, { threshold: 0.1 });
document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
</script>
<script src="/js/analytics-lite.js" defer></script>
<script src="/js/revenue.js" defer></script>
<script src="/js/lead-capture.js" defer></script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What does the JavaScript Minifier do?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "The JavaScript Minifier removes comments, whitespace, and unnecessary characters from your JavaScript code to reduce file size. It also shows compression statistics including original size, minified size, and reduction percentage."
      }
    },
    {
      "@type": "Question",
      "name": "Can I also beautify JavaScript code?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, the tool includes a Beautify mode that formats minified or messy JavaScript with proper indentation, line breaks, and spacing, making it easy to read and debug."
      }
    },
    {
      "@type": "Question",
      "name": "Does the minifier detect syntax errors?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, the tool automatically checks for JavaScript syntax errors as you type. If an error is found, it displays the error message and highlights it in the status bar. The minifier will not process code with syntax errors."
      }
    },
    {
      "@type": "Question",
      "name": "Is this JavaScript Minifier free?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, NexTool's JavaScript Minifier is 100% free with no signup required. It runs entirely in your browser, so your code never leaves your machine. For an ad-free experience, upgrade to NexTool Pro for $29."
      }
    }
  ]
}
</script>
</body>
</html>
