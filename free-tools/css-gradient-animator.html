<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Free CSS Gradient Animator — Animated Gradient Generator | NexTool</title>
<meta name="description" content="Generate beautiful animated CSS gradients with real-time preview. Choose colors, presets, animation speed, and copy production-ready keyframe code instantly. Free.">
<meta name="keywords" content="css gradient animation generator, animated gradient css, gradient animation tool, css keyframes gradient, background animation css, NexTool">
<meta name="robots" content="index, follow">
<meta property="og:title" content="Free CSS Gradient Animator — Animated Gradient Generator | NexTool">
<meta property="og:description" content="Create stunning animated CSS gradients. Real-time preview, 8 presets, custom colors, copy-ready keyframe code. 100% free.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://nextool.app/free-tools/css-gradient-animator.html">
<meta property="og:image" content="https://nextool.app/assets/og-default.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<link rel="canonical" href="https://nextool.app/free-tools/css-gradient-animator.html">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Free CSS Gradient Animator | NexTool">
<meta name="twitter:description" content="Generate animated CSS gradients with real-time preview. Free online tool by NexTool.">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"SoftwareApplication","name":"NexTool CSS Gradient Animator","applicationCategory":"DesignApplication","operatingSystem":"Web","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"description":"Free online CSS gradient animation generator with real-time preview, presets, and copy-ready keyframe code."}
</script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#050508;--surface:#111118;--surface2:#1a1a24;--border:#2a2a3a;--text:#e4e4eb;--text2:#9494a8;--primary:#6366f1;--accent:#a855f7;--pink:#ec4899;--green:#22c55e;--red:#ef4444;--cyan:#22d3ee;--yellow:#eab308;--radius:12px;--glass:rgba(17,17,24,0.7)}
html{scroll-behavior:smooth}
body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);line-height:1.6;min-height:100vh;overflow-x:hidden}
/* NAV */
.nav{position:sticky;top:0;z-index:100;background:rgba(5,5,8,0.85);backdrop-filter:blur(20px);border-bottom:1px solid var(--border);padding:0 2rem;height:64px;display:flex;align-items:center;justify-content:space-between}
.nav-logo{font-size:1.4rem;font-weight:800;background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-decoration:none}
.nav-links{display:flex;align-items:center;gap:1.5rem}
.nav-links a{color:var(--text2);text-decoration:none;font-size:.875rem;font-weight:500;transition:color .2s}
.nav-links a:hover{color:var(--text)}
.nav-cta{background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff!important;padding:.5rem 1.2rem;border-radius:8px;font-weight:600;-webkit-text-fill-color:#fff!important}
.nav-cta:hover{opacity:.9}
.nav-toggle{display:none;background:none;border:none;color:var(--text);font-size:1.5rem;cursor:pointer}
/* HERO */
.hero{text-align:center;padding:3rem 1.5rem 2rem;max-width:700px;margin:0 auto}
.hero h1{font-size:2.2rem;font-weight:800;line-height:1.2;margin-bottom:.75rem}
.hero h1 span{background:linear-gradient(135deg,var(--primary),var(--accent),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hero p{color:var(--text2);font-size:1rem}
/* TOOL */
.tool-container{max-width:1200px;margin:0 auto;padding:0 1.5rem 3rem}
/* PREVIEW */
.preview-wrapper{position:relative;border-radius:var(--radius);overflow:hidden;border:1px solid var(--border);margin-bottom:1.5rem}
#gradientPreview{width:100%;height:320px;border-radius:var(--radius);transition:none}
.preview-actions{position:absolute;top:12px;right:12px;display:flex;gap:8px}
.preview-actions button{background:rgba(0,0,0,.55);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.15);color:#fff;padding:6px 14px;border-radius:8px;font-size:.78rem;font-weight:600;cursor:pointer;transition:all .2s;font-family:inherit}
.preview-actions button:hover{background:rgba(99,102,241,.6);border-color:rgba(99,102,241,.5)}
/* FULLSCREEN */
.fullscreen-overlay{display:none;position:fixed;inset:0;z-index:9999;cursor:pointer}
.fullscreen-overlay.active{display:block}
.fullscreen-close{position:fixed;top:20px;right:20px;z-index:10000;background:rgba(0,0,0,.6);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.2);color:#fff;width:44px;height:44px;border-radius:50%;font-size:1.2rem;cursor:pointer;display:none;align-items:center;justify-content:center}
.fullscreen-overlay.active+.fullscreen-close{display:flex}
/* CONTROLS */
.controls-grid{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1.5rem}
.control-panel{background:var(--glass);backdrop-filter:blur(16px);border:1px solid var(--border);border-radius:var(--radius);padding:1.2rem;display:flex;flex-direction:column;gap:1rem}
.control-panel h3{font-size:.85rem;font-weight:700;color:var(--text2);text-transform:uppercase;letter-spacing:.5px}
.control-row{display:flex;align-items:center;gap:.75rem;flex-wrap:wrap}
.control-row label{font-size:.8rem;color:var(--text2);min-width:70px;font-weight:500}
.control-row select,.control-row input[type="number"]{background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.4rem .7rem;border-radius:8px;font-size:.8rem;font-family:inherit;outline:none;transition:border-color .2s}
.control-row select:focus,.control-row input[type="number"]:focus{border-color:var(--primary)}
.control-row select{appearance:none;padding-right:1.8rem;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%239494a8' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right .6rem center}
.control-row input[type="range"]{flex:1;accent-color:var(--primary);height:6px;cursor:pointer}
.range-val{font-size:.78rem;color:var(--primary);font-weight:600;min-width:35px;text-align:right}
/* ANGLE DIAL */
.angle-dial-wrap{display:flex;align-items:center;gap:1rem}
.angle-dial{width:56px;height:56px;border-radius:50%;border:2px solid var(--border);background:var(--surface2);position:relative;cursor:pointer;flex-shrink:0;transition:border-color .2s}
.angle-dial:hover{border-color:var(--primary)}
.angle-needle{position:absolute;top:50%;left:50%;width:2px;height:22px;background:var(--primary);border-radius:1px;transform-origin:bottom center;transform:translateX(-50%) translateY(-100%)}
.angle-dot{position:absolute;width:8px;height:8px;border-radius:50%;background:var(--primary);box-shadow:0 0 6px var(--primary)}
/* COLOR STOPS */
.color-stops-list{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:.5rem}
.color-stop{display:flex;align-items:center;gap:6px;background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:4px 8px 4px 4px;transition:border-color .2s}
.color-stop:hover{border-color:var(--primary)}
.color-stop input[type="color"]{width:28px;height:28px;border:none;border-radius:6px;cursor:pointer;background:none;padding:0}
.color-stop input[type="color"]::-webkit-color-swatch-wrapper{padding:0}
.color-stop input[type="color"]::-webkit-color-swatch{border:none;border-radius:5px}
.color-stop .hex-label{font-size:.72rem;color:var(--text2);font-family:'Courier New',monospace;text-transform:uppercase}
.color-stop .remove-stop{background:none;border:none;color:var(--text2);font-size:1rem;cursor:pointer;padding:0 2px;line-height:1;transition:color .2s}
.color-stop .remove-stop:hover{color:var(--red)}
.add-stop-btn{background:var(--surface2);border:1px dashed var(--border);color:var(--text2);padding:4px 12px;border-radius:8px;font-size:.78rem;cursor:pointer;transition:all .2s;font-family:inherit}
.add-stop-btn:hover{border-color:var(--primary);color:var(--primary)}
/* PRESETS */
.presets-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}
.preset-btn{position:relative;height:52px;border-radius:10px;border:2px solid transparent;cursor:pointer;overflow:hidden;transition:all .2s}
.preset-btn:hover{transform:translateY(-2px);box-shadow:0 4px 16px rgba(0,0,0,.4)}
.preset-btn.active{border-color:var(--primary);box-shadow:0 0 0 2px rgba(99,102,241,.3)}
.preset-label{position:absolute;bottom:0;left:0;right:0;background:rgba(0,0,0,.6);backdrop-filter:blur(4px);color:#fff;font-size:.65rem;font-weight:600;text-align:center;padding:3px 0;letter-spacing:.3px}
/* BG SIZE */
.bg-size-control{display:flex;align-items:center;gap:.75rem}
.bg-size-control label{font-size:.8rem;color:var(--text2);font-weight:500}
/* OUTPUT */
.output-panel{background:var(--glass);backdrop-filter:blur(16px);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;margin-bottom:1.5rem}
.output-header{padding:.7rem 1rem;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center;background:rgba(26,26,36,0.5)}
.output-header span{font-size:.8rem;font-weight:600;color:var(--text2)}
.output-header .copy-buttons{display:flex;gap:6px}
.output-header button{background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.35rem .8rem;border-radius:7px;font-size:.75rem;font-weight:600;cursor:pointer;transition:all .2s;font-family:inherit}
.output-header button:hover{border-color:var(--primary);background:rgba(99,102,241,.12)}
.output-code{padding:1rem;font-family:'Courier New',monospace;font-size:.82rem;line-height:1.7;color:var(--text);white-space:pre-wrap;word-break:break-all;max-height:400px;overflow:auto}
.hl-prop{color:#c084fc}.hl-val{color:#4ade80}.hl-at{color:var(--cyan)}.hl-sel{color:var(--yellow)}.hl-brace{color:var(--text2)}.hl-comment{color:#64748b}
/* TOOLBAR */
.toolbar{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1rem;align-items:center}
.toolbar button{background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.45rem .9rem;border-radius:8px;font-size:.8rem;font-weight:500;cursor:pointer;transition:all .2s;font-family:inherit}
.toolbar button:hover{border-color:var(--primary);background:rgba(99,102,241,.12)}
.toolbar button.active{background:linear-gradient(135deg,var(--primary),var(--accent));border-color:transparent;color:#fff}
/* CTA */
.cta-section{text-align:center;padding:4rem 1.5rem;max-width:700px;margin:0 auto}
.cta-section h2{font-size:1.8rem;font-weight:800;margin-bottom:.75rem}
.cta-section h2 span{background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.cta-section p{color:var(--text2);margin-bottom:1.5rem}
.cta-btn{display:inline-block;background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;padding:.75rem 2rem;border-radius:10px;font-weight:700;text-decoration:none;font-size:1rem;transition:transform .2s,box-shadow .2s}
.cta-btn:hover{transform:translateY(-2px);box-shadow:0 8px 30px rgba(99,102,241,.3)}
/* FOOTER */
.footer{border-top:1px solid var(--border);padding:3rem 2rem 2rem;max-width:1200px;margin:0 auto}
.footer-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;margin-bottom:2rem}
.footer-col h4{font-size:.85rem;font-weight:700;margin-bottom:.75rem;color:var(--text)}
.footer-col a{display:block;color:var(--text2);text-decoration:none;font-size:.8rem;margin-bottom:.4rem;transition:color .2s}
.footer-col a:hover{color:var(--primary)}
.footer-bottom{text-align:center;color:var(--text2);font-size:.75rem;padding-top:1.5rem;border-top:1px solid var(--border)}
/* FADE IN */
.fade-in{opacity:0;transform:translateY(20px);transition:opacity .6s,transform .6s}
.fade-in.visible{opacity:1;transform:translateY(0)}
/* TOAST */
.toast{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%) translateY(80px);background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.6rem 1.2rem;border-radius:10px;font-size:.85rem;font-weight:500;z-index:200;transition:transform .3s;pointer-events:none}
.toast.show{transform:translateX(-50%) translateY(0)}
/* RESPONSIVE */
@media(max-width:768px){
  .controls-grid{grid-template-columns:1fr}
  .presets-grid{grid-template-columns:repeat(2,1fr)}
  .nav-links{display:none;position:absolute;top:64px;left:0;right:0;background:var(--bg);border-bottom:1px solid var(--border);flex-direction:column;padding:1rem 2rem;gap:1rem}
  .nav-links.open{display:flex}
  .nav-toggle{display:block}
  .hero h1{font-size:1.6rem}
  .footer-grid{grid-template-columns:1fr}
  #gradientPreview{height:220px}
}
</style>
</head>
<body>

<nav class="nav">
  <a href="/" class="nav-logo">NexTool</a>
  <button class="nav-toggle" onclick="document.querySelector('.nav-links').classList.toggle('open')" aria-label="Menu">&#9776;</button>
  <div class="nav-links">
    <a href="/">Home</a>
    <a href="/free-tools/">Tools</a>
    <a href="/free-tools/">Free Tools</a>
    <a href="/blog/">Blog</a>
    <a href="/pro.html" class="nav-cta">Get Pro — $29</a>
  </div>
</nav>

<section class="hero fade-in">
  <h1>Free <span>CSS Gradient Animator</span></h1>
  <p class="tool-summary" style="color:#94a3b8;font-size:15px;line-height:1.6;margin-bottom:24px;max-width:700px;margin-left:auto;margin-right:auto;">Create stunning animated CSS gradients with real-time preview. Pick custom colors, choose from 8 beautiful presets, control animation speed and direction, then copy production-ready keyframe code. No signup required.</p>
</section>

<div class="tool-container fade-in">

  <!-- LIVE PREVIEW -->
  <div class="preview-wrapper">
    <div id="gradientPreview"></div>
    <div class="preview-actions">
      <button onclick="togglePause()" id="pauseBtn" title="Pause/Resume animation">Pause</button>
      <button onclick="openFullscreen()" title="Full-screen preview">Fullscreen</button>
    </div>
  </div>

  <!-- FULLSCREEN OVERLAY -->
  <div class="fullscreen-overlay" id="fullscreenOverlay" onclick="closeFullscreen()"></div>
  <button class="fullscreen-close" id="fullscreenClose" onclick="closeFullscreen()" aria-label="Close fullscreen">&times;</button>

  <!-- CONTROLS GRID -->
  <div class="controls-grid">

    <!-- LEFT: Color Stops & Type -->
    <div class="control-panel">
      <h3>Colors</h3>
      <div id="colorStopsList" class="color-stops-list"></div>
      <button class="add-stop-btn" onclick="addColorStop()" id="addStopBtn">+ Add Color</button>

      <h3 style="margin-top:.5rem">Gradient Type</h3>
      <div class="control-row">
        <label>Type</label>
        <select id="gradientType" onchange="onTypeChange()">
          <option value="linear">Linear</option>
          <option value="radial">Radial</option>
          <option value="conic">Conic</option>
        </select>
      </div>
      <div class="control-row" id="angleRow">
        <label>Angle</label>
        <div class="angle-dial-wrap">
          <div class="angle-dial" id="angleDial" title="Drag to set angle">
            <div class="angle-needle" id="angleNeedle"></div>
          </div>
          <input type="range" id="angleRange" min="0" max="360" value="135" oninput="setAngle(this.value)">
          <span class="range-val" id="angleVal">135&deg;</span>
        </div>
      </div>
    </div>

    <!-- RIGHT: Animation & Size -->
    <div class="control-panel">
      <h3>Animation</h3>
      <div class="control-row">
        <label>Speed</label>
        <input type="range" id="speedRange" min="1" max="20" value="6" oninput="updateSpeed()">
        <span class="range-val" id="speedVal">6s</span>
      </div>
      <div class="control-row">
        <label>Direction</label>
        <select id="animDirection" onchange="updatePreview()">
          <option value="normal">Normal</option>
          <option value="reverse">Reverse</option>
          <option value="alternate" selected>Alternate</option>
          <option value="alternate-reverse">Alternate Reverse</option>
        </select>
      </div>
      <div class="control-row">
        <label>Easing</label>
        <select id="animEasing" onchange="updatePreview()">
          <option value="ease" selected>Ease</option>
          <option value="linear">Linear</option>
          <option value="ease-in">Ease In</option>
          <option value="ease-out">Ease Out</option>
          <option value="ease-in-out">Ease In Out</option>
        </select>
      </div>
      <div class="control-row">
        <label>BG Size</label>
        <input type="range" id="bgSizeRange" min="200" max="400" value="300" step="10" oninput="updateBgSize()">
        <span class="range-val" id="bgSizeVal">300%</span>
      </div>

      <h3 style="margin-top:.5rem">Presets</h3>
      <div class="presets-grid" id="presetsGrid"></div>
    </div>

  </div>

  <!-- OUTPUT CODE -->
  <div class="output-panel">
    <div class="output-header">
      <span>Generated CSS</span>
      <div class="copy-buttons">
        <button onclick="copyCSS()">Copy CSS</button>
        <button onclick="copyTailwind()">Copy Tailwind</button>
      </div>
    </div>
    <div class="output-code" id="outputCode"></div>
  </div>

</div>

<section class="cta-section fade-in">
  <h2>Need something <span>more powerful</span>?</h2>
  <p>Let us build it for you. Custom APIs, dashboards, automations &mdash; whatever you need.</p>
  <a href="/#contact" class="cta-btn">Start a Project &rarr;</a>
</section>

<!-- Cross Promo -->
<section style="max-width:900px;margin:40px auto;padding:0 24px;">
<div style="background:linear-gradient(135deg,rgba(99,102,241,0.1),rgba(168,85,247,0.08));border:1px solid rgba(99,102,241,0.15);border-radius:20px;padding:32px 28px;text-align:center;">
<div style="font-size:13px;color:#818cf8;font-weight:600;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;">Founding Member</div>
<h3 style="font-size:22px;font-weight:800;color:#fff;margin:0 0 8px;">Get NexTool Pro</h3>
<p style="color:#94a3b8;font-size:14px;margin:0 auto 20px;max-width:500px;">No banners, clean output, enhanced features on all 235+ tools. One-time payment.</p>
<div style="display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap;">
<a href="/pro.html" style="display:inline-block;padding:12px 28px;background:linear-gradient(135deg,#6366f1,#a855f7,#ec4899);color:#fff;border-radius:10px;font-weight:700;font-size:15px;text-decoration:none;">$29 — Get Pro</a>
<a href="/free-tools/" style="color:#94a3b8;font-size:14px;text-decoration:none;">Browse 235+ Free Tools &rarr;</a>
</div>
</div>
</section>

<div style="margin:2rem auto;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);max-width:1200px">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/gradient-generator.html" style="color:var(--primary);text-decoration:none">CSS Gradient Generator</a> · <a href="/free-tools/css-animation-generator.html" style="color:var(--primary);text-decoration:none">CSS Animation Generator</a> · <a href="/free-tools/gradient-text-generator.html" style="color:var(--primary);text-decoration:none">Gradient Text Generator</a> · <a href="/free-tools/mesh-gradient-generator.html" style="color:var(--primary);text-decoration:none">Mesh Gradient Generator</a> · <a href="/free-tools/glassmorphism-generator.html" style="color:var(--primary);text-decoration:none">Glassmorphism Generator</a></p>
</div>


<!-- AUTO-LINKED by NexTool Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/box-shadow-generator.html" style="color:var(--primary);text-decoration:none">CSS Box Shadow Generator</a> · <a href="/free-tools/emoji-picker.html" style="color:var(--primary);text-decoration:none">Emoji Picker & Search</a> · <a href="/free-tools/favicon-generator.html" style="color:var(--primary);text-decoration:none">Favicon Generator</a></p>
</div>

<!-- AUTO-LINKED by NexTool Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/css-gradient-generator.html" style="color:var(--primary);text-decoration:none">Free CSS Gradient Generator</a> · <a href="/free-tools/icon-generator.html" style="color:var(--primary);text-decoration:none">Free Icon Generator</a> · <a href="/free-tools/color-mixer.html" style="color:var(--primary);text-decoration:none">Free Color Mixer</a></p>
</div>
<footer class="footer fade-in">
  <div class="footer-grid">
    <div class="footer-col">
      <h4>Products</h4>
      <a href="/free-tools/">235+ Free Tools</a>
<a href="/pro.html">NexTool Pro</a>
<a href="/workspace.html">Workspace</a>
    </div>
    <div class="footer-col">
      <h4>Explore</h4>
      <a href="/free-tools/">Free Tools</a><a href="/blog/">Blog</a><a href="/pro.html">FAQ</a><a href="/pro.html">Pro — $29</a>
    </div>
    <div class="footer-col">
      <h4>Ecosystem</h4>
      <a href="/">NexTool Home</a><a href="/#contact">Contact</a><a href="https://github.com/christian140903-sudo/nextool" target="_blank">GitHub</a>
    </div>
  </div>
  <div class="footer-bottom">&copy; 2026 NexTool. AI-powered tools for everyone.</div>
</footer>

<div class="toast" id="toast"></div>

<script>
/* ===== STATE ===== */
const PRESETS = [
  { name:'Aurora', colors:['#00c6ff','#0072ff','#7209b7','#f72585','#4cc9f0'], angle:135 },
  { name:'Sunset', colors:['#f12711','#f5af19','#ee5a24','#fa983a'], angle:90 },
  { name:'Ocean', colors:['#2193b0','#6dd5ed','#0f2027','#203a43'], angle:160 },
  { name:'Neon', colors:['#ff00cc','#333399','#00f260','#0575e6'], angle:45 },
  { name:'Fire', colors:['#f83600','#f9d423','#e65c00','#ff0844'], angle:120 },
  { name:'Galaxy', colors:['#0f0c29','#302b63','#24243e','#6366f1','#ec4899'], angle:200 },
  { name:'Rainbow', colors:['#ff0000','#ff8800','#ffff00','#00ff00','#0088ff','#8800ff'], angle:90 },
  { name:'Pastel Dream', colors:['#a8edea','#fed6e3','#d4fc79','#96e6a1','#fbc2eb'], angle:135 }
];

let colorStops = ['#6366f1','#a855f7','#ec4899'];
let gradientType = 'linear';
let angle = 135;
let speed = 6;
let bgSize = 300;
let direction = 'alternate';
let easing = 'ease';
let isPaused = false;
let activePreset = -1;
let styleEl = null;

/* ===== INIT ===== */
function init() {
  styleEl = document.createElement('style');
  document.head.appendChild(styleEl);
  renderPresets();
  renderColorStops();
  updatePreview();
}

/* ===== PRESETS ===== */
function renderPresets() {
  const grid = document.getElementById('presetsGrid');
  grid.innerHTML = '';
  PRESETS.forEach((p, i) => {
    const btn = document.createElement('button');
    btn.className = 'preset-btn' + (i === activePreset ? ' active' : '');
    btn.style.background = 'linear-gradient(135deg,' + p.colors.join(',') + ')';
    btn.innerHTML = '<span class="preset-label">' + p.name + '</span>';
    btn.title = p.name;
    btn.onclick = () => loadPreset(i);
    grid.appendChild(btn);
  });
}

function loadPreset(i) {
  const p = PRESETS[i];
  activePreset = i;
  colorStops = [...p.colors];
  angle = p.angle;
  document.getElementById('angleRange').value = angle;
  document.getElementById('gradientType').value = 'linear';
  gradientType = 'linear';
  onTypeChange();
  renderColorStops();
  renderPresets();
  updatePreview();
}

/* ===== COLOR STOPS ===== */
function renderColorStops() {
  const list = document.getElementById('colorStopsList');
  list.innerHTML = '';
  colorStops.forEach((c, i) => {
    const el = document.createElement('div');
    el.className = 'color-stop';
    el.innerHTML =
      '<input type="color" value="' + c + '" onchange="updateColor(' + i + ',this.value)" title="Pick color">' +
      '<span class="hex-label">' + c + '</span>' +
      (colorStops.length > 2 ? '<button class="remove-stop" onclick="removeStop(' + i + ')" title="Remove">&times;</button>' : '');
    list.appendChild(el);
  });
  document.getElementById('addStopBtn').style.display = colorStops.length >= 8 ? 'none' : '';
}

function updateColor(i, val) {
  colorStops[i] = val;
  activePreset = -1;
  renderColorStops();
  renderPresets();
  updatePreview();
}

function addColorStop() {
  if (colorStops.length >= 8) return;
  // Generate a complementary-ish color from last
  const last = colorStops[colorStops.length - 1];
  const r = parseInt(last.slice(1,3),16);
  const g = parseInt(last.slice(3,5),16);
  const b = parseInt(last.slice(5,7),16);
  const nr = (r + 97) % 256;
  const ng = (g + 53) % 256;
  const nb = (b + 137) % 256;
  const hex = '#' + [nr,ng,nb].map(x => x.toString(16).padStart(2,'0')).join('');
  colorStops.push(hex);
  activePreset = -1;
  renderColorStops();
  renderPresets();
  updatePreview();
}

function removeStop(i) {
  if (colorStops.length <= 2) return;
  colorStops.splice(i, 1);
  activePreset = -1;
  renderColorStops();
  renderPresets();
  updatePreview();
}

/* ===== ANGLE DIAL ===== */
const angleDial = document.getElementById('angleDial');
let draggingDial = false;

function setAngle(val) {
  angle = parseInt(val);
  document.getElementById('angleRange').value = angle;
  document.getElementById('angleVal').innerHTML = angle + '&deg;';
  updateNeedle();
  updatePreview();
}

function updateNeedle() {
  document.getElementById('angleNeedle').style.transform =
    'translateX(-50%) translateY(-100%) rotate(' + angle + 'deg)';
}

function dialAngleFromEvent(e) {
  const rect = angleDial.getBoundingClientRect();
  const cx = rect.left + rect.width / 2;
  const cy = rect.top + rect.height / 2;
  const clientX = e.touches ? e.touches[0].clientX : e.clientX;
  const clientY = e.touches ? e.touches[0].clientY : e.clientY;
  let deg = Math.atan2(clientX - cx, -(clientY - cy)) * (180 / Math.PI);
  if (deg < 0) deg += 360;
  return Math.round(deg);
}

angleDial.addEventListener('mousedown', e => { draggingDial = true; setAngle(dialAngleFromEvent(e)); });
document.addEventListener('mousemove', e => { if (draggingDial) setAngle(dialAngleFromEvent(e)); });
document.addEventListener('mouseup', () => { draggingDial = false; });
angleDial.addEventListener('touchstart', e => { draggingDial = true; setAngle(dialAngleFromEvent(e)); e.preventDefault(); }, {passive:false});
document.addEventListener('touchmove', e => { if (draggingDial) setAngle(dialAngleFromEvent(e)); }, {passive:true});
document.addEventListener('touchend', () => { draggingDial = false; });

/* ===== TYPE CHANGE ===== */
function onTypeChange() {
  gradientType = document.getElementById('gradientType').value;
  document.getElementById('angleRow').style.display = gradientType === 'radial' ? 'none' : '';
  updatePreview();
}

/* ===== SPEED / BG SIZE ===== */
function updateSpeed() {
  speed = parseInt(document.getElementById('speedRange').value);
  document.getElementById('speedVal').textContent = speed + 's';
  updatePreview();
}

function updateBgSize() {
  bgSize = parseInt(document.getElementById('bgSizeRange').value);
  document.getElementById('bgSizeVal').textContent = bgSize + '%';
  updatePreview();
}

/* ===== PAUSE / FULLSCREEN ===== */
function togglePause() {
  isPaused = !isPaused;
  document.getElementById('gradientPreview').style.animationPlayState = isPaused ? 'paused' : 'running';
  document.getElementById('pauseBtn').textContent = isPaused ? 'Resume' : 'Pause';
  const fsOverlay = document.getElementById('fullscreenOverlay');
  if (fsOverlay.classList.contains('active')) {
    fsOverlay.style.animationPlayState = isPaused ? 'paused' : 'running';
  }
}

function openFullscreen() {
  const overlay = document.getElementById('fullscreenOverlay');
  overlay.classList.add('active');
  applyGradientTo(overlay);
  document.body.style.overflow = 'hidden';
}

function closeFullscreen() {
  document.getElementById('fullscreenOverlay').classList.remove('active');
  document.body.style.overflow = '';
}

document.addEventListener('keydown', e => {
  if (e.key === 'Escape') closeFullscreen();
});

/* ===== MAIN UPDATE ===== */
function updatePreview() {
  direction = document.getElementById('animDirection').value;
  easing = document.getElementById('animEasing').value;
  updateNeedle();

  const gradStr = buildGradientString();
  const animName = 'ntGradAnim';

  // Build keyframes
  let keyframes = '';
  if (gradientType === 'radial') {
    keyframes = '@keyframes ' + animName + ' {\n  0% { background-position: 0% 0%; }\n  25% { background-position: 100% 0%; }\n  50% { background-position: 100% 100%; }\n  75% { background-position: 0% 100%; }\n  100% { background-position: 0% 0%; }\n}';
  } else {
    keyframes = '@keyframes ' + animName + ' {\n  0% { background-position: 0% 50%; }\n  50% { background-position: 100% 50%; }\n  100% { background-position: 0% 50%; }\n}';
  }

  const css = keyframes + '\n\n.animated-gradient {\n  background: ' + gradStr + ';\n  background-size: ' + bgSize + '% ' + bgSize + '%;\n  animation: ' + animName + ' ' + speed + 's ' + easing + ' infinite ' + direction + ';\n}';

  // Inject style
  styleEl.textContent = keyframes;

  // Apply to preview
  const preview = document.getElementById('gradientPreview');
  applyGradientTo(preview);

  // Apply to fullscreen overlay if open
  const overlay = document.getElementById('fullscreenOverlay');
  if (overlay.classList.contains('active')) {
    applyGradientTo(overlay);
  }

  // Render output code
  renderOutput(css);
}

function applyGradientTo(el) {
  const gradStr = buildGradientString();
  el.style.background = gradStr;
  el.style.backgroundSize = bgSize + '% ' + bgSize + '%';
  el.style.animation = 'ntGradAnim ' + speed + 's ' + easing + ' infinite ' + direction;
  el.style.animationPlayState = isPaused ? 'paused' : 'running';
}

function buildGradientString() {
  const stops = colorStops.join(', ');
  if (gradientType === 'linear') {
    return 'linear-gradient(' + angle + 'deg, ' + stops + ')';
  } else if (gradientType === 'radial') {
    return 'radial-gradient(ellipse at center, ' + stops + ')';
  } else {
    return 'conic-gradient(from ' + angle + 'deg, ' + stops + ')';
  }
}

/* ===== OUTPUT RENDERING ===== */
function renderOutput(css) {
  const escaped = css
    .replace(/&/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;');

  const highlighted = escaped
    .replace(/@keyframes\s+\w+/g, m => '<span class="hl-at">' + m + '</span>')
    .replace(/\.animated-gradient/g, '<span class="hl-sel">.animated-gradient</span>')
    .replace(/(background(?:-(?:size|position))?|animation)\s*:/g, m => '<span class="hl-prop">' + m + '</span>')
    .replace(/(\d+(?:\.\d+)?(?:s|%|deg))/g, '<span class="hl-val">$1</span>')
    .replace(/(#[0-9a-fA-F]{3,8})/g, '<span class="hl-val">$1</span>');

  document.getElementById('outputCode').innerHTML = highlighted;
}

function getRawCSS() {
  const gradStr = buildGradientString();
  const animName = 'ntGradAnim';
  let keyframes;
  if (gradientType === 'radial') {
    keyframes = '@keyframes ' + animName + ' {\n  0% { background-position: 0% 0%; }\n  25% { background-position: 100% 0%; }\n  50% { background-position: 100% 100%; }\n  75% { background-position: 0% 100%; }\n  100% { background-position: 0% 0%; }\n}';
  } else {
    keyframes = '@keyframes ' + animName + ' {\n  0% { background-position: 0% 50%; }\n  50% { background-position: 100% 50%; }\n  100% { background-position: 0% 50%; }\n}';
  }
  return keyframes + '\n\n.animated-gradient {\n  background: ' + gradStr + ';\n  background-size: ' + bgSize + '% ' + bgSize + '%;\n  animation: ' + animName + ' ' + speed + 's ' + easing + ' infinite ' + direction + ';\n}';
}

/* ===== COPY ===== */
function copyCSS() {
  const css = getRawCSS();
  navigator.clipboard.writeText(css).then(() => showToast('CSS copied to clipboard'));
}

function copyTailwind() {
  // Tailwind doesn't have native animated gradient support,
  // so we provide the closest approach: arbitrary values + custom keyframes in tailwind.config.js
  const gradStr = buildGradientString();
  const twSnippet =
    '/* Add to your tailwind.config.js */\n' +
    'module.exports = {\n' +
    '  theme: {\n' +
    '    extend: {\n' +
    '      keyframes: {\n' +
    '        gradientShift: {\n' +
    (gradientType === 'radial'
      ? "          '0%': { 'background-position': '0% 0%' },\n          '25%': { 'background-position': '100% 0%' },\n          '50%': { 'background-position': '100% 100%' },\n          '75%': { 'background-position': '0% 100%' },\n          '100%': { 'background-position': '0% 0%' },\n"
      : "          '0%': { 'background-position': '0% 50%' },\n          '50%': { 'background-position': '100% 50%' },\n          '100%': { 'background-position': '0% 50%' },\n"
    ) +
    '        },\n' +
    '      },\n' +
    '      animation: {\n' +
    "        gradientShift: 'gradientShift " + speed + "s " + easing + " infinite " + direction + "',\n" +
    '      },\n' +
    '    },\n' +
    '  },\n' +
    '};\n\n' +
    '/* Then use in your HTML: */\n' +
    '<div class="animate-gradientShift" style="background:' + gradStr + ';background-size:' + bgSize + '% ' + bgSize + '%"></div>';

  navigator.clipboard.writeText(twSnippet).then(() => showToast('Tailwind config copied'));
}

/* ===== TOAST ===== */
function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2000);
}

/* ===== INTERSECTION OBSERVER ===== */
const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => {
    if (entry.isIntersecting) { entry.target.classList.add('visible'); observer.unobserve(entry.target); }
  });
}, { threshold: 0.1 });
document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));

/* ===== START ===== */
init();
</script>
<script src="/js/analytics-lite.js" defer></script>
<script src="/js/revenue.js" defer></script>
<script src="/js/lead-capture.js" defer></script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What is a CSS gradient animation?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "A CSS gradient animation uses @keyframes to shift the background-position of an oversized gradient, creating a smooth, flowing color transition effect. NexTool's generator creates production-ready code with customizable colors, speed, and direction."
      }
    },
    {
      "@type": "Question",
      "name": "How do I create an animated gradient background in CSS?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Set a gradient as the background, increase background-size to 200-400%, then use a CSS @keyframes animation to shift background-position. This tool generates the exact code for you with real-time preview."
      }
    },
    {
      "@type": "Question",
      "name": "Can I use animated gradients in Tailwind CSS?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes. While Tailwind does not have a built-in animated gradient utility, you can extend tailwind.config.js with custom keyframes and animation. This tool generates both standard CSS and a Tailwind config snippet."
      }
    },
    {
      "@type": "Question",
      "name": "Is this CSS gradient animator free?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, NexTool's CSS Gradient Animator is 100% free. No signup, no download. It runs entirely in your browser for instant results and complete privacy."
      }
    }
  ]
}
</script>
</body>
</html>
