<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>CSS Beautifier &amp; Minifier — Format or Compress CSS Instantly | NexTool</title>
<meta name="description" content="Beautify or minify your CSS code instantly. Proper indentation, syntax highlighting, copy and download. Free online tool by NexTool.">
<meta name="keywords" content="CSS beautifier, CSS minifier, CSS formatter, CSS compressor, format CSS, NexTool">
<meta property="og:title" content="Free CSS Beautifier & Minifier | NexTool">
<meta property="og:description" content="Beautify or minify CSS code instantly. Syntax highlighting, copy, and download. Free online tool.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://nextool.app/free-tools/css-formatter">
<meta property="og:image" content="https://nextool.app/assets/og-default.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<link rel="canonical" href="https://nextool.app/free-tools/css-formatter">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Free CSS Beautifier & Minifier | NexTool">
<meta name="twitter:description" content="Format or compress CSS code instantly. Free online tool by NexTool.">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"SoftwareApplication","name":"NexTool CSS Beautifier & Minifier","applicationCategory":"DeveloperApplication","operatingSystem":"Web","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"description":"Beautify or minify CSS code with syntax highlighting. Copy or download formatted CSS."}
</script>
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#050508;--surface:#111118;--surface2:#1a1a24;--border:#252533;--primary:#6366f1;--accent:#a855f7;--pink:#ec4899;--text:#e2e8f0;--text2:#94a3b8;--radius:12px;--glass:rgba(17,17,24,.7)}
html{scroll-behavior:smooth}
body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);line-height:1.6;overflow-x:hidden}
a{color:var(--primary);text-decoration:none}
.nav{position:sticky;top:0;z-index:100;backdrop-filter:blur(20px);background:rgba(5,5,8,.85);border-bottom:1px solid var(--border);padding:0 24px}
.nav-inner{max-width:1200px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;height:64px}
.logo{font-weight:800;font-size:1.35rem;background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.nav-links{display:flex;gap:28px;align-items:center}
.nav-links a{color:var(--text2);font-size:.9rem;font-weight:500;transition:color .2s}
.nav-links a:hover{color:var(--text)}
.nav-links a.active{color:var(--primary)}
.btn-cta{background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;padding:9px 22px;border-radius:8px;font-weight:600;font-size:.85rem;border:none;cursor:pointer;transition:transform .2s,box-shadow .2s}
.btn-cta:hover{transform:translateY(-1px);box-shadow:0 4px 20px rgba(99,102,241,.4)}
.mobile-toggle{display:none;background:none;border:none;color:var(--text);font-size:1.5rem;cursor:pointer}
.hero{text-align:center;padding:80px 24px 40px;max-width:800px;margin:0 auto}
.hero .badge{display:inline-block;padding:6px 16px;border-radius:20px;background:var(--surface);border:1px solid var(--border);font-size:.8rem;color:var(--accent);font-weight:600;margin-bottom:20px}
.hero h1{font-size:clamp(2rem,5vw,3rem);font-weight:800;line-height:1.15;margin-bottom:16px}
.hero h1 .grad{background:linear-gradient(135deg,var(--primary),var(--accent),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hero p{color:var(--text2);font-size:1.05rem;max-width:560px;margin:0 auto}
.tool-section{max-width:1100px;margin:0 auto;padding:0 24px 60px}
.glass-card{background:var(--glass);backdrop-filter:blur(16px);border:1px solid var(--border);border-radius:var(--radius);padding:32px;transition:transform .3s,box-shadow .3s}
.glass-card:hover{box-shadow:0 8px 40px rgba(99,102,241,.1)}
.controls{display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap;align-items:center}
.controls .action-btn{padding:10px 22px;border-radius:8px;font-weight:600;font-size:.85rem;cursor:pointer;border:1px solid var(--border);background:var(--surface2);color:var(--text);transition:all .2s;font-family:inherit}
.controls .action-btn:hover{border-color:var(--primary);color:var(--primary)}
.controls .action-btn.primary{background:linear-gradient(135deg,var(--primary),var(--accent));border:none;color:#fff}
.controls .action-btn.primary:hover{transform:translateY(-1px);box-shadow:0 4px 16px rgba(99,102,241,.35)}
.controls .spacer{flex:1}
.stats{font-size:.8rem;color:var(--text2);padding:4px 12px;background:var(--surface2);border-radius:6px;display:flex;gap:16px;align-items:center}
.stats span{white-space:nowrap}
.editor-grid{display:grid;grid-template-columns:1fr 1fr;gap:24px}
.editor-pane{display:flex;flex-direction:column}
.editor-pane label{font-weight:600;font-size:.82rem;margin-bottom:8px;color:var(--text2);display:flex;justify-content:space-between;align-items:center}
.editor-pane label .label-actions{display:flex;gap:8px}
.label-btn{background:none;border:none;color:var(--text2);cursor:pointer;font-size:.78rem;font-weight:600;font-family:inherit;padding:2px 6px;border-radius:4px;transition:color .2s}
.label-btn:hover{color:var(--primary)}
textarea.code-input{width:100%;min-height:420px;background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:16px;color:var(--text);font-size:.85rem;font-family:'SF Mono','Fira Code','Cascadia Code',Consolas,monospace;line-height:1.65;resize:vertical;tab-size:2;transition:border-color .2s}
textarea.code-input:focus{outline:none;border-color:var(--primary)}
.output-wrap{position:relative;width:100%;min-height:420px;background:var(--surface2);border:1px solid var(--border);border-radius:8px;overflow:auto}
.output-wrap pre{padding:16px;margin:0;font-size:.85rem;font-family:'SF Mono','Fira Code','Cascadia Code',Consolas,monospace;line-height:1.65;white-space:pre-wrap;word-break:break-all}
.output-wrap .line-numbers{position:absolute;left:0;top:0;padding:16px 0;width:40px;text-align:right;color:var(--text2);font-size:.75rem;font-family:'SF Mono','Fira Code','Cascadia Code',Consolas,monospace;line-height:1.65;user-select:none;opacity:.5}
.output-wrap pre.has-lines{padding-left:52px}
/* Syntax highlighting */
.hl-selector{color:#c084fc}
.hl-property{color:#67e8f9}
.hl-value{color:#fbbf24}
.hl-string{color:#34d399}
.hl-comment{color:#64748b;font-style:italic}
.hl-brace{color:#94a3b8}
.hl-colon{color:#94a3b8}
.hl-semicolon{color:#94a3b8}
.hl-atrule{color:#f472b6}
.hl-number{color:#fb923c}
.hl-unit{color:#fb923c}
.hl-important{color:#f87171;font-weight:700}
/* CTA */
.cta-bottom{text-align:center;padding:80px 24px;max-width:700px;margin:0 auto}
.cta-bottom h2{font-size:clamp(1.5rem,3.5vw,2.2rem);font-weight:800;margin-bottom:14px}
.cta-bottom h2 .grad{background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.cta-bottom p{color:var(--text2);margin-bottom:28px;font-size:1rem}
/* FOOTER */
footer{border-top:1px solid var(--border);padding:60px 24px 32px;max-width:1200px;margin:0 auto}
.footer-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:40px;margin-bottom:40px}
.footer-col h4{font-size:.85rem;font-weight:700;margin-bottom:16px;color:var(--text)}
.footer-col a{display:block;color:var(--text2);font-size:.85rem;margin-bottom:10px;transition:color .2s}
.footer-col a:hover{color:var(--primary)}
.footer-bottom{text-align:center;color:var(--text2);font-size:.8rem;padding-top:24px;border-top:1px solid var(--border)}
@keyframes fadeUp{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
.fade-in{opacity:0;transform:translateY(24px);transition:opacity .6s,transform .6s}.fade-in.visible{opacity:1;transform:translateY(0)}
.toast{position:fixed;bottom:32px;left:50%;transform:translateX(-50%) translateY(80px);background:var(--primary);color:#fff;padding:12px 28px;border-radius:10px;font-weight:600;font-size:.9rem;z-index:200;transition:transform .35s cubic-bezier(.4,0,.2,1);pointer-events:none}
.toast.show{transform:translateX(-50%) translateY(0)}
@media(max-width:768px){
  .nav-links{display:none;position:absolute;top:64px;left:0;right:0;background:var(--surface);flex-direction:column;padding:20px;gap:16px;border-bottom:1px solid var(--border)}
  .nav-links.open{display:flex}
  .mobile-toggle{display:block}
  .editor-grid{grid-template-columns:1fr}
  .footer-grid{grid-template-columns:1fr 1fr}
  .glass-card{padding:24px 18px}
  .controls{flex-direction:column;align-items:stretch}
  .controls .spacer{display:none}
  .stats{justify-content:center}
}
</style>
</head>
<body>
<nav class="nav"><div class="nav-inner">
  <a href="/" class="logo">NexTool</a>
  <button class="mobile-toggle" onclick="document.querySelector('.nav-links').classList.toggle('open')" aria-label="Menu">&#9776;</button>
  <div class="nav-links">
    <a href="/">Home</a><a href="/services/">Services</a><a href="/free-tools/" class="active">Free Tools</a><a href="/blog/">Blog</a>
    <a href="#contact" class="btn-cta">Start a Project</a>
  </div>
</div></nav>

<section class="hero fade-in">
  <div class="badge">Free Tool</div>
  <h1>CSS <span class="grad">Beautifier &amp; Minifier</span></h1>
  <p>Format your CSS with proper indentation and syntax highlighting, or compress it for production. Paste, transform, copy.</p>
</section>

<section class="tool-section">
  <div class="glass-card fade-in">
    <div class="controls">
      <button class="action-btn primary" onclick="beautify()">Beautify</button>
      <button class="action-btn primary" onclick="minify()">Minify</button>
      <div class="spacer"></div>
      <div class="stats" id="stats">
        <span>Input: <strong id="stat-in">0</strong> chars</span>
        <span>Output: <strong id="stat-out">0</strong> chars</span>
        <span id="stat-saving" style="display:none">Saved: <strong id="stat-pct">0</strong>%</span>
      </div>
    </div>
    <div class="editor-grid">
      <div class="editor-pane">
        <label>
          Input CSS
          <div class="label-actions">
            <button class="label-btn" onclick="loadSample()">Sample</button>
            <button class="label-btn" onclick="clearInput()">Clear</button>
          </div>
        </label>
        <textarea class="code-input" id="input" placeholder="Paste your CSS here..." spellcheck="false"></textarea>
      </div>
      <div class="editor-pane">
        <label>
          Output
          <div class="label-actions">
            <button class="label-btn" onclick="copyOutput()">Copy</button>
            <button class="label-btn" onclick="downloadCSS()">Download .css</button>
          </div>
        </label>
        <div class="output-wrap" id="output-wrap">
          <div class="line-numbers" id="line-nums"></div>
          <pre id="output" class="has-lines"></pre>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="cta-bottom fade-in">
  <h2>Need something <span class="grad">more powerful</span>?</h2>
  <p>Let us build custom automation, bots, websites, and AI tools tailored to your business.</p>
  <a href="#contact" class="btn-cta" style="display:inline-block;padding:14px 36px;font-size:1rem">Start a Project</a>
</section>

<!-- Cross Promo -->n<section style="max-width:900px;margin:40px auto;padding:0 24px;">n<div style="background:linear-gradient(135deg,rgba(99,102,241,0.1),rgba(168,85,247,0.08));border:1px solid rgba(99,102,241,0.15);border-radius:20px;padding:32px 28px;text-align:center;">n<div style="font-size:13px;color:#818cf8;font-weight:600;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;">Founding Member</div>n<h3 style="font-size:22px;font-weight:800;color:#fff;margin:0 0 8px;">Get NexTool Pro</h3>n<p style="color:#94a3b8;font-size:14px;margin:0 auto 20px;max-width:500px;">No banners, clean output, enhanced features on all 150+ tools. One-time payment.</p>n<div style="display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap;">n<a href="/pro.html" style="display:inline-block;padding:12px 28px;background:linear-gradient(135deg,#6366f1,#a855f7,#ec4899);color:#fff;border-radius:10px;font-weight:700;font-size:15px;text-decoration:none;transition:transform 0.2s;" onmouseenter="this.style.transform='translateY(-2px)'" onmouseleave="this.style.transform='translateY(0)'">$29 — Get Pro</a>n<a href="/free-tools/" style="color:#94a3b8;font-size:14px;text-decoration:none;transition:color 0.2s;" onmouseenter="this.style.color='#e2e8f0'" onmouseleave="this.style.color='#94a3b8'">Browse 150+ Free Tools →</a>n</div>n</div>n</section>
<footer>
  <div class="footer-grid">
    <div class="footer-col"><h4>Services</h4>
      <a href="/services/">Websites</a><a href="/services/">Chatbots</a><a href="/services/">Automation</a><a href="/services/">Content</a><a href="/services/">Video</a><a href="/services/">Data</a>
    </div>
    <div class="footer-col"><h4>Free Tools</h4>
      <a href="/free-tools/qr-generator.html">QR Code Generator</a><a href="/free-tools/css-formatter.html">CSS Formatter</a><a href="/free-tools/hash-generator.html">Hash Generator</a><a href="/free-tools/timestamp-converter.html">Timestamp Converter</a><a href="/free-tools/diff-checker.html">Diff Checker</a>
    </div>
    <div class="footer-col"><h4>Explore</h4>
      <a href="/free-tools/">All Free Tools</a><a href="/blog/">Blog</a><a href="#contact">Contact</a>
    </div>
    <div class="footer-col"><h4>Legal</h4>
      <a href="/privacy/">Privacy Policy</a><a href="/terms/">Terms of Service</a><a href="/imprint/">Imprint</a>
    </div>
  </div>
  <div class="footer-bottom">&copy; 2026 NexTool. All rights reserved.</div>
</footer>

<div class="toast" id="toast">Copied!</div>

<script>
const inputEl=document.getElementById('input');
const outputEl=document.getElementById('output');
const lineNumsEl=document.getElementById('line-nums');
const statIn=document.getElementById('stat-in');
const statOut=document.getElementById('stat-out');
const statSaving=document.getElementById('stat-saving');
const statPct=document.getElementById('stat-pct');
let rawOutput='';

function showToast(msg){
  const t=document.getElementById('toast');
  t.textContent=msg;t.classList.add('show');
  setTimeout(()=>t.classList.remove('show'),2000);
}

function updateStats(){
  const inLen=inputEl.value.length;
  const outLen=rawOutput.length;
  statIn.textContent=inLen.toLocaleString();
  statOut.textContent=outLen.toLocaleString();
  if(inLen>0&&outLen>0&&outLen!==inLen){
    const pct=Math.round((1-outLen/inLen)*100);
    if(pct>0){statPct.textContent=pct;statSaving.style.display=''}
    else{statSaving.style.display='none'}
  }else{statSaving.style.display='none'}
}

// ========== CSS BEAUTIFIER ==========
function beautify(){
  const css=inputEl.value;
  if(!css.trim()){showToast('Paste some CSS first');return}
  rawOutput=cssBeautify(css);
  renderOutput(rawOutput);
  updateStats();
}

function cssBeautify(css){
  // Remove existing extra whitespace but preserve strings and comments
  const tokens=tokenizeCSS(css);
  let result='';
  let indent=0;
  let newline=true;
  let lastToken=null;

  for(let i=0;i<tokens.length;i++){
    const tok=tokens[i];
    const next=tokens[i+1];

    if(tok.type==='comment'){
      if(!newline) result+='\n'+'  '.repeat(indent);
      result+=tok.value+'\n';
      newline=true;
    }else if(tok.value==='{'){
      if(newline) result+='  '.repeat(indent);
      else if(lastToken&&lastToken.value!=='{') result+=' ';
      result+='{\n';
      indent++;
      newline=true;
    }else if(tok.value==='}'){
      indent=Math.max(0,indent-1);
      if(!newline) result+='\n';
      result+='  '.repeat(indent)+'}\n';
      // Add extra newline after top-level closing braces
      if(indent===0) result+='\n';
      newline=true;
    }else if(tok.value===';'){
      result+=';\n';
      newline=true;
    }else if(tok.value===':' && tok.type==='punct'){
      result+=': ';
      newline=false;
    }else if(tok.value===','){
      result+=',\n';
      newline=true;
    }else{
      if(newline){
        result+='  '.repeat(indent);
        newline=false;
      }
      result+=tok.value;
    }
    if(tok.type!=='ws') lastToken=tok;
  }
  // Trim trailing whitespace from each line and trailing newlines
  return result.split('\n').map(l=>l.trimEnd()).join('\n').replace(/\n{3,}/g,'\n\n').trim()+'\n';
}

// ========== CSS MINIFIER ==========
function minify(){
  const css=inputEl.value;
  if(!css.trim()){showToast('Paste some CSS first');return}
  rawOutput=cssMinify(css);
  renderOutput(rawOutput);
  updateStats();
}

function cssMinify(css){
  let r=css;
  // Remove comments
  r=r.replace(/\/\*[\s\S]*?\*\//g,'');
  // Remove whitespace
  r=r.replace(/\s+/g,' ');
  // Remove spaces around symbols
  r=r.replace(/\s*([{}:;,>~+])\s*/g,'$1');
  // Remove trailing semicolons before }
  r=r.replace(/;}/g,'}');
  // Remove leading/trailing whitespace
  r=r.trim();
  return r;
}

// ========== TOKENIZER ==========
function tokenizeCSS(css){
  const tokens=[];
  let i=0;
  const len=css.length;

  while(i<len){
    // Comments
    if(css[i]==='/'&&css[i+1]==='*'){
      let end=css.indexOf('*/',i+2);
      if(end===-1) end=len;
      else end+=2;
      tokens.push({type:'comment',value:css.slice(i,end)});
      i=end;continue;
    }
    // Strings
    if(css[i]==='"'||css[i]==="'"){
      const q=css[i];let j=i+1;
      while(j<len&&css[j]!==q){if(css[j]==='\\')j++;j++}
      j++;
      tokens.push({type:'string',value:css.slice(i,j)});
      i=j;continue;
    }
    // Whitespace
    if(/\s/.test(css[i])){
      let j=i;while(j<len&&/\s/.test(css[j]))j++;
      tokens.push({type:'ws',value:' '});
      i=j;continue;
    }
    // Punctuation
    if('{}:;,'.includes(css[i])){
      tokens.push({type:'punct',value:css[i]});
      i++;continue;
    }
    // Everything else (selectors, properties, values)
    let j=i;
    while(j<len&&!/[\s{}:;,]/.test(css[j])&&!(css[j]==='/'&&css[j+1]==='*')&&css[j]!=='"'&&css[j]!=="'"){
      if(css[j]==='('){ // handle url() etc
        let depth=1;j++;
        while(j<len&&depth>0){if(css[j]==='(')depth++;if(css[j]===')')depth--;j++}
        continue;
      }
      j++;
    }
    if(j>i){
      tokens.push({type:'word',value:css.slice(i,j)});
      i=j;
    }else{
      tokens.push({type:'other',value:css[i]});
      i++;
    }
  }
  return tokens.filter(t=>t.type!=='ws'||t.value.trim()!=='').length?tokens:tokens;
}

// ========== SYNTAX HIGHLIGHTER ==========
function highlightCSS(css){
  // Escape HTML
  function esc(s){return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')}
  let result='';
  const lines=css.split('\n');
  for(const line of lines){
    let l=line;
    let highlighted='';
    let j=0;
    while(j<l.length){
      // Comments
      if(l[j]==='/'&&l[j+1]==='*'){
        let end=l.indexOf('*/',j+2);
        if(end===-1){highlighted+='<span class="hl-comment">'+esc(l.slice(j))+'</span>';j=l.length;}
        else{end+=2;highlighted+='<span class="hl-comment">'+esc(l.slice(j,end))+'</span>';j=end;}
        continue;
      }
      // Strings
      if(l[j]==='"'||l[j]==="'"){
        const q=l[j];let k=j+1;
        while(k<l.length&&l[k]!==q){if(l[k]==='\\')k++;k++}
        k++;
        highlighted+='<span class="hl-string">'+esc(l.slice(j,k))+'</span>';
        j=k;continue;
      }
      // Braces
      if(l[j]==='{'||l[j]==='}'){
        highlighted+='<span class="hl-brace">'+esc(l[j])+'</span>';j++;continue;
      }
      // Colon
      if(l[j]===':'){
        highlighted+='<span class="hl-colon">:</span>';j++;continue;
      }
      // Semicolon
      if(l[j]===';'){
        highlighted+='<span class="hl-semicolon">;</span>';j++;continue;
      }
      // Check for @rules
      if(l[j]==='@'){
        let k=j+1;while(k<l.length&&/[a-zA-Z-]/.test(l[k]))k++;
        highlighted+='<span class="hl-atrule">'+esc(l.slice(j,k))+'</span>';j=k;continue;
      }
      // !important
      if(l[j]==='!'&&l.slice(j,j+10).toLowerCase()==='!important'){
        highlighted+='<span class="hl-important">!important</span>';j+=10;continue;
      }
      // Numbers with units
      const numMatch=l.slice(j).match(/^(-?\d*\.?\d+)(px|em|rem|%|vh|vw|vmin|vmax|ch|ex|cm|mm|in|pt|pc|deg|rad|turn|s|ms|fr|dpi|dpcm|dppx)?/);
      if(numMatch&&numMatch[0].length>0&&(j===0||/[\s:,(]/.test(l[j-1]))){
        highlighted+='<span class="hl-number">'+esc(numMatch[0])+'</span>';j+=numMatch[0].length;continue;
      }
      // Accumulate other text
      let k=j;
      while(k<l.length&&!'{}:;@"\'/*!'.includes(l[k])&&!(l[k]==='-'&&/\d/.test(l[k+1])&&/[\s:,(]/.test(l[k-1]||' '))){
        k++;
      }
      if(k>j){
        const chunk=l.slice(j,k);
        // Determine if this is a property or selector or value context
        // Simple heuristic: if line contains { it's a selector, if followed by : it's a property
        const restOfLine=l.slice(k).trim();
        if(restOfLine.startsWith(':')){
          highlighted+='<span class="hl-property">'+esc(chunk)+'</span>';
        }else if(l.includes('{')||(!l.includes(':')||l.trim().startsWith('&')||/^[.#:\[@a-zA-Z*>~+,]/.test(chunk.trim()))){
          // Check if it looks like a value (after colon)
          const beforeJ=l.slice(0,j);
          if(beforeJ.includes(':')&&!beforeJ.includes('{')){
            highlighted+='<span class="hl-value">'+esc(chunk)+'</span>';
          }else{
            highlighted+='<span class="hl-selector">'+esc(chunk)+'</span>';
          }
        }else{
          const beforeJ=l.slice(0,j);
          if(beforeJ.includes(':')){
            highlighted+='<span class="hl-value">'+esc(chunk)+'</span>';
          }else{
            highlighted+=esc(chunk);
          }
        }
        j=k;
      }else if(k===j){
        highlighted+=esc(l[j]);j++;
      }
    }
    result+=highlighted+'\n';
  }
  return result;
}

// ========== RENDER OUTPUT ==========
function renderOutput(css){
  const highlighted=highlightCSS(css);
  outputEl.innerHTML=highlighted;
  // Line numbers
  const lines=css.split('\n');
  let nums='';
  for(let i=1;i<=lines.length;i++) nums+=i+'\n';
  lineNumsEl.textContent=nums;
  // Sync scroll
  const wrap=document.getElementById('output-wrap');
  wrap.scrollTop=0;
}

// ========== ACTIONS ==========
function copyOutput(){
  if(!rawOutput){showToast('Nothing to copy');return}
  navigator.clipboard.writeText(rawOutput).then(()=>showToast('Copied to clipboard!')).catch(()=>showToast('Copy failed'));
}

function downloadCSS(){
  if(!rawOutput){showToast('Nothing to download');return}
  const blob=new Blob([rawOutput],{type:'text/css'});
  const a=document.createElement('a');
  a.href=URL.createObjectURL(blob);
  a.download='formatted.css';
  a.click();
  URL.revokeObjectURL(a.href);
  showToast('Downloaded!');
}

function clearInput(){
  inputEl.value='';
  rawOutput='';
  outputEl.innerHTML='';
  lineNumsEl.textContent='';
  updateStats();
}

function loadSample(){
  inputEl.value=`/* NexTool Sample CSS */
:root { --primary: #6366f1; --accent: #a855f7; --bg: #050508; }

body { font-family: 'Inter', sans-serif; background: var(--bg); color: #e2e8f0; margin: 0; padding: 0; line-height: 1.6; }

.container { max-width: 1200px; margin: 0 auto; padding: 0 24px; }

.hero { text-align: center; padding: 80px 24px; }
.hero h1 { font-size: clamp(2rem, 5vw, 3.5rem); font-weight: 800; }
.hero h1 span { background: linear-gradient(135deg, var(--primary), var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

.card { background: rgba(17,17,24,0.7); border: 1px solid #252533; border-radius: 12px; padding: 32px; transition: transform 0.3s, box-shadow 0.3s; }
.card:hover { transform: translateY(-4px); box-shadow: 0 8px 40px rgba(99,102,241,0.15); }

@media (max-width: 768px) { .container { padding: 0 16px; } .hero { padding: 40px 16px; } }`;
  beautify();
}

// Track input size
inputEl.addEventListener('input',()=>{
  statIn.textContent=inputEl.value.length.toLocaleString();
});

// IntersectionObserver for fade-in
const obs=new IntersectionObserver(entries=>{entries.forEach(e=>{if(e.isIntersecting){e.target.classList.add('visible');obs.unobserve(e.target)}})},{threshold:.15});
document.querySelectorAll('.fade-in').forEach(el=>obs.observe(el));
</script>
<script src="/js/analytics-lite.js" defer></script>
<script src="/js/revenue.js" defer></script>
<script src="/js/lead-capture.js" defer></script>
</body>
</html>