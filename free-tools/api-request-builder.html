<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Free API Request Builder — Test REST APIs Online | NexTool</title>
<meta name="description" content="Free online API request builder and tester. Send GET, POST, PUT, DELETE requests with headers, auth, and body. View response status, headers, body, and timing. Like Postman, in your browser.">
<meta name="keywords" content="API request builder, REST API tester, Postman alternative, HTTP client, API testing tool, free online tool, NexTool">
<meta name="robots" content="index, follow">
<meta property="og:title" content="Free API Request Builder — Test REST APIs Online | NexTool">
<meta property="og:description" content="Build and send API requests with headers, auth, body. View response with status, headers, timing. Free Postman alternative in your browser.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://nextool.app/free-tools/api-request-builder.html">
<meta property="og:image" content="https://nextool.app/assets/og-default.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<link rel="canonical" href="https://nextool.app/free-tools/api-request-builder.html">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Free API Request Builder — Test REST APIs Online | NexTool">
<meta name="twitter:description" content="Build and send API requests. View response status, headers, body, timing. Free Postman alternative.">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"SoftwareApplication","name":"NexTool API Request Builder","applicationCategory":"DeveloperApplication","operatingSystem":"Web","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"description":"Free online API request builder and tester. Send HTTP requests with headers, authentication, and body. View response status, headers, body, and timing."}
</script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#050508;--surface:#111118;--surface2:#1a1a24;--border:#2a2a3a;--text:#e4e4eb;--text2:#9494a8;--primary:#6366f1;--accent:#a855f7;--pink:#ec4899;--green:#22c55e;--red:#ef4444;--cyan:#22d3ee;--yellow:#eab308;--orange:#f97316;--radius:12px;--glass:rgba(17,17,24,0.7)}
html{scroll-behavior:smooth}
body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);line-height:1.6;min-height:100vh;overflow-x:hidden}
.nav{position:sticky;top:0;z-index:100;background:rgba(5,5,8,0.85);backdrop-filter:blur(20px);border-bottom:1px solid var(--border);padding:0 2rem;height:64px;display:flex;align-items:center;justify-content:space-between}
.nav-logo{font-size:1.4rem;font-weight:800;background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-decoration:none}
.nav-links{display:flex;align-items:center;gap:1.5rem}
.nav-links a{color:var(--text2);text-decoration:none;font-size:.875rem;font-weight:500;transition:color .2s}
.nav-links a:hover{color:var(--text)}
.nav-cta{background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff!important;padding:.5rem 1.2rem;border-radius:8px;font-weight:600;-webkit-text-fill-color:#fff!important}
.nav-cta:hover{opacity:.9}
.nav-toggle{display:none;background:none;border:none;color:var(--text);font-size:1.5rem;cursor:pointer}
.hero{text-align:center;padding:3rem 1.5rem 2rem;max-width:700px;margin:0 auto}
.hero h1{font-size:2.2rem;font-weight:800;line-height:1.2;margin-bottom:.75rem}
.hero h1 span{background:linear-gradient(135deg,var(--primary),var(--accent),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hero p{color:var(--text2);font-size:1rem}
.tool-container{max-width:1200px;margin:0 auto;padding:0 1.5rem 3rem}
.panel{background:var(--glass);backdrop-filter:blur(16px);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;display:flex;flex-direction:column;margin-bottom:1rem}
.panel-header{padding:.6rem 1rem;border-bottom:1px solid var(--border);font-size:.8rem;font-weight:600;color:var(--text2);display:flex;justify-content:space-between;align-items:center;background:rgba(26,26,36,0.5)}
.panel-body{flex:1;padding:1rem;overflow:auto}
/* REQUEST BAR */
.request-bar{display:flex;gap:.5rem;align-items:center;flex-wrap:wrap}
select,input[type="text"],input[type="url"],input[type="password"],input[type="number"],textarea{background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.5rem .75rem;border-radius:8px;font-size:.85rem;font-family:inherit;outline:none;transition:border-color .2s}
select:focus,input:focus,textarea:focus{border-color:var(--primary)}
select{appearance:none;padding-right:1.8rem;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%239494a8' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right .6rem center;cursor:pointer}
.method-select{width:120px;font-weight:700;font-size:.9rem}
.method-select.get{color:var(--green)}.method-select.post{color:var(--yellow)}.method-select.put{color:var(--cyan)}.method-select.delete{color:var(--red)}.method-select.patch{color:var(--accent)}.method-select.options{color:var(--text2)}.method-select.head{color:var(--pink)}
.url-input{flex:1;min-width:200px;font-family:'JetBrains Mono','Courier New',monospace;font-size:.85rem}
.send-btn{background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;border:none;padding:.55rem 1.5rem;border-radius:8px;font-weight:700;font-size:.85rem;cursor:pointer;transition:all .2s;font-family:inherit;white-space:nowrap;display:flex;align-items:center;gap:.4rem}
.send-btn:hover{opacity:.9;transform:translateY(-1px)}
.send-btn:disabled{opacity:.5;cursor:not-allowed;transform:none}
.send-btn .spinner{display:none;width:14px;height:14px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:spin .6s linear infinite}
.send-btn.loading .spinner{display:inline-block}
.send-btn.loading .send-text{display:none}
@keyframes spin{to{transform:rotate(360deg)}}
/* TABS */
.tab-bar{display:flex;gap:0;border-bottom:1px solid var(--border);margin-bottom:.75rem}
.tab-btn{background:none;border:none;border-bottom:2px solid transparent;color:var(--text2);padding:.5rem 1rem;font-size:.8rem;font-weight:600;cursor:pointer;transition:all .2s;font-family:inherit;position:relative}
.tab-btn:hover{color:var(--text)}
.tab-btn.active{color:var(--primary);border-bottom-color:var(--primary)}
.tab-btn .badge{position:absolute;top:2px;right:2px;background:var(--primary);color:#fff;font-size:.6rem;padding:1px 4px;border-radius:8px;font-weight:700;line-height:1.2}
.tab-content{display:none}
.tab-content.active{display:block}
/* KV ROWS */
.kv-row{display:flex;gap:.5rem;margin-bottom:.5rem;align-items:center}
.kv-row input{flex:1;font-size:.8rem;padding:.4rem .6rem}
.kv-row .kv-check{width:16px;height:16px;accent-color:var(--primary);cursor:pointer;flex-shrink:0}
.remove-btn{background:none;border:none;color:var(--red);cursor:pointer;font-size:1.1rem;padding:0 .3rem;transition:opacity .2s;flex-shrink:0}
.remove-btn:hover{opacity:.7}
.add-btn{background:none;border:1px dashed var(--border);color:var(--text2);padding:.4rem .8rem;border-radius:8px;font-size:.8rem;cursor:pointer;transition:all .2s;font-family:inherit;width:100%}
.add-btn:hover{border-color:var(--primary);color:var(--primary)}
/* AUTH */
.auth-select{width:100%;margin-bottom:.75rem}
.auth-field{margin-bottom:.5rem}
.auth-field label{display:block;font-size:.75rem;font-weight:600;color:var(--text2);margin-bottom:.25rem}
.auth-field input{width:100%}
/* BODY EDITOR */
.body-type-bar{display:flex;gap:.4rem;margin-bottom:.75rem;flex-wrap:wrap}
.body-type-btn{background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.35rem .7rem;border-radius:8px;font-size:.75rem;font-weight:500;cursor:pointer;transition:all .2s;font-family:inherit}
.body-type-btn:hover{border-color:var(--primary)}
.body-type-btn.active{background:linear-gradient(135deg,var(--primary),var(--accent));border-color:transparent;color:#fff}
.body-editor{width:100%;min-height:150px;background:var(--surface);border:1px solid var(--border);color:var(--text);font-family:'JetBrains Mono','Courier New',monospace;font-size:.83rem;padding:.75rem;border-radius:8px;resize:vertical;outline:none;line-height:1.6;tab-size:2}
.body-editor:focus{border-color:var(--primary)}
/* RESPONSE */
.response-meta{display:flex;flex-wrap:wrap;gap:.75rem;margin-bottom:1rem;align-items:center}
.status-badge{display:inline-flex;align-items:center;gap:.4rem;padding:.35rem .8rem;border-radius:8px;font-size:.85rem;font-weight:700;font-family:'JetBrains Mono','Courier New',monospace}
.status-badge.s2xx{background:rgba(34,197,94,.12);color:var(--green);border:1px solid rgba(34,197,94,.3)}
.status-badge.s3xx{background:rgba(34,211,238,.12);color:var(--cyan);border:1px solid rgba(34,211,238,.3)}
.status-badge.s4xx{background:rgba(234,179,8,.12);color:var(--yellow);border:1px solid rgba(234,179,8,.3)}
.status-badge.s5xx{background:rgba(239,68,68,.12);color:var(--red);border:1px solid rgba(239,68,68,.3)}
.status-badge.serr{background:rgba(239,68,68,.12);color:var(--red);border:1px solid rgba(239,68,68,.3)}
.meta-pill{display:inline-flex;align-items:center;gap:.3rem;padding:.3rem .7rem;background:var(--surface2);border:1px solid var(--border);border-radius:8px;font-size:.75rem;color:var(--text2)}
.meta-pill .meta-val{color:var(--text);font-weight:600;font-family:'JetBrains Mono','Courier New',monospace}
.resp-tab-bar{display:flex;gap:0;border-bottom:1px solid var(--border);margin-bottom:.5rem}
.resp-tab{background:none;border:none;border-bottom:2px solid transparent;color:var(--text2);padding:.4rem .8rem;font-size:.78rem;font-weight:600;cursor:pointer;transition:all .2s;font-family:inherit}
.resp-tab:hover{color:var(--text)}
.resp-tab.active{color:var(--primary);border-bottom-color:var(--primary)}
.resp-body{background:var(--surface);border:1px solid var(--border);border-radius:8px;padding:.75rem;font-family:'JetBrains Mono','Courier New',monospace;font-size:.82rem;line-height:1.7;white-space:pre-wrap;word-break:break-all;max-height:500px;overflow:auto;color:var(--text);position:relative}
.resp-body .copy-float{position:absolute;top:.5rem;right:.5rem;background:var(--surface2);border:1px solid var(--border);color:var(--text2);padding:.3rem .6rem;border-radius:6px;font-size:.7rem;cursor:pointer;font-family:inherit;transition:all .2s;z-index:2}
.resp-body .copy-float:hover{border-color:var(--primary);color:var(--primary)}
.resp-headers-table{width:100%;border-collapse:collapse;font-size:.8rem}
.resp-headers-table th{text-align:left;padding:.4rem .6rem;color:var(--text2);font-weight:600;border-bottom:1px solid var(--border);font-size:.75rem;text-transform:uppercase;letter-spacing:.5px}
.resp-headers-table td{padding:.4rem .6rem;border-bottom:1px solid rgba(42,42,58,.5);font-family:'JetBrains Mono','Courier New',monospace;font-size:.8rem}
.resp-headers-table td:first-child{color:var(--accent);font-weight:600;white-space:nowrap}
.resp-placeholder{text-align:center;padding:3rem 1rem;color:var(--text2);font-size:.9rem}
.resp-placeholder .ph-icon{font-size:2.5rem;margin-bottom:.75rem;opacity:.4}
/* SYNTAX */
.hl-key{color:#c084fc}.hl-str{color:#4ade80}.hl-num{color:var(--cyan)}.hl-bool{color:var(--yellow)}.hl-null{color:#6b7280}
/* HISTORY */
.history-list{max-height:400px;overflow:auto}
.history-item{display:flex;align-items:center;gap:.6rem;padding:.5rem .6rem;background:var(--surface2);border:1px solid var(--border);border-radius:8px;margin-bottom:.4rem;cursor:pointer;transition:all .2s;font-size:.8rem}
.history-item:hover{border-color:var(--primary)}
.history-item .h-method{font-weight:700;font-size:.7rem;padding:2px 6px;border-radius:4px;text-transform:uppercase;flex-shrink:0}
.history-item .h-method.get{background:rgba(34,197,94,.12);color:var(--green)}
.history-item .h-method.post{background:rgba(234,179,8,.12);color:var(--yellow)}
.history-item .h-method.put{background:rgba(34,211,238,.12);color:var(--cyan)}
.history-item .h-method.delete{background:rgba(239,68,68,.12);color:var(--red)}
.history-item .h-method.patch{background:rgba(168,85,247,.12);color:var(--accent)}
.history-item .h-url{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-family:'JetBrains Mono','Courier New',monospace;font-size:.75rem;color:var(--text2)}
.history-item .h-status{font-weight:700;font-size:.75rem;flex-shrink:0}
.history-item .h-status.ok{color:var(--green)}.history-item .h-status.err{color:var(--red)}
.history-item .h-delete{background:none;border:none;color:var(--text2);cursor:pointer;font-size:.9rem;padding:0 2px;transition:color .2s;flex-shrink:0}
.history-item .h-delete:hover{color:var(--red)}
.history-actions{display:flex;gap:.5rem;margin-bottom:.75rem}
.history-actions button{background:var(--surface2);border:1px solid var(--border);color:var(--text2);padding:.35rem .7rem;border-radius:6px;font-size:.75rem;cursor:pointer;font-family:inherit;transition:all .2s}
.history-actions button:hover{border-color:var(--primary);color:var(--primary)}
/* CTA */
.cta-section{text-align:center;padding:4rem 1.5rem;max-width:700px;margin:0 auto}
.cta-section h2{font-size:1.8rem;font-weight:800;margin-bottom:.75rem}
.cta-section h2 span{background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.cta-section p{color:var(--text2);margin-bottom:1.5rem}
.cta-btn{display:inline-block;background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;padding:.75rem 2rem;border-radius:10px;font-weight:700;text-decoration:none;font-size:1rem;transition:transform .2s,box-shadow .2s}
.cta-btn:hover{transform:translateY(-2px);box-shadow:0 8px 30px rgba(99,102,241,.3)}
.footer{border-top:1px solid var(--border);padding:3rem 2rem 2rem;max-width:1200px;margin:0 auto}
.footer-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;margin-bottom:2rem}
.footer-col h4{font-size:.85rem;font-weight:700;margin-bottom:.75rem;color:var(--text)}
.footer-col a{display:block;color:var(--text2);text-decoration:none;font-size:.8rem;margin-bottom:.4rem;transition:color .2s}
.footer-col a:hover{color:var(--primary)}
.footer-bottom{text-align:center;color:var(--text2);font-size:.75rem;padding-top:1.5rem;border-top:1px solid var(--border)}
.fade-in{opacity:0;transform:translateY(20px);transition:opacity .6s,transform .6s}
.fade-in.visible{opacity:1;transform:translateY(0)}
.toast{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%) translateY(80px);background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.6rem 1.2rem;border-radius:10px;font-size:.85rem;font-weight:500;z-index:200;transition:transform .3s;pointer-events:none}
.toast.show{transform:translateX(-50%) translateY(0)}
@media(max-width:768px){
  .nav-links{display:none;position:absolute;top:64px;left:0;right:0;background:var(--bg);border-bottom:1px solid var(--border);flex-direction:column;padding:1rem 2rem;gap:1rem}
  .nav-links.open{display:flex}
  .nav-toggle{display:block}
  .hero h1{font-size:1.6rem}
  .footer-grid{grid-template-columns:1fr}
  .request-bar{flex-direction:column;align-items:stretch}
  .method-select{width:100%}
  .kv-row{flex-wrap:wrap}
  .response-meta{gap:.4rem}
}
</style>
</head>
<body>

<nav class="nav">
  <a href="/" class="nav-logo">NexTool</a>
  <button class="nav-toggle" onclick="document.querySelector('.nav-links').classList.toggle('open')" aria-label="Menu">&#9776;</button>
  <div class="nav-links">
    <a href="/">Home</a>
    <a href="/free-tools/">Tools</a>
    <a href="/free-tools/">Free Tools</a>
    <a href="/blog/">Blog</a>
    <a href="/pro.html" class="nav-cta">Get Pro -- $29</a>
  </div>
</nav>

<section class="hero fade-in">
  <h1>Free <span>API Request Builder</span></h1>
  <p class="tool-summary" style="color:#94a3b8;font-size:15px;line-height:1.6;margin-bottom:24px;max-width:700px;margin-left:auto;margin-right:auto;">Build and send HTTP requests right from your browser. Configure method, URL, headers, authentication, and body. Send requests and view response status, headers, body, and timing. Save request history to localStorage. Like Postman, but free and online.</p>
</section>

<div class="tool-container fade-in">

  <!-- REQUEST URL BAR -->
  <div class="panel">
    <div class="panel-header"><span>Request</span></div>
    <div class="panel-body">
      <div class="request-bar">
        <select id="methodSelect" class="method-select get" onchange="updateMethodColor()">
          <option value="GET">GET</option>
          <option value="POST">POST</option>
          <option value="PUT">PUT</option>
          <option value="DELETE">DELETE</option>
          <option value="PATCH">PATCH</option>
          <option value="HEAD">HEAD</option>
          <option value="OPTIONS">OPTIONS</option>
        </select>
        <input type="url" id="urlInput" class="url-input" placeholder="https://jsonplaceholder.typicode.com/posts/1" value="https://jsonplaceholder.typicode.com/posts/1">
        <button class="send-btn" id="sendBtn" onclick="sendRequest()">
          <span class="send-text">Send</span>
          <span class="spinner"></span>
        </button>
      </div>
    </div>
  </div>

  <!-- REQUEST CONFIG TABS -->
  <div class="panel">
    <div class="panel-header">
      <div class="tab-bar" style="border:none;margin:0">
        <button class="tab-btn active" data-tab="params" onclick="switchTab('req',this)">Params <span class="badge" id="paramsBadge" style="display:none">0</span></button>
        <button class="tab-btn" data-tab="headers" onclick="switchTab('req',this)">Headers <span class="badge" id="headersBadge" style="display:none">0</span></button>
        <button class="tab-btn" data-tab="auth" onclick="switchTab('req',this)">Auth</button>
        <button class="tab-btn" data-tab="body" onclick="switchTab('req',this)">Body</button>
      </div>
    </div>
    <div class="panel-body">
      <!-- PARAMS -->
      <div class="tab-content active" id="tab-params">
        <div id="paramsContainer">
          <div class="kv-row">
            <input type="checkbox" class="kv-check" checked>
            <input type="text" placeholder="Key" value="">
            <input type="text" placeholder="Value" value="">
            <button class="remove-btn" onclick="removeRow(this)" title="Remove">&times;</button>
          </div>
        </div>
        <button class="add-btn" onclick="addKVRow('paramsContainer')">+ Add Parameter</button>
      </div>
      <!-- HEADERS -->
      <div class="tab-content" id="tab-headers">
        <div id="headersContainer">
          <div class="kv-row">
            <input type="checkbox" class="kv-check" checked>
            <input type="text" placeholder="Key" value="Content-Type">
            <input type="text" placeholder="Value" value="application/json">
            <button class="remove-btn" onclick="removeRow(this)" title="Remove">&times;</button>
          </div>
          <div class="kv-row">
            <input type="checkbox" class="kv-check" checked>
            <input type="text" placeholder="Key" value="Accept">
            <input type="text" placeholder="Value" value="application/json">
            <button class="remove-btn" onclick="removeRow(this)" title="Remove">&times;</button>
          </div>
        </div>
        <button class="add-btn" onclick="addKVRow('headersContainer')">+ Add Header</button>
      </div>
      <!-- AUTH -->
      <div class="tab-content" id="tab-auth">
        <select id="authType" class="auth-select" onchange="toggleAuth()">
          <option value="none">No Auth</option>
          <option value="bearer">Bearer Token</option>
          <option value="basic">Basic Auth</option>
          <option value="apikey">API Key</option>
        </select>
        <div id="authBearer" style="display:none">
          <div class="auth-field">
            <label>Token</label>
            <input type="text" id="bearerToken" placeholder="Enter your bearer token">
          </div>
        </div>
        <div id="authBasic" style="display:none">
          <div class="auth-field">
            <label>Username</label>
            <input type="text" id="basicUser" placeholder="Username">
          </div>
          <div class="auth-field">
            <label>Password</label>
            <input type="password" id="basicPass" placeholder="Password">
          </div>
        </div>
        <div id="authApikey" style="display:none">
          <div class="auth-field">
            <label>Key Name</label>
            <input type="text" id="apiKeyName" placeholder="X-API-Key" value="X-API-Key">
          </div>
          <div class="auth-field">
            <label>Key Value</label>
            <input type="text" id="apiKeyValue" placeholder="Enter API key">
          </div>
          <div class="auth-field">
            <label>Add to</label>
            <select id="apiKeyLocation">
              <option value="header">Header</option>
              <option value="query">Query Parameter</option>
            </select>
          </div>
        </div>
      </div>
      <!-- BODY -->
      <div class="tab-content" id="tab-body">
        <div class="body-type-bar">
          <button class="body-type-btn active" onclick="setBodyType('json',this)">JSON</button>
          <button class="body-type-btn" onclick="setBodyType('form',this)">Form URL-Encoded</button>
          <button class="body-type-btn" onclick="setBodyType('raw',this)">Raw</button>
          <button class="body-type-btn" onclick="setBodyType('none',this)">None</button>
        </div>
        <div id="bodyJsonWrap">
          <textarea class="body-editor" id="bodyJsonEditor" placeholder='{"key": "value"}' spellcheck="false">{"title": "Test Post", "body": "This is a test", "userId": 1}</textarea>
        </div>
        <div id="bodyFormWrap" style="display:none">
          <div id="formDataContainer">
            <div class="kv-row">
              <input type="checkbox" class="kv-check" checked>
              <input type="text" placeholder="Key" value="name">
              <input type="text" placeholder="Value" value="John">
              <button class="remove-btn" onclick="removeRow(this)" title="Remove">&times;</button>
            </div>
          </div>
          <button class="add-btn" onclick="addKVRow('formDataContainer')">+ Add Field</button>
        </div>
        <div id="bodyRawWrap" style="display:none">
          <textarea class="body-editor" id="bodyRawEditor" placeholder="Raw body content..." spellcheck="false"></textarea>
        </div>
        <div id="bodyNoneWrap" style="display:none">
          <p style="color:var(--text2);font-size:.85rem;text-align:center;padding:1rem">No body for this request.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- RESPONSE -->
  <div class="panel" id="responsePanel">
    <div class="panel-header"><span>Response</span><span id="respTime" style="font-size:.75rem"></span></div>
    <div class="panel-body">
      <div id="respPlaceholder" class="resp-placeholder">
        <div class="ph-icon">&#9889;</div>
        <div>Click <strong>Send</strong> to make a request</div>
        <div style="font-size:.8rem;margin-top:.5rem;color:var(--text2)">Response will appear here with status, headers, body, and timing</div>
      </div>
      <div id="respContent" style="display:none">
        <div class="response-meta" id="respMeta"></div>
        <div class="resp-tab-bar">
          <button class="resp-tab active" data-rtab="body" onclick="switchRespTab(this)">Body</button>
          <button class="resp-tab" data-rtab="headers" onclick="switchRespTab(this)">Headers</button>
          <button class="resp-tab" data-rtab="raw" onclick="switchRespTab(this)">Raw</button>
        </div>
        <div id="rtab-body" class="tab-content active">
          <div class="resp-body" id="respBody">
            <button class="copy-float" onclick="copyResp('body')">Copy</button>
          </div>
        </div>
        <div id="rtab-headers" class="tab-content">
          <table class="resp-headers-table" id="respHeadersTable">
            <thead><tr><th>Name</th><th>Value</th></tr></thead>
            <tbody id="respHeadersBody"></tbody>
          </table>
        </div>
        <div id="rtab-raw" class="tab-content">
          <div class="resp-body" id="respRaw">
            <button class="copy-float" onclick="copyResp('raw')">Copy</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- HISTORY -->
  <div class="panel">
    <div class="panel-header"><span>Request History</span><span id="historyCount" style="font-size:.75rem">0 saved</span></div>
    <div class="panel-body">
      <div class="history-actions">
        <button onclick="clearHistory()">Clear All</button>
        <button onclick="exportHistory()">Export JSON</button>
        <button onclick="importHistoryClick()">Import JSON</button>
        <input type="file" id="importFile" accept=".json" style="display:none" onchange="importHistory(event)">
      </div>
      <div class="history-list" id="historyList">
        <div class="resp-placeholder" style="padding:1.5rem">
          <div style="font-size:.85rem;color:var(--text2)">No requests yet. Send a request to start building history.</div>
        </div>
      </div>
    </div>
  </div>

</div>

<section class="cta-section fade-in">
  <h2>Need something <span>more powerful</span>?</h2>
  <p>Let us build it for you. Custom APIs, dashboards, automations &mdash; whatever you need.</p>
  <a href="/#contact" class="cta-btn">Start a Project &rarr;</a>
</section>

<section style="max-width:900px;margin:40px auto;padding:0 24px;">
<div style="background:linear-gradient(135deg,rgba(99,102,241,0.1),rgba(168,85,247,0.08));border:1px solid rgba(99,102,241,0.15);border-radius:20px;padding:32px 28px;text-align:center;">
<div style="font-size:13px;color:#818cf8;font-weight:600;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;">Founding Member</div>
<h3 style="font-size:22px;font-weight:800;color:#fff;margin:0 0 8px;">Get NexTool Pro</h3>
<p style="color:#94a3b8;font-size:14px;margin:0 auto 20px;max-width:500px;">No banners, clean output, enhanced features on all 245+ tools. One-time payment.</p>
<div style="display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap;">
<a href="/pro.html" style="display:inline-block;padding:12px 28px;background:linear-gradient(135deg,#6366f1,#a855f7,#ec4899);color:#fff;border-radius:10px;font-weight:700;font-size:15px;text-decoration:none;">$29 -- Get Pro</a>
<a href="/free-tools/" style="color:#94a3b8;font-size:14px;text-decoration:none;">Browse 245+ Free Tools &rarr;</a>
</div>
</div>
</section>


<!-- AUTO-LINKED by NexTool Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/api-tester.html" style="color:var(--primary);text-decoration:none">Free API Tester & HTTP Client</a> · <a href="/free-tools/box-shadow-generator.html" style="color:var(--primary);text-decoration:none">CSS Box Shadow Generator</a> · <a href="/free-tools/emoji-picker.html" style="color:var(--primary);text-decoration:none">Emoji Picker & Search</a></p>
</div>
<footer class="footer fade-in">
  <div class="footer-grid">
    <div class="footer-col">
      <h4>Products</h4>
      <a href="/free-tools/">245+ Free Tools</a>
<a href="/pro.html">NexTool Pro</a>
<a href="/workspace.html">Workspace</a>
    </div>
    <div class="footer-col">
      <h4>Explore</h4>
      <a href="/free-tools/">Free Tools</a><a href="/blog/">Blog</a><a href="/pro.html">FAQ</a><a href="/pro.html">Pro -- $29</a>
    </div>
    <div class="footer-col">
      <h4>Ecosystem</h4>
      <a href="/">NexTool Home</a><a href="/#contact">Contact</a><a href="https://github.com/christian140903-sudo/nextool" target="_blank">GitHub</a>
    </div>
  </div>
  <div class="footer-bottom">&copy; 2026 NexTool. AI-powered tools for everyone.</div>
</footer>

<div class="toast" id="toast"></div>

<script>
/* ============ STATE ============ */
let currentBodyType = 'json';
let lastResponse = null;
let history = [];
const HISTORY_KEY = 'ntool_api_history';

/* ============ INIT ============ */
loadHistory();

/* ============ METHOD COLOR ============ */
function updateMethodColor() {
  const s = document.getElementById('methodSelect');
  s.className = 'method-select ' + s.value.toLowerCase();
}

/* ============ TAB SWITCHING ============ */
function switchTab(group, btn) {
  const tabName = btn.dataset.tab;
  // Deactivate siblings
  btn.parentElement.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  // Show/hide content
  const panel = btn.closest('.panel');
  panel.querySelectorAll('.panel-body > .tab-content').forEach(c => c.classList.remove('active'));
  const target = document.getElementById('tab-' + tabName);
  if (target) target.classList.add('active');
}

function switchRespTab(btn) {
  const tabName = btn.dataset.rtab;
  btn.parentElement.querySelectorAll('.resp-tab').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  document.querySelectorAll('#respContent > .tab-content').forEach(c => c.classList.remove('active'));
  const target = document.getElementById('rtab-' + tabName);
  if (target) target.classList.add('active');
}

/* ============ KV ROWS ============ */
function addKVRow(containerId) {
  const c = document.getElementById(containerId);
  const row = document.createElement('div');
  row.className = 'kv-row';
  row.innerHTML = '<input type="checkbox" class="kv-check" checked><input type="text" placeholder="Key"><input type="text" placeholder="Value"><button class="remove-btn" onclick="removeRow(this)" title="Remove">&times;</button>';
  c.appendChild(row);
  updateBadges();
}

function removeRow(btn) {
  btn.closest('.kv-row').remove();
  updateBadges();
}

function getKV(containerId) {
  const rows = document.querySelectorAll('#' + containerId + ' .kv-row');
  const pairs = [];
  rows.forEach(r => {
    const check = r.querySelector('.kv-check');
    if (check && !check.checked) return;
    const inputs = r.querySelectorAll('input[type="text"]');
    const k = inputs[0].value.trim();
    const v = inputs[1].value.trim();
    if (k) pairs.push([k, v]);
  });
  return pairs;
}

function updateBadges() {
  const pc = getKV('paramsContainer').length;
  const hc = getKV('headersContainer').length;
  const pb = document.getElementById('paramsBadge');
  const hb = document.getElementById('headersBadge');
  if (pc > 0) { pb.style.display = ''; pb.textContent = pc; } else { pb.style.display = 'none'; }
  if (hc > 0) { hb.style.display = ''; hb.textContent = hc; } else { hb.style.display = 'none'; }
}

/* ============ AUTH ============ */
function toggleAuth() {
  const type = document.getElementById('authType').value;
  document.getElementById('authBearer').style.display = type === 'bearer' ? '' : 'none';
  document.getElementById('authBasic').style.display = type === 'basic' ? '' : 'none';
  document.getElementById('authApikey').style.display = type === 'apikey' ? '' : 'none';
}

function getAuthHeaders() {
  const type = document.getElementById('authType').value;
  const headers = {};
  if (type === 'bearer') {
    const token = document.getElementById('bearerToken').value.trim();
    if (token) headers['Authorization'] = 'Bearer ' + token;
  } else if (type === 'basic') {
    const user = document.getElementById('basicUser').value;
    const pass = document.getElementById('basicPass').value;
    if (user) headers['Authorization'] = 'Basic ' + btoa(user + ':' + pass);
  } else if (type === 'apikey') {
    const name = document.getElementById('apiKeyName').value.trim();
    const value = document.getElementById('apiKeyValue').value.trim();
    const loc = document.getElementById('apiKeyLocation').value;
    if (name && value && loc === 'header') headers[name] = value;
  }
  return headers;
}

function getAuthQueryParams() {
  const type = document.getElementById('authType').value;
  if (type === 'apikey') {
    const name = document.getElementById('apiKeyName').value.trim();
    const value = document.getElementById('apiKeyValue').value.trim();
    const loc = document.getElementById('apiKeyLocation').value;
    if (name && value && loc === 'query') return [[name, value]];
  }
  return [];
}

/* ============ BODY ============ */
function setBodyType(type, btn) {
  currentBodyType = type;
  document.querySelectorAll('.body-type-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  document.getElementById('bodyJsonWrap').style.display = type === 'json' ? '' : 'none';
  document.getElementById('bodyFormWrap').style.display = type === 'form' ? '' : 'none';
  document.getElementById('bodyRawWrap').style.display = type === 'raw' ? '' : 'none';
  document.getElementById('bodyNoneWrap').style.display = type === 'none' ? '' : 'none';
}

function getBody() {
  const method = document.getElementById('methodSelect').value;
  if (method === 'GET' || method === 'HEAD' || currentBodyType === 'none') return null;
  if (currentBodyType === 'json') {
    const val = document.getElementById('bodyJsonEditor').value.trim();
    return val || null;
  }
  if (currentBodyType === 'raw') {
    const val = document.getElementById('bodyRawEditor').value.trim();
    return val || null;
  }
  if (currentBodyType === 'form') {
    const pairs = getKV('formDataContainer');
    if (!pairs.length) return null;
    return pairs.map(p => encodeURIComponent(p[0]) + '=' + encodeURIComponent(p[1])).join('&');
  }
  return null;
}

/* ============ BUILD URL ============ */
function buildFullUrl() {
  let base = document.getElementById('urlInput').value.trim() || 'https://jsonplaceholder.typicode.com/posts/1';
  const params = getKV('paramsContainer').concat(getAuthQueryParams());
  if (!params.length) return base;
  const qs = params.map(p => encodeURIComponent(p[0]) + '=' + encodeURIComponent(p[1])).join('&');
  return base + (base.includes('?') ? '&' : '?') + qs;
}

/* ============ SEND REQUEST ============ */
async function sendRequest() {
  const btn = document.getElementById('sendBtn');
  if (btn.classList.contains('loading')) return;

  const method = document.getElementById('methodSelect').value;
  const url = buildFullUrl();

  if (!url || (!url.startsWith('http://') && !url.startsWith('https://'))) {
    showToast('Please enter a valid URL starting with http:// or https://');
    return;
  }

  btn.classList.add('loading');
  btn.disabled = true;

  // Build headers
  const headerPairs = getKV('headersContainer');
  const authHeaders = getAuthHeaders();
  const fetchHeaders = {};
  headerPairs.forEach(h => { fetchHeaders[h[0]] = h[1]; });
  Object.assign(fetchHeaders, authHeaders);

  // Build body
  const body = getBody();
  if (currentBodyType === 'form' && body) {
    fetchHeaders['Content-Type'] = 'application/x-www-form-urlencoded';
  }

  const startTime = performance.now();

  try {
    const fetchOpts = {
      method: method,
      headers: fetchHeaders,
      mode: 'cors'
    };
    if (body && method !== 'GET' && method !== 'HEAD') {
      fetchOpts.body = body;
    }

    const response = await fetch(url, fetchOpts);
    const endTime = performance.now();
    const duration = Math.round(endTime - startTime);

    // Read response
    const respHeaders = {};
    response.headers.forEach((val, key) => { respHeaders[key] = val; });

    let respBodyText = '';
    try {
      respBodyText = await response.text();
    } catch(e) {
      respBodyText = '[Could not read response body]';
    }

    const contentLength = respBodyText.length;

    lastResponse = {
      status: response.status,
      statusText: response.statusText,
      headers: respHeaders,
      body: respBodyText,
      duration: duration,
      size: contentLength,
      url: url,
      method: method
    };

    displayResponse(lastResponse);
    saveToHistory(lastResponse);

  } catch (err) {
    const endTime = performance.now();
    const duration = Math.round(endTime - startTime);

    lastResponse = {
      status: 0,
      statusText: 'Network Error',
      headers: {},
      body: 'Request failed: ' + err.message + '\n\nCommon causes:\n- CORS policy blocking the request\n- Network connectivity issues\n- Invalid URL or domain\n- Server not responding\n\nTip: Many APIs need CORS headers. Try using a CORS proxy or an API that allows cross-origin requests.',
      duration: duration,
      size: 0,
      url: url,
      method: method,
      error: true
    };

    displayResponse(lastResponse);
    saveToHistory(lastResponse);
  }

  btn.classList.remove('loading');
  btn.disabled = false;
}

/* ============ DISPLAY RESPONSE ============ */
function displayResponse(resp) {
  document.getElementById('respPlaceholder').style.display = 'none';
  document.getElementById('respContent').style.display = '';

  // Meta
  const meta = document.getElementById('respMeta');
  let statusClass = 'serr';
  if (resp.status >= 200 && resp.status < 300) statusClass = 's2xx';
  else if (resp.status >= 300 && resp.status < 400) statusClass = 's3xx';
  else if (resp.status >= 400 && resp.status < 500) statusClass = 's4xx';
  else if (resp.status >= 500) statusClass = 's5xx';

  let statusLabel = resp.status > 0 ? resp.status + ' ' + resp.statusText : 'Error';
  meta.innerHTML =
    '<span class="status-badge ' + statusClass + '">' + statusLabel + '</span>' +
    '<span class="meta-pill">Time: <span class="meta-val">' + resp.duration + 'ms</span></span>' +
    '<span class="meta-pill">Size: <span class="meta-val">' + formatBytes(resp.size) + '</span></span>';

  document.getElementById('respTime').textContent = resp.duration + 'ms';

  // Body
  const bodyEl = document.getElementById('respBody');
  let formatted = resp.body;
  try {
    const parsed = JSON.parse(resp.body);
    formatted = JSON.stringify(parsed, null, 2);
    bodyEl.innerHTML = '<button class="copy-float" onclick="copyResp(\'body\')">Copy</button>' + syntaxHighlight(formatted);
  } catch(e) {
    bodyEl.innerHTML = '<button class="copy-float" onclick="copyResp(\'body\')">Copy</button>' + escapeHtml(resp.body);
  }

  // Headers
  const tbody = document.getElementById('respHeadersBody');
  tbody.innerHTML = '';
  const headerKeys = Object.keys(resp.headers);
  if (headerKeys.length === 0) {
    tbody.innerHTML = '<tr><td colspan="2" style="color:var(--text2);text-align:center;padding:1rem">No headers available (CORS may limit visible headers)</td></tr>';
  } else {
    headerKeys.forEach(k => {
      tbody.innerHTML += '<tr><td>' + escapeHtml(k) + '</td><td>' + escapeHtml(resp.headers[k]) + '</td></tr>';
    });
  }

  // Raw
  const rawEl = document.getElementById('respRaw');
  let rawText = 'HTTP/1.1 ' + (resp.status || '0') + ' ' + (resp.statusText || 'Error') + '\n';
  headerKeys.forEach(k => { rawText += k + ': ' + resp.headers[k] + '\n'; });
  rawText += '\n' + resp.body;
  rawEl.innerHTML = '<button class="copy-float" onclick="copyResp(\'raw\')">Copy</button>' + escapeHtml(rawText);
}

/* ============ SYNTAX HIGHLIGHT ============ */
function syntaxHighlight(json) {
  return escapeHtml(json).replace(
    /("(\\u[\da-fA-F]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?|\bnull\b)/g,
    function(match) {
      let cls = 'hl-num';
      if (/^"/.test(match)) {
        cls = /:$/.test(match) ? 'hl-key' : 'hl-str';
      } else if (/true|false/.test(match)) {
        cls = 'hl-bool';
      } else if (/null/.test(match)) {
        cls = 'hl-null';
      }
      return '<span class="' + cls + '">' + match + '</span>';
    }
  );
}

function escapeHtml(s) {
  return s.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
}

/* ============ COPY RESPONSE ============ */
function copyResp(type) {
  if (!lastResponse) return;
  let text;
  if (type === 'body') {
    try {
      text = JSON.stringify(JSON.parse(lastResponse.body), null, 2);
    } catch(e) {
      text = lastResponse.body;
    }
  } else {
    let raw = 'HTTP/1.1 ' + lastResponse.status + ' ' + lastResponse.statusText + '\n';
    Object.keys(lastResponse.headers).forEach(k => { raw += k + ': ' + lastResponse.headers[k] + '\n'; });
    raw += '\n' + lastResponse.body;
    text = raw;
  }
  navigator.clipboard.writeText(text).then(() => showToast('Copied to clipboard'));
}

/* ============ HISTORY ============ */
function saveToHistory(resp) {
  const entry = {
    id: Date.now(),
    method: resp.method,
    url: resp.url,
    status: resp.status,
    statusText: resp.statusText,
    duration: resp.duration,
    timestamp: new Date().toISOString(),
    error: !!resp.error,
    // Save request config too
    config: {
      headers: getKV('headersContainer'),
      authType: document.getElementById('authType').value,
      bodyType: currentBodyType,
      bodyJson: document.getElementById('bodyJsonEditor').value,
      bodyRaw: document.getElementById('bodyRawEditor').value,
      params: getKV('paramsContainer')
    }
  };
  history.unshift(entry);
  if (history.length > 50) history = history.slice(0, 50);
  try { localStorage.setItem(HISTORY_KEY, JSON.stringify(history)); } catch(e) {}
  renderHistory();
}

function loadHistory() {
  try {
    const data = localStorage.getItem(HISTORY_KEY);
    if (data) history = JSON.parse(data);
  } catch(e) { history = []; }
  renderHistory();
}

function renderHistory() {
  const list = document.getElementById('historyList');
  document.getElementById('historyCount').textContent = history.length + ' saved';

  if (history.length === 0) {
    list.innerHTML = '<div class="resp-placeholder" style="padding:1.5rem"><div style="font-size:.85rem;color:var(--text2)">No requests yet. Send a request to start building history.</div></div>';
    return;
  }

  list.innerHTML = history.map((h, i) => {
    const methodClass = h.method.toLowerCase();
    const statusClass = h.status >= 200 && h.status < 400 ? 'ok' : 'err';
    const statusLabel = h.status > 0 ? h.status : 'ERR';
    const ago = timeAgo(h.timestamp);
    return '<div class="history-item" onclick="loadFromHistory(' + i + ')" title="' + escapeHtml(h.url) + '">' +
      '<span class="h-method ' + methodClass + '">' + h.method + '</span>' +
      '<span class="h-url">' + escapeHtml(h.url) + '</span>' +
      '<span class="h-status ' + statusClass + '">' + statusLabel + '</span>' +
      '<span style="font-size:.65rem;color:var(--text2);flex-shrink:0">' + h.duration + 'ms</span>' +
      '<span style="font-size:.65rem;color:var(--text2);flex-shrink:0">' + ago + '</span>' +
      '<button class="h-delete" onclick="event.stopPropagation();deleteHistory(' + i + ')" title="Delete">&times;</button>' +
      '</div>';
  }).join('');
}

function loadFromHistory(idx) {
  const h = history[idx];
  if (!h) return;

  // Set method
  document.getElementById('methodSelect').value = h.method;
  updateMethodColor();

  // Set URL (remove query params, they'll come from config)
  const urlBase = h.url.split('?')[0];
  document.getElementById('urlInput').value = urlBase;

  // Restore config if available
  if (h.config) {
    // Params
    const pc = document.getElementById('paramsContainer');
    pc.innerHTML = '';
    if (h.config.params && h.config.params.length) {
      h.config.params.forEach(p => {
        const row = document.createElement('div');
        row.className = 'kv-row';
        row.innerHTML = '<input type="checkbox" class="kv-check" checked><input type="text" placeholder="Key" value="' + escAttr(p[0]) + '"><input type="text" placeholder="Value" value="' + escAttr(p[1]) + '"><button class="remove-btn" onclick="removeRow(this)" title="Remove">&times;</button>';
        pc.appendChild(row);
      });
    } else {
      addKVRow('paramsContainer');
    }

    // Headers
    const hc = document.getElementById('headersContainer');
    hc.innerHTML = '';
    if (h.config.headers && h.config.headers.length) {
      h.config.headers.forEach(p => {
        const row = document.createElement('div');
        row.className = 'kv-row';
        row.innerHTML = '<input type="checkbox" class="kv-check" checked><input type="text" placeholder="Key" value="' + escAttr(p[0]) + '"><input type="text" placeholder="Value" value="' + escAttr(p[1]) + '"><button class="remove-btn" onclick="removeRow(this)" title="Remove">&times;</button>';
        hc.appendChild(row);
      });
    }

    // Auth
    if (h.config.authType) {
      document.getElementById('authType').value = h.config.authType;
      toggleAuth();
    }

    // Body
    if (h.config.bodyType) {
      currentBodyType = h.config.bodyType;
      document.querySelectorAll('.body-type-btn').forEach(b => {
        b.classList.toggle('active', b.textContent.toLowerCase().includes(h.config.bodyType) ||
          (h.config.bodyType === 'form' && b.textContent.includes('Form')) ||
          (h.config.bodyType === 'none' && b.textContent === 'None'));
      });
      // Reset active properly
      document.querySelectorAll('.body-type-btn').forEach(b => b.classList.remove('active'));
      const btnMap = {json:0,form:1,raw:2,none:3};
      const btns = document.querySelectorAll('.body-type-btn');
      if (btns[btnMap[h.config.bodyType]]) btns[btnMap[h.config.bodyType]].classList.add('active');

      document.getElementById('bodyJsonWrap').style.display = h.config.bodyType === 'json' ? '' : 'none';
      document.getElementById('bodyFormWrap').style.display = h.config.bodyType === 'form' ? '' : 'none';
      document.getElementById('bodyRawWrap').style.display = h.config.bodyType === 'raw' ? '' : 'none';
      document.getElementById('bodyNoneWrap').style.display = h.config.bodyType === 'none' ? '' : 'none';

      if (h.config.bodyJson) document.getElementById('bodyJsonEditor').value = h.config.bodyJson;
      if (h.config.bodyRaw) document.getElementById('bodyRawEditor').value = h.config.bodyRaw;
    }
  } else {
    // Legacy: just set URL
    document.getElementById('urlInput').value = h.url;
  }

  updateBadges();
  showToast('Loaded request from history');
}

function deleteHistory(idx) {
  history.splice(idx, 1);
  try { localStorage.setItem(HISTORY_KEY, JSON.stringify(history)); } catch(e) {}
  renderHistory();
}

function clearHistory() {
  if (history.length === 0) return;
  history = [];
  try { localStorage.removeItem(HISTORY_KEY); } catch(e) {}
  renderHistory();
  showToast('History cleared');
}

function exportHistory() {
  if (history.length === 0) { showToast('No history to export'); return; }
  const blob = new Blob([JSON.stringify(history, null, 2)], { type: 'application/json' });
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = 'api-request-history.json';
  a.click();
  URL.revokeObjectURL(a.href);
  showToast('History exported');
}

function importHistoryClick() {
  document.getElementById('importFile').click();
}

function importHistory(event) {
  const file = event.target.files[0];
  if (!file) return;
  const reader = new FileReader();
  reader.onload = function(e) {
    try {
      const data = JSON.parse(e.target.result);
      if (Array.isArray(data)) {
        history = data.concat(history).slice(0, 50);
        try { localStorage.setItem(HISTORY_KEY, JSON.stringify(history)); } catch(ex) {}
        renderHistory();
        showToast('Imported ' + data.length + ' requests');
      }
    } catch(ex) {
      showToast('Invalid JSON file');
    }
  };
  reader.readAsText(file);
  event.target.value = '';
}

/* ============ HELPERS ============ */
function formatBytes(bytes) {
  if (bytes === 0) return '0 B';
  const k = 1024, sizes = ['B', 'KB', 'MB'];
  const i = Math.floor(Math.log(bytes) / Math.log(k));
  return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];
}

function timeAgo(iso) {
  const diff = Date.now() - new Date(iso).getTime();
  const mins = Math.floor(diff / 60000);
  if (mins < 1) return 'now';
  if (mins < 60) return mins + 'm';
  const hrs = Math.floor(mins / 60);
  if (hrs < 24) return hrs + 'h';
  const days = Math.floor(hrs / 24);
  return days + 'd';
}

function escAttr(s) {
  return (s || '').replace(/&/g, '&amp;').replace(/"/g, '&quot;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
}

function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2000);
}

/* Tab key in textarea */
document.querySelectorAll('.body-editor').forEach(ta => {
  ta.addEventListener('keydown', e => {
    if (e.key === 'Tab') {
      e.preventDefault();
      const start = ta.selectionStart, end = ta.selectionEnd;
      ta.value = ta.value.substring(0, start) + '  ' + ta.value.substring(end);
      ta.selectionStart = ta.selectionEnd = start + 2;
    }
  });
});

/* Enter to send from URL */
document.getElementById('urlInput').addEventListener('keydown', e => {
  if (e.key === 'Enter') sendRequest();
});

/* IntersectionObserver fade-in */
const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('visible'); observer.unobserve(entry.target); }});
}, { threshold: 0.1 });
document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));

updateBadges();
</script>
<script src="/js/analytics-lite.js" defer></script>
<script src="/js/revenue.js" defer></script>
<script src="/js/lead-capture.js" defer></script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What is the API Request Builder?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "The API Request Builder is a free online tool that lets you build and send HTTP requests directly from your browser. It supports GET, POST, PUT, DELETE, PATCH, HEAD, and OPTIONS methods with headers, authentication, query parameters, and request body. You can view the response status code, headers, body, and timing."
      }
    },
    {
      "@type": "Question",
      "name": "Does this tool actually send HTTP requests?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, unlike code generators, this tool actually sends real HTTP requests using the browser's Fetch API. You will see the actual response from the server including status code, response headers, body content, and how long the request took. Note that CORS restrictions may limit which APIs you can call from the browser."
      }
    },
    {
      "@type": "Question",
      "name": "What authentication methods are supported?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "The tool supports Bearer Token authentication, Basic Auth (username/password), and API Key authentication. API keys can be sent either as a header or as a query parameter. All authentication data stays in your browser and is never sent to any third-party server."
      }
    },
    {
      "@type": "Question",
      "name": "Can I save my requests for later?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, all requests are automatically saved to your browser's localStorage with the full request configuration including method, URL, headers, body, and parameters. You can click any history entry to reload it. You can also export your history as JSON and import it later or on another device."
      }
    },
    {
      "@type": "Question",
      "name": "Is this a free alternative to Postman?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, the NexTool API Request Builder works like a lightweight Postman alternative that runs entirely in your browser with no installation or signup required. It covers the most common API testing needs: building requests, sending them, viewing responses, and managing request history. For a distraction-free experience, upgrade to NexTool Pro for a one-time $29 payment."
      }
    }
  ]
}
</script>
</body>
</html>
