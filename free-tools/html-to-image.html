<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HTML to Image Converter — Capture HTML as PNG/JPG | NexTool</title>
<meta name="description" content="Convert HTML and CSS code to PNG or JPG images for free. Live preview, preset templates, adjustable width and scale. Copy to clipboard or download. 100% client-side.">
<meta name="keywords" content="html to image, html to png, html to jpg, html screenshot, html capture, convert html to image, free html converter, NexTool">
<meta name="robots" content="index, follow">
<meta property="og:title" content="HTML to Image Converter — Capture HTML as PNG/JPG | NexTool">
<meta property="og:description" content="Paste HTML + CSS code and capture it as a PNG or JPG image. Live preview, preset templates, adjustable settings. No upload needed.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://nextool.app/free-tools/html-to-image.html">
<meta property="og:image" content="https://nextool.app/assets/og-default.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<link rel="canonical" href="https://nextool.app/free-tools/html-to-image.html">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="HTML to Image Converter — Capture HTML as PNG/JPG | NexTool">
<meta name="twitter:description" content="Convert HTML and CSS to images. Live preview, preset templates, download or copy. Free tool by NexTool.">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"SoftwareApplication","name":"NexTool HTML to Image Converter","applicationCategory":"UtilitiesApplication","operatingSystem":"Web","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"description":"Free online tool to convert HTML and CSS code into PNG or JPG images. Live preview, preset templates, adjustable width and scale, copy to clipboard or download."}
</script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#050508;--surface:#111118;--surface2:#1a1a24;--border:#2a2a3a;--text:#e4e4eb;--text2:#9494a8;--primary:#6366f1;--accent:#a855f7;--pink:#ec4899;--green:#22c55e;--red:#ef4444;--cyan:#22d3ee;--yellow:#eab308;--radius:12px;--glass:rgba(17,17,24,0.7)}
html{scroll-behavior:smooth}
body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);line-height:1.6;min-height:100vh;overflow-x:hidden}
.nav{position:sticky;top:0;z-index:100;background:rgba(5,5,8,0.85);backdrop-filter:blur(20px);border-bottom:1px solid var(--border);padding:0 2rem;height:64px;display:flex;align-items:center;justify-content:space-between}
.nav-logo{font-size:1.4rem;font-weight:800;background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-decoration:none}
.nav-links{display:flex;align-items:center;gap:1.5rem}
.nav-links a{color:var(--text2);text-decoration:none;font-size:.875rem;font-weight:500;transition:color .2s}
.nav-links a:hover{color:var(--text)}
.nav-cta{background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff!important;padding:.5rem 1.2rem;border-radius:8px;font-weight:600;-webkit-text-fill-color:#fff!important}
.nav-cta:hover{opacity:.9}
.nav-toggle{display:none;background:none;border:none;color:var(--text);font-size:1.5rem;cursor:pointer}
.hero{text-align:center;padding:3rem 1.5rem 2rem;max-width:700px;margin:0 auto}
.hero h1{font-size:2.2rem;font-weight:800;line-height:1.2;margin-bottom:.75rem}
.hero h1 span{background:linear-gradient(135deg,var(--primary),var(--accent),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hero p{color:var(--text2);font-size:1rem}
.tool-container{max-width:1100px;margin:0 auto;padding:0 1.5rem 3rem}
/* TEMPLATE BAR */
.template-bar{margin-bottom:1.25rem}
.template-bar label{font-size:.78rem;color:var(--text2);font-weight:600;text-transform:uppercase;letter-spacing:.5px;margin-bottom:.5rem;display:block}
.template-btns{display:flex;gap:.5rem;flex-wrap:wrap}
.template-btn{background:var(--surface2);border:1px solid var(--border);color:var(--text2);padding:.4rem .9rem;border-radius:8px;font-size:.78rem;font-weight:600;cursor:pointer;font-family:inherit;transition:all .2s}
.template-btn:hover{border-color:var(--primary);color:var(--text)}
.template-btn.active{background:linear-gradient(135deg,var(--primary),var(--accent));border-color:transparent;color:#fff}
/* EDITOR LAYOUT */
.editor-layout{display:grid;grid-template-columns:1fr 1fr;gap:1.25rem;margin-bottom:1.25rem}
.editor-pane{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;display:flex;flex-direction:column}
.pane-header{padding:.6rem 1rem;background:var(--surface2);border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between}
.pane-header h3{font-size:.82rem;font-weight:700;color:var(--text)}
.pane-header .pane-badge{font-size:.68rem;color:var(--text2);background:rgba(99,102,241,.1);padding:2px 8px;border-radius:4px}
.code-area{width:100%;min-height:320px;background:var(--bg);color:var(--text);border:none;padding:1rem;font-family:'JetBrains Mono','Fira Code',monospace;font-size:.82rem;line-height:1.6;resize:vertical;outline:none;tab-size:2}
.code-area::placeholder{color:var(--text2);opacity:.5}
.preview-frame{flex:1;min-height:320px;background:#fff;overflow:auto}
.preview-frame iframe{width:100%;height:100%;border:none;min-height:320px}
/* OPTIONS */
.options-row{display:flex;gap:1rem;flex-wrap:wrap;align-items:flex-end;margin-bottom:1.25rem}
.opt-group{flex:1;min-width:140px}
.opt-group label{display:block;font-size:.78rem;color:var(--text2);font-weight:600;margin-bottom:.35rem;text-transform:uppercase;letter-spacing:.5px}
.opt-group select,.opt-group input{width:100%;background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.5rem .75rem;border-radius:8px;font-size:.85rem;font-family:inherit;outline:none;transition:border-color .2s;appearance:auto}
.opt-group select:focus,.opt-group input:focus{border-color:var(--primary)}
/* ACTION BAR */
.action-bar{display:flex;flex-wrap:wrap;gap:.75rem;align-items:center;margin-bottom:1.5rem}
.capture-btn{background:linear-gradient(135deg,var(--primary),var(--accent))!important;border:none!important;color:#fff!important;padding:.6rem 2rem;border-radius:8px;font-size:.9rem;font-weight:700;cursor:pointer;font-family:inherit;transition:all .2s}
.capture-btn:hover:not(:disabled){opacity:.9;transform:translateY(-1px);box-shadow:0 6px 24px rgba(99,102,241,.3)}
.capture-btn:disabled{opacity:.4;cursor:not-allowed}
.secondary-btn{background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.55rem 1.2rem;border-radius:8px;font-size:.85rem;font-weight:600;cursor:pointer;font-family:inherit;transition:all .2s}
.secondary-btn:hover{border-color:var(--primary);background:rgba(99,102,241,.12)}
/* RESULT */
.result-area{display:none;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:1.25rem;text-align:center}
.result-area.active{display:block}
.result-area h3{font-size:1rem;font-weight:700;margin-bottom:1rem;color:var(--text)}
.result-img{max-width:100%;border-radius:8px;border:1px solid var(--border);margin-bottom:1rem;background:#fff}
.result-meta{font-size:.78rem;color:var(--text2);margin-bottom:1rem}
.result-actions{display:flex;gap:.75rem;justify-content:center;flex-wrap:wrap}
/* CTA */
.cta-section{text-align:center;padding:4rem 1.5rem;max-width:700px;margin:0 auto}
.cta-section h2{font-size:1.8rem;font-weight:800;margin-bottom:.75rem}
.cta-section h2 span{background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.cta-section p{color:var(--text2);margin-bottom:1.5rem}
.cta-btn{display:inline-block;background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;padding:.75rem 2rem;border-radius:10px;font-weight:700;text-decoration:none;font-size:1rem;transition:transform .2s,box-shadow .2s}
.cta-btn:hover{transform:translateY(-2px);box-shadow:0 8px 30px rgba(99,102,241,.3)}
/* FOOTER */
.footer{border-top:1px solid var(--border);padding:3rem 2rem 2rem;max-width:1200px;margin:0 auto}
.footer-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;margin-bottom:2rem}
.footer-col h4{font-size:.85rem;font-weight:700;margin-bottom:.75rem;color:var(--text)}
.footer-col a{display:block;color:var(--text2);text-decoration:none;font-size:.8rem;margin-bottom:.4rem;transition:color .2s}
.footer-col a:hover{color:var(--primary)}
.footer-bottom{text-align:center;color:var(--text2);font-size:.75rem;padding-top:1.5rem;border-top:1px solid var(--border)}
.fade-in{opacity:0;transform:translateY(20px);transition:opacity .6s,transform .6s}
.fade-in.visible{opacity:1;transform:translateY(0)}
.toast{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%) translateY(80px);background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.6rem 1.2rem;border-radius:10px;font-size:.85rem;font-weight:500;z-index:200;transition:transform .3s;pointer-events:none}
.toast.show{transform:translateX(-50%) translateY(0)}
@media(max-width:768px){
  .nav-links{display:none;position:absolute;top:64px;left:0;right:0;background:var(--bg);border-bottom:1px solid var(--border);flex-direction:column;padding:1rem 2rem;gap:1rem}
  .nav-links.open{display:flex}
  .nav-toggle{display:block}
  .hero h1{font-size:1.6rem}
  .footer-grid{grid-template-columns:1fr}
  .editor-layout{grid-template-columns:1fr}
  .options-row{flex-direction:column}
  .action-bar{flex-direction:column}
  .action-bar button{width:100%}
  .result-actions{flex-direction:column}
  .result-actions button{width:100%}
}
</style>
</head>
<body>

<nav class="nav">
  <a href="/" class="nav-logo">NexTool</a>
  <button class="nav-toggle" onclick="document.querySelector('.nav-links').classList.toggle('open')" aria-label="Menu">&#9776;</button>
  <div class="nav-links">
    <a href="/">Home</a>
    <a href="/free-tools/">Tools</a>
    <a href="/free-tools/">Free Tools</a>
    <a href="/blog/">Blog</a>
    <a href="/pro.html" class="nav-cta">Get Pro &mdash; $29</a>
  </div>
</nav>

<section class="hero fade-in">
  <h1>Free <span>HTML to Image</span> Converter</h1>
  <p class="tool-summary" style="color:#94a3b8;font-size:15px;line-height:1.6;margin-bottom:24px;max-width:700px;margin-left:auto;margin-right:auto;">Paste your HTML and CSS code, see a live preview, then capture it as a PNG or JPG image. Adjust output width, scale, background color, and format. Use preset templates to get started fast. Runs 100% in your browser &mdash; no data leaves your device.</p>
</section>

<div class="tool-container fade-in">

  <div class="template-bar">
    <label>Quick Templates</label>
    <div class="template-btns">
      <button class="template-btn active" onclick="loadTemplate('custom')">Custom</button>
      <button class="template-btn" onclick="loadTemplate('card')">Business Card</button>
      <button class="template-btn" onclick="loadTemplate('social')">Social Media Card</button>
      <button class="template-btn" onclick="loadTemplate('banner')">Banner</button>
    </div>
  </div>

  <div class="editor-layout">
    <div class="editor-pane">
      <div class="pane-header">
        <h3>HTML + CSS Code</h3>
        <span class="pane-badge">Editor</span>
      </div>
      <textarea class="code-area" id="codeArea" placeholder="Paste your HTML + CSS code here...&#10;&#10;Example:&#10;<div style=&quot;padding:40px;background:#6366f1;color:#fff;font-family:sans-serif;text-align:center;border-radius:12px;&quot;>&#10;  <h1>Hello World</h1>&#10;  <p>This will be captured as an image</p>&#10;</div>" spellcheck="false"></textarea>
    </div>
    <div class="editor-pane">
      <div class="pane-header">
        <h3>Live Preview</h3>
        <span class="pane-badge">Preview</span>
      </div>
      <div class="preview-frame" id="previewFrame">
        <iframe id="previewIframe" sandbox="allow-same-origin" title="HTML Preview"></iframe>
      </div>
    </div>
  </div>

  <div class="options-row">
    <div class="opt-group">
      <label>Output Format</label>
      <select id="formatSelect">
        <option value="png">PNG (lossless)</option>
        <option value="jpeg">JPG (smaller file)</option>
      </select>
    </div>
    <div class="opt-group">
      <label>Width (px)</label>
      <input type="number" id="widthInput" value="800" min="100" max="3840" step="10">
    </div>
    <div class="opt-group">
      <label>Scale</label>
      <select id="scaleSelect">
        <option value="1">1x (standard)</option>
        <option value="2" selected>2x (retina)</option>
      </select>
    </div>
    <div class="opt-group">
      <label>Background</label>
      <input type="color" id="bgColor" value="#ffffff" style="height:38px;padding:4px;cursor:pointer;">
    </div>
  </div>

  <div class="action-bar">
    <button class="capture-btn" id="captureBtn" onclick="captureImage()">Capture as Image</button>
    <button class="secondary-btn" onclick="copyToClipboard()">Copy to Clipboard</button>
    <button class="secondary-btn" onclick="clearEditor()">Clear</button>
  </div>

  <div class="result-area" id="resultArea">
    <h3 id="resultTitle">Captured Image</h3>
    <img class="result-img" id="resultImg" alt="Captured HTML">
    <div class="result-meta" id="resultMeta"></div>
    <div class="result-actions">
      <button class="capture-btn" id="downloadBtn" onclick="downloadImage()">Download Image</button>
      <button class="secondary-btn" onclick="copyResultToClipboard()">Copy to Clipboard</button>
    </div>
  </div>
</div>

<section class="cta-section fade-in">
  <h2>Need something <span>more powerful</span>?</h2>
  <p>Let us build it for you. Custom APIs, dashboards, automations &mdash; whatever you need.</p>
  <a href="/#contact" class="cta-btn">Start a Project &rarr;</a>
</section>

<section style="max-width:900px;margin:40px auto;padding:0 24px;">
<div style="background:linear-gradient(135deg,rgba(99,102,241,0.1),rgba(168,85,247,0.08));border:1px solid rgba(99,102,241,0.15);border-radius:20px;padding:32px 28px;text-align:center;">
<div style="font-size:13px;color:#818cf8;font-weight:600;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;">Founding Member</div>
<h3 style="font-size:22px;font-weight:800;color:#fff;margin:0 0 8px;">Get NexTool Pro</h3>
<p style="color:#94a3b8;font-size:14px;margin:0 auto 20px;max-width:500px;">No banners, clean output, enhanced features on all 250+ tools. One-time payment.</p>
<div style="display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap;">
<a href="/pro.html" style="display:inline-block;padding:12px 28px;background:linear-gradient(135deg,#6366f1,#a855f7,#ec4899);color:#fff;border-radius:10px;font-weight:700;font-size:15px;text-decoration:none;">$29 &mdash; Get Pro</a>
<a href="/free-tools/" style="color:#94a3b8;font-size:14px;text-decoration:none;">Browse 250+ Free Tools &rarr;</a>
</div>
</div>
</section>


<!-- AUTO-LINKED by NexTool Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/box-shadow-generator.html" style="color:var(--primary);text-decoration:none">CSS Box Shadow Generator</a> · <a href="/free-tools/emoji-picker.html" style="color:var(--primary);text-decoration:none">Emoji Picker & Search</a> · <a href="/free-tools/json-to-yaml-converter.html" style="color:var(--primary);text-decoration:none">Free JSON to YAML Converter</a></p>
</div>
<footer class="footer fade-in">
  <div class="footer-grid">
    <div class="footer-col">
      <h4>Products</h4>
      <a href="/free-tools/">250+ Free Tools</a>
<a href="/pro.html">NexTool Pro</a>
<a href="/workspace.html">Workspace</a>
    </div>
    <div class="footer-col">
      <h4>Explore</h4>
      <a href="/free-tools/">Free Tools</a><a href="/blog/">Blog</a><a href="/pro.html">FAQ</a><a href="/pro.html">Pro &mdash; $29</a>
    </div>
    <div class="footer-col">
      <h4>Ecosystem</h4>
      <a href="/">NexTool Home</a><a href="/#contact">Contact</a><a href="https://github.com/christian140903-sudo/nextool" target="_blank">GitHub</a>
    </div>
  </div>
  <div class="footer-bottom">&copy; 2026 NexTool. AI-powered tools for everyone.</div>
</footer>

<div class="toast" id="toast"></div>

<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<script>
var codeArea = document.getElementById('codeArea');
var previewIframe = document.getElementById('previewIframe');
var resultArea = document.getElementById('resultArea');
var resultImg = document.getElementById('resultImg');
var lastBlob = null;
var lastFileName = 'capture';
var debounceTimer = null;

// Templates
var templates = {
  custom: '',
  card: '<div style="width:350px;padding:40px;background:linear-gradient(135deg,#1a1a2e,#16213e);border-radius:16px;font-family:Inter,sans-serif;color:#fff;">\n  <div style="width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,#6366f1,#a855f7);display:flex;align-items:center;justify-content:center;font-size:24px;margin-bottom:20px;">N</div>\n  <h2 style="margin:0 0 4px;font-size:22px;font-weight:700;">Jane Smith</h2>\n  <p style="margin:0 0 16px;color:#94a3b8;font-size:14px;">Senior Product Designer</p>\n  <div style="border-top:1px solid rgba(255,255,255,0.1);padding-top:16px;font-size:13px;color:#94a3b8;">\n    <p style="margin:0 0 6px;">jane@company.com</p>\n    <p style="margin:0 0 6px;">+1 (555) 123-4567</p>\n    <p style="margin:0;">company.com</p>\n  </div>\n</div>',
  social: '<div style="width:500px;padding:48px;background:linear-gradient(135deg,#6366f1,#a855f7,#ec4899);border-radius:20px;font-family:Inter,sans-serif;color:#fff;text-align:center;">\n  <div style="font-size:14px;font-weight:600;text-transform:uppercase;letter-spacing:2px;opacity:0.8;margin-bottom:16px;">Pro Tip</div>\n  <h1 style="margin:0 0 16px;font-size:32px;font-weight:800;line-height:1.2;">5 CSS Tricks You Didn\'t Know</h1>\n  <p style="margin:0 0 24px;font-size:16px;opacity:0.9;max-width:400px;margin-left:auto;margin-right:auto;">Transform your web design workflow with these powerful techniques.</p>\n  <div style="display:inline-block;padding:10px 24px;background:rgba(255,255,255,0.2);border-radius:8px;font-weight:600;font-size:14px;">Read More</div>\n</div>',
  banner: '<div style="width:728px;height:90px;background:linear-gradient(90deg,#050508,#1a1a24);border:1px solid rgba(99,102,241,0.3);border-radius:12px;font-family:Inter,sans-serif;display:flex;align-items:center;padding:0 32px;gap:24px;">\n  <div style="font-size:24px;font-weight:800;background:linear-gradient(135deg,#6366f1,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;">NexTool</div>\n  <div style="flex:1;color:#e4e4eb;font-size:14px;">250+ free developer tools. No signup. No limits. Just works.</div>\n  <div style="padding:8px 20px;background:linear-gradient(135deg,#6366f1,#a855f7);color:#fff;border-radius:8px;font-weight:600;font-size:13px;white-space:nowrap;">Try Free</div>\n</div>'
};

// Load default template
codeArea.value = templates.card;

function loadTemplate(key) {
  document.querySelectorAll('.template-btn').forEach(function(b) {
    b.classList.toggle('active', b.textContent.toLowerCase().includes(key) || (key === 'custom' && b.textContent === 'Custom'));
  });
  if (key === 'custom') {
    codeArea.value = '';
    codeArea.focus();
  } else {
    codeArea.value = templates[key] || '';
  }
  updatePreview();
}

// Live preview with debounce
codeArea.addEventListener('input', function() {
  clearTimeout(debounceTimer);
  debounceTimer = setTimeout(updatePreview, 300);
});

function updatePreview() {
  var code = codeArea.value;
  var bgColor = document.getElementById('bgColor').value;
  var doc = previewIframe.contentDocument || previewIframe.contentWindow.document;
  doc.open();
  doc.write('<!DOCTYPE html><html><head><meta charset="UTF-8"><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet"><style>*{margin:0;padding:0;box-sizing:border-box}body{background:' + bgColor + ';font-family:Inter,sans-serif;padding:16px;}</style></head><body>' + code + '</body></html>');
  doc.close();
}

// Update preview when bg color changes
document.getElementById('bgColor').addEventListener('input', function() {
  updatePreview();
});

// Initial preview
setTimeout(updatePreview, 100);

/* ---- Capture ---- */
async function captureImage() {
  var code = codeArea.value.trim();
  if (!code) {
    showToast('Enter some HTML code first');
    return;
  }
  if (typeof html2canvas === 'undefined') {
    showToast('Capture library is still loading. Please try again.');
    return;
  }

  var captureBtn = document.getElementById('captureBtn');
  captureBtn.disabled = true;
  captureBtn.textContent = 'Capturing...';

  var format = document.getElementById('formatSelect').value;
  var width = parseInt(document.getElementById('widthInput').value) || 800;
  var scale = parseFloat(document.getElementById('scaleSelect').value);
  var bgColor = document.getElementById('bgColor').value;
  var mimeType = format === 'jpeg' ? 'image/jpeg' : 'image/png';
  var ext = format === 'jpeg' ? 'jpg' : 'png';

  try {
    // Create an off-screen container for rendering
    var container = document.createElement('div');
    container.style.cssText = 'position:absolute;left:-99999px;top:0;width:' + width + 'px;background:' + bgColor + ';font-family:Inter,sans-serif;padding:16px;';
    container.innerHTML = code;
    document.body.appendChild(container);

    // Add Inter font link for rendering
    var fontLink = document.createElement('link');
    fontLink.href = 'https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap';
    fontLink.rel = 'stylesheet';
    container.prepend(fontLink);

    // Wait a moment for fonts to load
    await new Promise(function(r) { setTimeout(r, 200); });

    var canvas = await html2canvas(container, {
      scale: scale,
      backgroundColor: bgColor,
      useCORS: true,
      logging: false,
      width: width
    });

    document.body.removeChild(container);

    var dataUrl = canvas.toDataURL(mimeType, 0.92);
    lastBlob = await new Promise(function(resolve) {
      canvas.toBlob(function(b) { resolve(b); }, mimeType, 0.92);
    });
    lastFileName = 'html-capture.' + ext;

    resultImg.src = dataUrl;
    document.getElementById('resultMeta').textContent = canvas.width + ' x ' + canvas.height + 'px | ' + formatBytes(lastBlob.size) + ' | ' + ext.toUpperCase();
    resultArea.classList.add('active');
    resultArea.scrollIntoView({ behavior: 'smooth', block: 'nearest' });

    showToast('Image captured successfully');
  } catch (err) {
    showToast('Capture failed: ' + err.message);
  }

  captureBtn.disabled = false;
  captureBtn.textContent = 'Capture as Image';
}

function downloadImage() {
  if (!lastBlob) {
    showToast('No image to download. Capture first.');
    return;
  }
  var url = URL.createObjectURL(lastBlob);
  var a = document.createElement('a');
  a.href = url;
  a.download = lastFileName;
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);
}

async function copyToClipboard() {
  var code = codeArea.value;
  if (!code.trim()) {
    showToast('Nothing to copy');
    return;
  }
  try {
    await navigator.clipboard.writeText(code);
    showToast('HTML code copied to clipboard');
  } catch (err) {
    showToast('Could not copy to clipboard');
  }
}

async function copyResultToClipboard() {
  if (!lastBlob) {
    showToast('No image to copy. Capture first.');
    return;
  }
  try {
    // ClipboardItem requires PNG
    var pngBlob = lastBlob;
    if (lastBlob.type !== 'image/png') {
      // Convert to PNG for clipboard
      var img = new Image();
      img.src = resultImg.src;
      await new Promise(function(r) { img.onload = r; });
      var c = document.createElement('canvas');
      c.width = img.naturalWidth;
      c.height = img.naturalHeight;
      c.getContext('2d').drawImage(img, 0, 0);
      pngBlob = await new Promise(function(resolve) {
        c.toBlob(function(b) { resolve(b); }, 'image/png');
      });
    }
    await navigator.clipboard.write([
      new ClipboardItem({ 'image/png': pngBlob })
    ]);
    showToast('Image copied to clipboard');
  } catch (err) {
    showToast('Could not copy image. Try downloading instead.');
  }
}

function clearEditor() {
  codeArea.value = '';
  updatePreview();
  resultArea.classList.remove('active');
  lastBlob = null;
  document.querySelectorAll('.template-btn').forEach(function(b) {
    b.classList.toggle('active', b.textContent === 'Custom');
  });
}

function formatBytes(bytes) {
  if (bytes === 0) return '0 B';
  var k = 1024, sizes = ['B', 'KB', 'MB', 'GB'];
  var i = Math.floor(Math.log(bytes) / Math.log(k));
  return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];
}

function showToast(msg) {
  var t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(function() { t.classList.remove('show'); }, 2500);
}

var observer = new IntersectionObserver(function(entries) {
  entries.forEach(function(entry) {
    if (entry.isIntersecting) {
      entry.target.classList.add('visible');
      observer.unobserve(entry.target);
    }
  });
}, { threshold: 0.1 });
document.querySelectorAll('.fade-in').forEach(function(el) { observer.observe(el); });
</script>
<script src="/js/analytics-lite.js" defer></script>
<script src="/js/revenue.js" defer></script>
<script src="/js/lead-capture.js" defer></script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "How do I convert HTML to an image for free?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Paste your HTML and CSS code into NexTool's HTML to Image converter. The live preview shows your rendered HTML. Click Capture as Image to generate a PNG or JPG. Download the image or copy it to your clipboard. No signup required."
      }
    },
    {
      "@type": "Question",
      "name": "What image formats does this HTML to image converter support?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "You can export your HTML as PNG (lossless, larger files) or JPG (compressed, smaller files). You can also choose 1x or 2x scale for standard or retina-quality output."
      }
    },
    {
      "@type": "Question",
      "name": "Is my HTML code safe when using this tool?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes. NexTool's HTML to Image converter runs 100% in your browser using html2canvas. Your code is never sent to any server. All rendering and capture happens locally on your device."
      }
    },
    {
      "@type": "Question",
      "name": "Can I use preset templates?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes. The tool includes preset templates for a business card, social media card, and banner. Click any template to load it instantly, then customize the HTML and CSS to your needs."
      }
    }
  ]
}
</script>
</body>
</html>