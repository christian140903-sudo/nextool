<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Free SVG Wave Generator — Create Wave Dividers for Websites | NexTool</title>
<meta name="description" content="Generate beautiful SVG wave dividers and section separators for your website. Control amplitude, frequency, layers, colors, and export as SVG or CSS. Free.">
<meta name="keywords" content="SVG wave generator, wave divider, section separator, CSS waves, SVG background, wave shape generator, free online tool, NexTool">
<meta property="og:title" content="Free SVG Wave Generator — Create Wave Dividers | NexTool">
<meta property="og:description" content="Generate beautiful SVG wave dividers for websites. Control layers, colors, amplitude and export SVG or CSS. 100% free.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://nextool.app/free-tools/wave-generator.html">
<meta property="og:image" content="https://nextool.app/assets/og-default.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<link rel="canonical" href="https://nextool.app/free-tools/wave-generator.html">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Free SVG Wave Generator — Create Wave Dividers | NexTool">
<meta name="twitter:description" content="Generate beautiful SVG wave dividers for websites. Free online tool by NexTool.">
<meta name="robots" content="index, follow">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"SoftwareApplication","name":"NexTool SVG Wave Generator","applicationCategory":"DesignApplication","operatingSystem":"Web","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"description":"Free online SVG wave generator for creating wave dividers and section separators for websites."}
</script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#050508;--surface:#111118;--surface2:#1a1a24;--border:#2a2a3a;--text:#e4e4eb;--text2:#9494a8;--primary:#6366f1;--accent:#a855f7;--pink:#ec4899;--green:#22c55e;--red:#ef4444;--cyan:#22d3ee;--yellow:#eab308;--radius:12px;--glass:rgba(17,17,24,0.7)}
html{scroll-behavior:smooth}
body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);line-height:1.6;min-height:100vh;overflow-x:hidden}
/* NAV */
.nav{position:sticky;top:0;z-index:100;background:rgba(5,5,8,0.85);backdrop-filter:blur(20px);border-bottom:1px solid var(--border);padding:0 2rem;height:64px;display:flex;align-items:center;justify-content:space-between}
.nav-logo{font-size:1.4rem;font-weight:800;background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-decoration:none}
.nav-links{display:flex;align-items:center;gap:1.5rem}
.nav-links a{color:var(--text2);text-decoration:none;font-size:.875rem;font-weight:500;transition:color .2s}
.nav-links a:hover{color:var(--text)}
.nav-cta{background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff!important;padding:.5rem 1.2rem;border-radius:8px;font-weight:600;-webkit-text-fill-color:#fff!important}
.nav-cta:hover{opacity:.9}
.nav-toggle{display:none;background:none;border:none;color:var(--text);font-size:1.5rem;cursor:pointer}
/* HERO */
.hero{text-align:center;padding:3rem 1.5rem 2rem;max-width:700px;margin:0 auto}
.hero h1{font-size:2.2rem;font-weight:800;line-height:1.2;margin-bottom:.75rem}
.hero h1 span{background:linear-gradient(135deg,var(--primary),var(--accent),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hero p{color:var(--text2);font-size:1rem}
/* TOOL */
.tool-container{max-width:1200px;margin:0 auto;padding:0 1.5rem 3rem}
.toolbar{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1rem;align-items:center}
.toolbar button{background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.45rem .9rem;border-radius:8px;font-size:.8rem;font-weight:500;cursor:pointer;transition:all .2s;font-family:inherit}
.toolbar button:hover{border-color:var(--primary);background:rgba(99,102,241,.12)}
.toolbar button.active{background:linear-gradient(135deg,var(--primary),var(--accent));border-color:transparent;color:#fff}
/* PREVIEW */
.preview-area{background:var(--glass);backdrop-filter:blur(16px);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;margin-bottom:1.5rem}
.preview-context{position:relative;width:100%;overflow:hidden}
.preview-top{width:100%;transition:background .3s}
.preview-svg-wrap{width:100%;display:block;line-height:0}
.preview-svg-wrap svg{width:100%;display:block}
.preview-bottom{width:100%;transition:background .3s}
/* CONTROLS */
.controls-grid{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem}
.control-panel{background:var(--glass);backdrop-filter:blur(16px);border:1px solid var(--border);border-radius:var(--radius);padding:1.25rem;display:flex;flex-direction:column;gap:1rem}
.control-panel h3{font-size:.85rem;font-weight:700;color:var(--text);margin-bottom:.25rem}
.control-group{display:flex;flex-direction:column;gap:.4rem}
.control-group label{font-size:.75rem;font-weight:600;color:var(--text2);display:flex;justify-content:space-between;align-items:center}
.control-group label .val{color:var(--primary);font-weight:700;font-family:'JetBrains Mono','Courier New',monospace}
.control-group input[type="range"]{width:100%;height:6px;-webkit-appearance:none;appearance:none;background:var(--surface2);border-radius:3px;outline:none;cursor:pointer}
.control-group input[type="range"]::-webkit-slider-thumb{-webkit-appearance:none;width:16px;height:16px;border-radius:50%;background:linear-gradient(135deg,var(--primary),var(--accent));cursor:pointer;border:2px solid var(--bg)}
.control-group input[type="range"]::-moz-range-thumb{width:16px;height:16px;border-radius:50%;background:linear-gradient(135deg,var(--primary),var(--accent));cursor:pointer;border:2px solid var(--bg)}
.color-row{display:flex;align-items:center;gap:.6rem}
.color-row input[type="color"]{width:32px;height:32px;border:2px solid var(--border);border-radius:8px;cursor:pointer;background:transparent;padding:0;-webkit-appearance:none;appearance:none}
.color-row input[type="color"]::-webkit-color-swatch-wrapper{padding:2px}
.color-row input[type="color"]::-webkit-color-swatch{border-radius:4px;border:none}
.color-row input[type="range"]{flex:1}
.color-row .color-label{font-size:.72rem;color:var(--text2);min-width:55px}
.style-buttons{display:flex;gap:.4rem;flex-wrap:wrap}
.style-btn{background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.35rem .7rem;border-radius:6px;font-size:.75rem;font-weight:500;cursor:pointer;transition:all .2s;font-family:inherit}
.style-btn:hover{border-color:var(--primary)}
.style-btn.active{background:linear-gradient(135deg,var(--primary),var(--accent));border-color:transparent;color:#fff}
.toggle-row{display:flex;align-items:center;gap:.6rem}
.toggle-switch{position:relative;width:40px;height:22px;background:var(--surface2);border-radius:11px;cursor:pointer;border:1px solid var(--border);transition:background .2s}
.toggle-switch.on{background:var(--primary);border-color:var(--primary)}
.toggle-switch::after{content:'';position:absolute;top:2px;left:2px;width:16px;height:16px;border-radius:50%;background:#fff;transition:transform .2s}
.toggle-switch.on::after{transform:translateX(18px)}
.toggle-label{font-size:.75rem;font-weight:500;color:var(--text2)}
/* CTA */
.cta-section{text-align:center;padding:4rem 1.5rem;max-width:700px;margin:0 auto}
.cta-section h2{font-size:1.8rem;font-weight:800;margin-bottom:.75rem}
.cta-section h2 span{background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.cta-section p{color:var(--text2);margin-bottom:1.5rem}
.cta-btn{display:inline-block;background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;padding:.75rem 2rem;border-radius:10px;font-weight:700;text-decoration:none;font-size:1rem;transition:transform .2s,box-shadow .2s}
.cta-btn:hover{transform:translateY(-2px);box-shadow:0 8px 30px rgba(99,102,241,.3)}
/* FOOTER */
.footer{border-top:1px solid var(--border);padding:3rem 2rem 2rem;max-width:1200px;margin:0 auto}
.footer-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;margin-bottom:2rem}
.footer-col h4{font-size:.85rem;font-weight:700;margin-bottom:.75rem;color:var(--text)}
.footer-col a{display:block;color:var(--text2);text-decoration:none;font-size:.8rem;margin-bottom:.4rem;transition:color .2s}
.footer-col a:hover{color:var(--primary)}
.footer-bottom{text-align:center;color:var(--text2);font-size:.75rem;padding-top:1.5rem;border-top:1px solid var(--border)}
/* FADE IN */
.fade-in{opacity:0;transform:translateY(20px);transition:opacity .6s,transform .6s}
.fade-in.visible{opacity:1;transform:translateY(0)}
/* TOAST */
.toast{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%) translateY(80px);background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.6rem 1.2rem;border-radius:10px;font-size:.85rem;font-weight:500;z-index:200;transition:transform .3s;pointer-events:none}
.toast.show{transform:translateX(-50%) translateY(0)}
/* RESPONSIVE */
@media(max-width:768px){
  .controls-grid{grid-template-columns:1fr}
  .nav-links{display:none;position:absolute;top:64px;left:0;right:0;background:var(--bg);border-bottom:1px solid var(--border);flex-direction:column;padding:1rem 2rem;gap:1rem}
  .nav-links.open{display:flex}
  .nav-toggle{display:block}
  .hero h1{font-size:1.6rem}
  .footer-grid{grid-template-columns:1fr}
  .toolbar{gap:.35rem}
}
</style>
</head>
<body>

<nav class="nav">
  <a href="/" class="nav-logo">NexTool</a>
  <button class="nav-toggle" onclick="document.querySelector('.nav-links').classList.toggle('open')" aria-label="Menu">&#9776;</button>
  <div class="nav-links">
    <a href="/">Home</a>
    <a href="/free-tools/">Tools</a>
    <a href="/free-tools/">Free Tools</a>
    <a href="/blog/">Blog</a>
    <a href="/#contact" class="nav-cta">Get Pro — $29</a>
  </div>
</nav>

<section class="hero fade-in">
  <h1>Free <span>SVG Wave Generator</span></h1>
  <p class="tool-summary" style="color:#94a3b8;font-size:15px;line-height:1.6;margin-bottom:24px;max-width:700px;margin-left:auto;margin-right:auto;">Generate beautiful SVG wave dividers and section separators for your website. Adjust amplitude, frequency, layers, colors, and wave style in real time. Copy the raw SVG or CSS background-image code, or download the SVG file. No signup required.</p>
</section>

<div class="tool-container fade-in">
  <div class="toolbar">
    <button onclick="randomize()" title="Random wave preset">Randomize</button>
    <button onclick="copySVG()" title="Copy raw SVG code">Copy SVG</button>
    <button onclick="copyCSS()" title="Copy as CSS background-image">Copy CSS</button>
    <button onclick="downloadSVG()" title="Download .svg file">Download SVG</button>
    <button onclick="resetDefaults()" title="Reset to defaults">Reset</button>
  </div>

  <!-- PREVIEW -->
  <div class="preview-area">
    <div class="preview-context" id="previewContext">
      <div class="preview-top" id="previewTop" style="height:80px;background:#6366f1"></div>
      <div class="preview-svg-wrap" id="svgWrap"></div>
      <div class="preview-bottom" id="previewBottom" style="height:80px;background:#050508"></div>
    </div>
  </div>

  <!-- CONTROLS -->
  <div class="controls-grid">
    <div class="control-panel">
      <h3>Wave Shape</h3>
      <div class="control-group">
        <label>Amplitude <span class="val" id="ampVal">60</span></label>
        <input type="range" id="amplitude" min="10" max="200" value="60" oninput="updateWave()">
      </div>
      <div class="control-group">
        <label>Frequency <span class="val" id="freqVal">2</span></label>
        <input type="range" id="frequency" min="1" max="5" value="2" step="0.5" oninput="updateWave()">
      </div>
      <div class="control-group">
        <label>Layers <span class="val" id="layersVal">2</span></label>
        <input type="range" id="layers" min="1" max="4" value="2" step="1" oninput="updateWave()">
      </div>
      <div class="control-group">
        <label>Smoothness <span class="val" id="smoothVal">80</span></label>
        <input type="range" id="smoothness" min="10" max="100" value="80" oninput="updateWave()">
      </div>
      <div class="control-group">
        <label style="margin-bottom:4px">Wave Style</label>
        <div class="style-buttons">
          <button class="style-btn active" data-style="smooth" onclick="setStyle(this)">Smooth</button>
          <button class="style-btn" data-style="sharp" onclick="setStyle(this)">Sharp</button>
          <button class="style-btn" data-style="steps" onclick="setStyle(this)">Steps</button>
        </div>
      </div>
      <div class="control-group">
        <div class="toggle-row">
          <div class="toggle-switch" id="flipToggle" onclick="toggleFlip()"></div>
          <span class="toggle-label">Flip Vertical</span>
        </div>
      </div>
    </div>

    <div class="control-panel">
      <h3>Colors</h3>
      <div class="control-group" id="layerColors">
        <!-- Populated by JS -->
      </div>
      <div class="control-group">
        <label style="margin-bottom:4px">Section Above</label>
        <div class="color-row">
          <input type="color" id="topColor" value="#6366f1" onchange="updateWave()">
          <span class="color-label" id="topColorHex">#6366f1</span>
        </div>
      </div>
      <div class="control-group">
        <label style="margin-bottom:4px">Section Below</label>
        <div class="color-row">
          <input type="color" id="bottomColor" value="#050508" onchange="updateWave()">
          <span class="color-label" id="bottomColorHex">#050508</span>
        </div>
      </div>
    </div>
  </div>
</div>

<section class="cta-section fade-in">
  <h2>Need something <span>more powerful</span>?</h2>
  <p>Let us build it for you. Custom APIs, dashboards, automations &mdash; whatever you need.</p>
  <a href="/#contact" class="cta-btn">Start a Project &rarr;</a>
</section>

<!-- Cross Promo -->
<section style="max-width:900px;margin:40px auto;padding:0 24px;">
<div style="background:linear-gradient(135deg,rgba(99,102,241,0.1),rgba(168,85,247,0.08));border:1px solid rgba(99,102,241,0.15);border-radius:20px;padding:32px 28px;text-align:center;">
<div style="font-size:13px;color:#818cf8;font-weight:600;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;">Founding Member</div>
<h3 style="font-size:22px;font-weight:800;color:#fff;margin:0 0 8px;">Get NexTool Pro</h3>
<p style="color:#94a3b8;font-size:14px;margin:0 auto 20px;max-width:500px;">No banners, clean output, enhanced features on all 150+ tools. One-time payment.</p>
<div style="display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap;">
<a href="/pro.html" style="display:inline-block;padding:12px 28px;background:linear-gradient(135deg,#6366f1,#a855f7,#ec4899);color:#fff;border-radius:10px;font-weight:700;font-size:15px;text-decoration:none;">$29 — Get Pro</a>
<a href="/free-tools/" style="color:#94a3b8;font-size:14px;text-decoration:none;">Browse 150+ Free Tools &rarr;</a>
</div>
</div>
</section>

<!-- AUTO-LINKED by NexTool Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/box-shadow-generator.html" style="color:var(--primary);text-decoration:none">CSS Box Shadow Generator</a> · <a href="/free-tools/emoji-picker.html" style="color:var(--primary);text-decoration:none">Emoji Picker & Search</a> · <a href="/free-tools/favicon-generator.html" style="color:var(--primary);text-decoration:none">Favicon Generator</a> · <a href="/free-tools/meta-tag-generator.html" style="color:var(--primary);text-decoration:none">Meta Tag Generator</a> · <a href="/free-tools/css-animation-generator.html" style="color:var(--primary);text-decoration:none">CSS Animation Generator - Free Tool</a></p>
</div>
<footer class="footer fade-in">
  <div class="footer-grid">
    <div class="footer-col">
      <h4>Products</h4>
      <a href="/free-tools/">150+ Free Tools</a>
<a href="/pro.html">NexTool Pro</a>
<a href="/workspace.html">Workspace</a>
    </div>
    <div class="footer-col">
      <h4>Explore</h4>
      <a href="/free-tools/">Free Tools</a><a href="/blog/">Blog</a><a href="/pro.html">FAQ</a><a href="/pro.html">Pro — $29</a>
    </div>
    <div class="footer-col">
      <h4>Ecosystem</h4>
      <a href="/">NexTool Home</a><a href="/#contact">Contact</a><a href="https://github.com/christian140903-sudo/nextool" target="_blank">GitHub</a>
    </div>
  </div>
  <div class="footer-bottom">&copy; 2026 NexTool. AI-powered tools for everyone.</div>
</footer>

<div class="toast" id="toast"></div>

<script>
/* ===== STATE ===== */
const WIDTH = 1440;
let waveStyle = 'smooth';
let flipped = false;

const defaultLayerColors = [
  { color: '#6366f1', opacity: 1.0 },
  { color: '#a855f7', opacity: 0.6 },
  { color: '#ec4899', opacity: 0.35 },
  { color: '#22d3ee', opacity: 0.2 }
];

/* ===== INIT ===== */
buildLayerColorUI();
updateWave();

/* ===== WAVE GENERATION ===== */
function getParams() {
  const amp = parseInt(document.getElementById('amplitude').value);
  const freq = parseFloat(document.getElementById('frequency').value);
  const numLayers = parseInt(document.getElementById('layers').value);
  const smooth = parseInt(document.getElementById('smoothness').value);
  document.getElementById('ampVal').textContent = amp;
  document.getElementById('freqVal').textContent = freq;
  document.getElementById('layersVal').textContent = numLayers;
  document.getElementById('smoothVal').textContent = smooth;
  return { amp, freq, numLayers, smooth };
}

function generateWavePoints(width, height, amplitude, frequency, offset, style) {
  const points = [];
  const segments = 200;
  for (let i = 0; i <= segments; i++) {
    const t = i / segments;
    const x = t * width;
    let y;
    if (style === 'smooth') {
      y = height / 2 + Math.sin(t * Math.PI * 2 * frequency + offset) * amplitude;
    } else if (style === 'sharp') {
      // Triangle wave
      const period = 1 / frequency;
      const phase = (t + offset / (Math.PI * 2)) % period;
      const norm = phase / period;
      const tri = norm < 0.5 ? (norm * 4 - 1) : (3 - norm * 4);
      y = height / 2 + tri * amplitude;
    } else if (style === 'steps') {
      // Staircase wave
      const stepsPerWave = 6;
      const totalSteps = Math.round(frequency * stepsPerWave);
      const stepIndex = Math.floor((t + offset / (Math.PI * 2 * frequency)) * totalSteps) % totalSteps;
      const stepVal = Math.sin((stepIndex / totalSteps) * Math.PI * 2);
      y = height / 2 + stepVal * amplitude;
    }
    points.push({ x, y });
  }
  return points;
}

function pointsToSmoothPath(points, smoothFactor) {
  if (points.length < 2) return '';
  const sf = smoothFactor / 100;
  let d = 'M ' + points[0].x.toFixed(2) + ' ' + points[0].y.toFixed(2);
  for (let i = 1; i < points.length; i++) {
    const prev = points[i - 1];
    const curr = points[i];
    const next = points[Math.min(i + 1, points.length - 1)];
    const prevPrev = points[Math.max(i - 2, 0)];
    // Catmull-Rom to Bezier conversion
    const tension = sf * 0.4;
    const cp1x = prev.x + (curr.x - prevPrev.x) * tension;
    const cp1y = prev.y + (curr.y - prevPrev.y) * tension;
    const cp2x = curr.x - (next.x - prev.x) * tension;
    const cp2y = curr.y - (next.y - prev.y) * tension;
    d += ' C ' + cp1x.toFixed(2) + ' ' + cp1y.toFixed(2) +
         ', ' + cp2x.toFixed(2) + ' ' + cp2y.toFixed(2) +
         ', ' + curr.x.toFixed(2) + ' ' + curr.y.toFixed(2);
  }
  return d;
}

function pointsToLinearPath(points) {
  if (points.length < 2) return '';
  let d = 'M ' + points[0].x.toFixed(2) + ' ' + points[0].y.toFixed(2);
  for (let i = 1; i < points.length; i++) {
    d += ' L ' + points[i].x.toFixed(2) + ' ' + points[i].y.toFixed(2);
  }
  return d;
}

function generateSVG() {
  const { amp, freq, numLayers, smooth } = getParams();
  const height = amp * 2 + 40;
  const layerColors = getLayerColors(numLayers);

  let paths = '';
  for (let l = 0; l < numLayers; l++) {
    const layerAmp = amp * (1 - l * 0.15);
    const offset = l * 0.8;
    const points = generateWavePoints(WIDTH, height, layerAmp, freq, offset, waveStyle);
    let pathD;
    if (waveStyle === 'smooth') {
      pathD = pointsToSmoothPath(points, smooth);
    } else if (waveStyle === 'sharp') {
      pathD = pointsToLinearPath(points);
    } else {
      // Steps: use linear path for crisp edges
      pathD = pointsToLinearPath(points);
    }

    // Close the path to form a filled shape
    const fillBottom = flipped ? 0 : height;
    pathD += ' L ' + WIDTH.toFixed(2) + ' ' + fillBottom;
    pathD += ' L 0 ' + fillBottom;
    pathD += ' Z';

    const { color, opacity } = layerColors[l];
    paths += '  <path d="' + pathD + '" fill="' + color + '" fill-opacity="' + opacity.toFixed(2) + '"/>\n';
  }

  const transform = flipped ? ' transform="scale(1,-1) translate(0,-' + height + ')"' : '';
  const svg = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ' + WIDTH + ' ' + height + '" preserveAspectRatio="none"' + (transform ? '' : '') + '>\n' +
    (transform ? '  <g' + transform + '>\n' : '') +
    paths +
    (transform ? '  </g>\n' : '') +
    '</svg>';
  return { svg, height };
}

function getLayerColors(numLayers) {
  const colors = [];
  for (let i = 0; i < numLayers; i++) {
    const colorInput = document.getElementById('layerColor' + i);
    const opacityInput = document.getElementById('layerOpacity' + i);
    if (colorInput && opacityInput) {
      colors.push({
        color: colorInput.value,
        opacity: parseFloat(opacityInput.value) / 100
      });
    } else {
      colors.push(defaultLayerColors[i] || { color: '#6366f1', opacity: 0.5 });
    }
  }
  return colors;
}

/* ===== UI UPDATES ===== */
function updateWave() {
  const { svg, height } = generateSVG();
  const wrap = document.getElementById('svgWrap');
  wrap.innerHTML = svg;

  // Update section colors
  const topColor = document.getElementById('topColor').value;
  const bottomColor = document.getElementById('bottomColor').value;
  document.getElementById('previewTop').style.background = topColor;
  document.getElementById('previewBottom').style.background = bottomColor;
  document.getElementById('topColorHex').textContent = topColor;
  document.getElementById('bottomColorHex').textContent = bottomColor;

  // Update layer color hex labels
  const numLayers = parseInt(document.getElementById('layers').value);
  for (let i = 0; i < numLayers; i++) {
    const colorInput = document.getElementById('layerColor' + i);
    const hexLabel = document.getElementById('layerHex' + i);
    if (colorInput && hexLabel) hexLabel.textContent = colorInput.value;
  }
}

function buildLayerColorUI() {
  const container = document.getElementById('layerColors');
  const numLayers = parseInt(document.getElementById('layers').value);
  container.innerHTML = '';
  for (let i = 0; i < numLayers; i++) {
    const def = defaultLayerColors[i] || { color: '#6366f1', opacity: 0.5 };
    // Try to preserve existing values
    const existingColor = document.getElementById('layerColor' + i);
    const existingOpacity = document.getElementById('layerOpacity' + i);
    const c = existingColor ? existingColor.value : def.color;
    const o = existingOpacity ? parseInt(existingOpacity.value) : Math.round(def.opacity * 100);

    const row = document.createElement('div');
    row.style.marginBottom = '8px';
    row.innerHTML =
      '<label style="font-size:.72rem;color:var(--text2);margin-bottom:4px;display:flex;justify-content:space-between"><span>Layer ' + (i + 1) + '</span><span class="val" id="layerHex' + i + '">' + c + '</span></label>' +
      '<div class="color-row">' +
        '<input type="color" id="layerColor' + i + '" value="' + c + '" onchange="updateWave()">' +
        '<span class="color-label">Opacity</span>' +
        '<input type="range" id="layerOpacity' + i + '" min="5" max="100" value="' + o + '" oninput="updateWave()">' +
        '<span class="color-label" style="min-width:30px;text-align:right">' + o + '%</span>' +
      '</div>';
    container.appendChild(row);
  }
  // Add listener to update opacity labels
  for (let i = 0; i < numLayers; i++) {
    const opSlider = document.getElementById('layerOpacity' + i);
    if (opSlider) {
      opSlider.addEventListener('input', function() {
        this.parentElement.querySelector('.color-label:last-child').textContent = this.value + '%';
      });
    }
  }
}

// Override updateWave to rebuild colors when layers change
const origLayersInput = document.getElementById('layers');
let lastLayerCount = parseInt(origLayersInput.value);
const origUpdateWave = updateWave;

function updateWave() {
  const currentLayers = parseInt(document.getElementById('layers').value);
  if (currentLayers !== lastLayerCount) {
    // Save current colors before rebuild
    const saved = [];
    for (let i = 0; i < lastLayerCount; i++) {
      const c = document.getElementById('layerColor' + i);
      const o = document.getElementById('layerOpacity' + i);
      if (c && o) saved.push({ color: c.value, opacity: o.value });
    }
    lastLayerCount = currentLayers;
    buildLayerColorUIPreserving(saved);
  }

  const { svg, height } = generateSVG();
  const wrap = document.getElementById('svgWrap');
  wrap.innerHTML = svg;

  const topColor = document.getElementById('topColor').value;
  const bottomColor = document.getElementById('bottomColor').value;
  document.getElementById('previewTop').style.background = topColor;
  document.getElementById('previewBottom').style.background = bottomColor;
  document.getElementById('topColorHex').textContent = topColor;
  document.getElementById('bottomColorHex').textContent = bottomColor;

  const numLayers = parseInt(document.getElementById('layers').value);
  for (let i = 0; i < numLayers; i++) {
    const colorInput = document.getElementById('layerColor' + i);
    const hexLabel = document.getElementById('layerHex' + i);
    if (colorInput && hexLabel) hexLabel.textContent = colorInput.value;
  }
}

function buildLayerColorUIPreserving(saved) {
  const container = document.getElementById('layerColors');
  const numLayers = parseInt(document.getElementById('layers').value);
  container.innerHTML = '';
  for (let i = 0; i < numLayers; i++) {
    const def = defaultLayerColors[i] || { color: '#6366f1', opacity: 0.5 };
    const c = (saved && saved[i]) ? saved[i].color : def.color;
    const o = (saved && saved[i]) ? saved[i].opacity : String(Math.round(def.opacity * 100));

    const row = document.createElement('div');
    row.style.marginBottom = '8px';
    row.innerHTML =
      '<label style="font-size:.72rem;color:var(--text2);margin-bottom:4px;display:flex;justify-content:space-between"><span>Layer ' + (i + 1) + '</span><span class="val" id="layerHex' + i + '">' + c + '</span></label>' +
      '<div class="color-row">' +
        '<input type="color" id="layerColor' + i + '" value="' + c + '" onchange="updateWave()">' +
        '<span class="color-label">Opacity</span>' +
        '<input type="range" id="layerOpacity' + i + '" min="5" max="100" value="' + o + '" oninput="updateWave()">' +
        '<span class="color-label" style="min-width:30px;text-align:right">' + o + '%</span>' +
      '</div>';
    container.appendChild(row);
  }
  for (let i = 0; i < numLayers; i++) {
    const opSlider = document.getElementById('layerOpacity' + i);
    if (opSlider) {
      opSlider.addEventListener('input', function() {
        this.parentElement.querySelector('.color-label:last-child').textContent = this.value + '%';
      });
    }
  }
}

/* ===== STYLE TOGGLE ===== */
function setStyle(btn) {
  document.querySelectorAll('.style-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  waveStyle = btn.dataset.style;
  updateWave();
}

/* ===== FLIP TOGGLE ===== */
function toggleFlip() {
  flipped = !flipped;
  document.getElementById('flipToggle').classList.toggle('on', flipped);
  updateWave();
}

/* ===== RANDOMIZE ===== */
function randomize() {
  const presets = [
    { amp: 80, freq: 1.5, layers: 3, smooth: 90, style: 'smooth', flip: false, top: '#6366f1', bottom: '#050508', colors: [{c:'#6366f1',o:100},{c:'#a855f7',o:55},{c:'#ec4899',o:30}] },
    { amp: 50, freq: 3, layers: 2, smooth: 70, style: 'smooth', flip: false, top: '#0f172a', bottom: '#1e293b', colors: [{c:'#38bdf8',o:100},{c:'#818cf8',o:50}] },
    { amp: 120, freq: 1, layers: 4, smooth: 95, style: 'smooth', flip: true, top: '#18181b', bottom: '#7c3aed', colors: [{c:'#7c3aed',o:100},{c:'#a78bfa',o:60},{c:'#c4b5fd',o:35},{c:'#ede9fe',o:15}] },
    { amp: 60, freq: 2.5, layers: 1, smooth: 50, style: 'sharp', flip: false, top: '#1a1a2e', bottom: '#0f3460', colors: [{c:'#e94560',o:100}] },
    { amp: 40, freq: 4, layers: 2, smooth: 80, style: 'steps', flip: false, top: '#0d1117', bottom: '#161b22', colors: [{c:'#58a6ff',o:100},{c:'#1f6feb',o:50}] },
    { amp: 100, freq: 2, layers: 3, smooth: 85, style: 'smooth', flip: true, top: '#fef3c7', bottom: '#f59e0b', colors: [{c:'#f59e0b',o:100},{c:'#d97706',o:55},{c:'#92400e',o:30}] },
    { amp: 70, freq: 1.5, layers: 2, smooth: 75, style: 'smooth', flip: false, top: '#064e3b', bottom: '#0f172a', colors: [{c:'#10b981',o:100},{c:'#34d399',o:50}] },
    { amp: 90, freq: 3.5, layers: 3, smooth: 60, style: 'sharp', flip: true, top: '#1e1b4b', bottom: '#312e81', colors: [{c:'#c084fc',o:100},{c:'#e879f9',o:60},{c:'#f0abfc',o:30}] },
    { amp: 55, freq: 2, layers: 2, smooth: 90, style: 'smooth', flip: false, top: '#0c4a6e', bottom: '#082f49', colors: [{c:'#06b6d4',o:100},{c:'#22d3ee',o:50}] },
    { amp: 130, freq: 1, layers: 3, smooth: 95, style: 'smooth', flip: false, top: '#450a0a', bottom: '#1c1917', colors: [{c:'#ef4444',o:100},{c:'#f97316',o:55},{c:'#fbbf24',o:25}] }
  ];
  const preset = presets[Math.floor(Math.random() * presets.length)];

  document.getElementById('amplitude').value = preset.amp;
  document.getElementById('frequency').value = preset.freq;
  document.getElementById('layers').value = preset.layers;
  document.getElementById('smoothness').value = preset.smooth;
  document.getElementById('topColor').value = preset.top;
  document.getElementById('bottomColor').value = preset.bottom;

  waveStyle = preset.style;
  document.querySelectorAll('.style-btn').forEach(b => {
    b.classList.toggle('active', b.dataset.style === waveStyle);
  });

  flipped = preset.flip;
  document.getElementById('flipToggle').classList.toggle('on', flipped);

  // Update layers and colors
  lastLayerCount = preset.layers;
  const container = document.getElementById('layerColors');
  container.innerHTML = '';
  for (let i = 0; i < preset.layers; i++) {
    const pc = preset.colors[i] || { c: '#6366f1', o: 50 };
    const row = document.createElement('div');
    row.style.marginBottom = '8px';
    row.innerHTML =
      '<label style="font-size:.72rem;color:var(--text2);margin-bottom:4px;display:flex;justify-content:space-between"><span>Layer ' + (i + 1) + '</span><span class="val" id="layerHex' + i + '">' + pc.c + '</span></label>' +
      '<div class="color-row">' +
        '<input type="color" id="layerColor' + i + '" value="' + pc.c + '" onchange="updateWave()">' +
        '<span class="color-label">Opacity</span>' +
        '<input type="range" id="layerOpacity' + i + '" min="5" max="100" value="' + pc.o + '" oninput="updateWave()">' +
        '<span class="color-label" style="min-width:30px;text-align:right">' + pc.o + '%</span>' +
      '</div>';
    container.appendChild(row);
  }
  for (let i = 0; i < preset.layers; i++) {
    const opSlider = document.getElementById('layerOpacity' + i);
    if (opSlider) {
      opSlider.addEventListener('input', function() {
        this.parentElement.querySelector('.color-label:last-child').textContent = this.value + '%';
      });
    }
  }

  updateWave();
  showToast('Randomized wave preset applied');
}

/* ===== RESET ===== */
function resetDefaults() {
  document.getElementById('amplitude').value = 60;
  document.getElementById('frequency').value = 2;
  document.getElementById('layers').value = 2;
  document.getElementById('smoothness').value = 80;
  document.getElementById('topColor').value = '#6366f1';
  document.getElementById('bottomColor').value = '#050508';
  waveStyle = 'smooth';
  flipped = false;
  document.querySelectorAll('.style-btn').forEach(b => {
    b.classList.toggle('active', b.dataset.style === 'smooth');
  });
  document.getElementById('flipToggle').classList.remove('on');
  lastLayerCount = 2;
  buildLayerColorUI();
  updateWave();
  showToast('Reset to defaults');
}

/* ===== COPY SVG ===== */
function copySVG() {
  const { svg } = generateSVG();
  navigator.clipboard.writeText(svg).then(() => showToast('SVG code copied to clipboard'));
}

/* ===== COPY CSS ===== */
function copyCSS() {
  const { svg } = generateSVG();
  const encoded = encodeURIComponent(svg)
    .replace(/%20/g, ' ')
    .replace(/%3D/g, '=')
    .replace(/%3A/g, ':')
    .replace(/%2F/g, '/')
    .replace(/%22/g, "'")
    .replace(/%2C/g, ',');
  const css = '.wave-divider {\n' +
    '  position: absolute;\n' +
    '  bottom: 0;\n' +
    '  left: 0;\n' +
    '  width: 100%;\n' +
    '  overflow: hidden;\n' +
    '  line-height: 0;\n' +
    '}\n\n' +
    '.wave-divider svg {\n' +
    '  position: relative;\n' +
    '  display: block;\n' +
    '  width: calc(100% + 1.3px);\n' +
    '}\n\n' +
    '/* Or use as background-image: */\n' +
    '.section-with-wave {\n' +
    '  background-image: url("data:image/svg+xml,' + encoded + '");\n' +
    '  background-repeat: no-repeat;\n' +
    '  background-position: bottom;\n' +
    '  background-size: 100% auto;\n' +
    '}';
  navigator.clipboard.writeText(css).then(() => showToast('CSS code copied to clipboard'));
}

/* ===== DOWNLOAD SVG ===== */
function downloadSVG() {
  const { svg } = generateSVG();
  const blob = new Blob([svg], { type: 'image/svg+xml' });
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = 'wave-divider.svg';
  a.click();
  URL.revokeObjectURL(a.href);
  showToast('Downloaded wave-divider.svg');
}

/* ===== TOAST ===== */
function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2000);
}

/* ===== FADE IN ===== */
const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('visible'); observer.unobserve(entry.target); }});
}, { threshold: 0.1 });
document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
</script>
<script src="/js/analytics-lite.js" defer></script>
<script src="/js/revenue.js" defer></script>
<script src="/js/lead-capture.js" defer></script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What is an SVG wave generator?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "An SVG wave generator is a tool that creates scalable vector graphic (SVG) wave shapes you can use as section dividers or separators on websites. The waves are resolution-independent and lightweight, making them perfect for modern web design."
      }
    },
    {
      "@type": "Question",
      "name": "How do I add an SVG wave divider to my website?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "You can copy the raw SVG code and paste it directly into your HTML between two sections. Alternatively, copy the CSS code to use the wave as a background-image. Both methods produce crisp, responsive wave dividers that scale to any screen size."
      }
    },
    {
      "@type": "Question",
      "name": "Can I customize the colors and layers of the wave?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, NexTool's SVG Wave Generator lets you customize up to 4 layers, each with its own color and opacity. You can also adjust the amplitude, frequency, smoothness, wave style (smooth, sharp, or steps), and flip the wave vertically."
      }
    },
    {
      "@type": "Question",
      "name": "Is the SVG wave generator free to use?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, NexTool's SVG Wave Generator is completely free. No signup, no watermarks, and no limits. It runs entirely in your browser so your designs stay private and load instantly."
      }
    }
  ]
}
</script>
</body>
</html>
