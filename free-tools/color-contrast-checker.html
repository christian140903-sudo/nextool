<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
    <link rel="icon" type="image/svg+xml" href="/img/favicon.svg">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Free WCAG Color Contrast Checker — AA/AAA Test | ANIMA</title>
<meta name="description" content="Check WCAG AA and AAA color contrast compliance instantly. Pick foreground and background colors, get contrast ratio, pass/fail results, and accessible alternatives.">
<meta name="keywords" content="color contrast checker, WCAG contrast, accessibility checker, AA AAA contrast, color accessibility, contrast ratio, ANIMA">
<meta name="robots" content="index, follow">
<meta property="og:title" content="Free WCAG Color Contrast Checker | ANIMA">
<meta property="og:description" content="Check WCAG AA/AAA color contrast compliance. Get contrast ratio, pass/fail results, and suggested accessible color alternatives. 100% free.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://nextool.app/free-tools/color-contrast-checker.html">
<meta property="og:image" content="https://nextool.app/img/og-image.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<link rel="canonical" href="https://nextool.app/free-tools/color-contrast-checker.html">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Free WCAG Color Contrast Checker | ANIMA">
<meta name="twitter:description" content="Test color contrast for WCAG AA/AAA compliance. Free accessibility tool by ANIMA.">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"SoftwareApplication","name":"WCAG Color Contrast Checker","applicationCategory":"DesignApplication","operatingSystem":"Web","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"description":"Free WCAG color contrast checker. Test AA/AAA compliance, get contrast ratios, and find accessible color alternatives."}
</script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#050508;--surface:#111118;--surface2:#1a1a24;--border:#2a2a3a;--text:#e4e4eb;--text2:#9494a8;--primary:#00d4ff;--accent:#a855f7;--pink:#ec4899;--green:#22c55e;--red:#ef4444;--cyan:#22d3ee;--yellow:#eab308;--radius:12px;--glass:rgba(17,17,24,0.7)}
html{scroll-behavior:smooth}
body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);line-height:1.6;min-height:100vh;overflow-x:hidden}
.nav{position:sticky;top:0;z-index:100;background:rgba(5,5,8,0.85);backdrop-filter:blur(20px);border-bottom:1px solid var(--border);padding:0 2rem;height:64px;display:flex;align-items:center;justify-content:space-between}
.nav-logo{font-size:1.4rem;font-weight:800;background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-decoration:none}
.nav-links{display:flex;align-items:center;gap:1.5rem}
.nav-links a{color:var(--text2);text-decoration:none;font-size:.875rem;font-weight:500;transition:color .2s}
.nav-links a:hover{color:var(--text)}
.nav-cta{background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff!important;padding:.5rem 1.2rem;border-radius:8px;font-weight:600;-webkit-text-fill-color:#fff!important}
.nav-cta:hover{opacity:.9}
.nav-toggle{display:none;background:none;border:none;color:var(--text);font-size:1.5rem;cursor:pointer}
.hero{text-align:center;padding:3rem 1.5rem 2rem;max-width:700px;margin:0 auto}
.hero h1{font-size:2.2rem;font-weight:800;line-height:1.2;margin-bottom:.75rem}
.hero h1 span{background:linear-gradient(135deg,var(--primary),var(--accent),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hero p{color:var(--text2);font-size:1rem}
.tool-container{max-width:900px;margin:0 auto;padding:0 1.5rem 3rem}
.panel{background:var(--glass);backdrop-filter:blur(16px);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;margin-bottom:1.5rem}
.panel-header{padding:.6rem 1rem;border-bottom:1px solid var(--border);font-size:.8rem;font-weight:600;color:var(--text2);display:flex;justify-content:space-between;align-items:center;background:rgba(26,26,36,0.5)}
.panel-body{padding:1.5rem}
.color-inputs{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin-bottom:1.5rem}
.color-group label{display:block;font-size:.75rem;font-weight:600;color:var(--text2);margin-bottom:.5rem;text-transform:uppercase;letter-spacing:.5px}
.color-row{display:flex;gap:.5rem;align-items:center}
.color-row input[type=color]{width:48px;height:42px;border:1px solid var(--border);border-radius:8px;cursor:pointer;background:var(--surface);padding:2px}
.color-row input[type=text]{flex:1;padding:.5rem .75rem;background:var(--surface);border:1px solid var(--border);border-radius:8px;color:var(--text);font-size:.85rem;font-family:'Courier New',monospace;outline:none;transition:border-color .2s}
.color-row input[type=text]:focus{border-color:var(--primary)}
.swap-btn{display:flex;align-items:center;justify-content:center;align-self:center;width:40px;height:40px;background:var(--surface2);border:1px solid var(--border);border-radius:50%;color:var(--text2);font-size:1.2rem;cursor:pointer;transition:all .2s;flex-shrink:0;margin-top:1.2rem}
.swap-btn:hover{border-color:var(--primary);color:var(--text);background:rgba(0,212,255,.12)}
.preview-box{border-radius:var(--radius);padding:2rem;text-align:center;margin-bottom:1.5rem;transition:all .3s;min-height:160px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem}
.preview-box .large-text{font-size:1.5rem;font-weight:700}
.preview-box .normal-text{font-size:1rem}
.preview-box .small-text{font-size:.75rem}
.ratio-display{text-align:center;margin-bottom:1.5rem}
.ratio-number{font-size:3.5rem;font-weight:800;line-height:1;margin-bottom:.25rem}
.ratio-label{font-size:.85rem;color:var(--text2)}
.results-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:.75rem;margin-bottom:1.5rem}
.result-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:1rem;text-align:center;transition:border-color .3s}
.result-card.pass{border-color:rgba(34,197,94,.4)}
.result-card.fail{border-color:rgba(239,68,68,.3)}
.result-label{font-size:.7rem;font-weight:600;color:var(--text2);text-transform:uppercase;letter-spacing:.5px;margin-bottom:.5rem}
.result-badge{display:inline-block;padding:.25rem .75rem;border-radius:6px;font-size:.8rem;font-weight:700;letter-spacing:.3px}
.result-badge.pass{background:rgba(34,197,94,.15);color:var(--green)}
.result-badge.fail{background:rgba(239,68,68,.1);color:var(--red)}
.result-req{font-size:.7rem;color:var(--text2);margin-top:.4rem}
.suggestions{margin-top:1rem}
.suggestions h3{font-size:.9rem;font-weight:700;margin-bottom:.75rem;color:var(--text)}
.suggestion-list{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:.75rem}
.suggestion-item{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:.75rem;display:flex;align-items:center;gap:.75rem;cursor:pointer;transition:all .2s}
.suggestion-item:hover{border-color:var(--primary);transform:translateY(-1px)}
.suggestion-swatch{width:40px;height:40px;border-radius:8px;flex-shrink:0;border:1px solid var(--border)}
.suggestion-info{flex:1;font-size:.8rem}
.suggestion-info .hex{font-family:'Courier New',monospace;font-weight:600;color:var(--text)}
.suggestion-info .ratio{color:var(--text2);font-size:.75rem}
.toolbar{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1.5rem}
.toolbar button{background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.45rem .9rem;border-radius:8px;font-size:.8rem;font-weight:500;cursor:pointer;transition:all .2s;font-family:inherit}
.toolbar button:hover{border-color:var(--primary);background:rgba(0,212,255,.12)}
.cta-section{text-align:center;padding:4rem 1.5rem;max-width:700px;margin:0 auto}
.cta-section h2{font-size:1.8rem;font-weight:800;margin-bottom:.75rem}
.cta-section h2 span{background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.cta-section p{color:var(--text2);margin-bottom:1.5rem}
.cta-btn{display:inline-block;background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;padding:.75rem 2rem;border-radius:10px;font-weight:700;text-decoration:none;font-size:1rem;transition:transform .2s,box-shadow .2s}
.cta-btn:hover{transform:translateY(-2px);box-shadow:0 8px 30px rgba(0,212,255,.3)}
.footer{border-top:1px solid var(--border);padding:3rem 2rem 2rem;max-width:1200px;margin:0 auto}
.footer-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;margin-bottom:2rem}
.footer-col h4{font-size:.85rem;font-weight:700;margin-bottom:.75rem;color:var(--text)}
.footer-col a{display:block;color:var(--text2);text-decoration:none;font-size:.8rem;margin-bottom:.4rem;transition:color .2s}
.footer-col a:hover{color:var(--primary)}
.footer-bottom{text-align:center;color:var(--text2);font-size:.75rem;padding-top:1.5rem;border-top:1px solid var(--border)}
.fade-in{opacity:0;transform:translateY(20px);transition:opacity .6s,transform .6s}
.fade-in.visible{opacity:1;transform:translateY(0)}
.toast{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%) translateY(80px);background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.6rem 1.2rem;border-radius:10px;font-size:.85rem;font-weight:500;z-index:200;transition:transform .3s;pointer-events:none}
.toast.show{transform:translateX(-50%) translateY(0)}
@media(max-width:768px){
  .nav-links{display:none;position:absolute;top:64px;left:0;right:0;background:var(--bg);border-bottom:1px solid var(--border);flex-direction:column;padding:1rem 2rem;gap:1rem}
  .nav-links.open{display:flex}
  .nav-toggle{display:block}
  .hero h1{font-size:1.6rem}
  .footer-grid{grid-template-columns:1fr}
  .color-inputs{grid-template-columns:1fr;gap:1rem}
  .ratio-number{font-size:2.5rem}
  .results-grid{grid-template-columns:1fr 1fr}
}
</style>
</head>
<body>

<nav class="nav">
  <a href="/" class="nav-logo">ANIMA</a>
  <button class="nav-toggle" onclick="document.querySelector('.nav-links').classList.toggle('open')" aria-label="Menu">&#9776;</button>
  <div class="nav-links">
    <a href="/">Home</a>
    <a href="/free-tools/">Tools</a>
    <a href="/free-tools/">Free Tools</a>
    <a href="/blog/">Blog</a>
    <a href="https://github.com/christian140903-sudo/nextool" class="nav-cta" target="_blank" rel="noopener">GitHub</a>
  </div>
</nav>

<section class="hero fade-in">
  <h1>WCAG <span>Color Contrast</span> Checker</h1>
  <p>Pick foreground and background colors, instantly see the contrast ratio and WCAG AA/AAA pass/fail results. Get suggested accessible color alternatives when your combination fails.</p>
</section>

<div class="tool-container fade-in">

  <div class="panel">
    <div class="panel-header"><span>Colors</span><span id="ratioSmall"></span></div>
    <div class="panel-body">
      <div style="display:flex;gap:1rem;align-items:start">
        <div style="flex:1">
          <div class="color-inputs" style="margin-bottom:0">
            <div class="color-group">
              <label>Foreground (Text)</label>
              <div class="color-row">
                <input type="color" id="fgPicker" value="#ffffff">
                <input type="text" id="fgHex" value="#ffffff" maxlength="7" placeholder="#ffffff">
              </div>
            </div>
            <div class="color-group">
              <label>Background</label>
              <div class="color-row">
                <input type="color" id="bgPicker" value="#1a1a2e">
                <input type="text" id="bgHex" value="#1a1a2e" maxlength="7" placeholder="#000000">
              </div>
            </div>
          </div>
        </div>
        <button class="swap-btn" onclick="swapColors()" title="Swap colors">&#8693;</button>
      </div>
    </div>
  </div>

  <div class="preview-box" id="previewBox">
    <div class="large-text">Large Text (18px bold)</div>
    <div class="normal-text">Normal body text at 16px regular weight</div>
    <div class="small-text">Small caption text at 12px for fine print and labels</div>
  </div>

  <div class="ratio-display">
    <div class="ratio-number" id="ratioDisplay">-</div>
    <div class="ratio-label">Contrast Ratio</div>
  </div>

  <div class="results-grid" id="resultsGrid">
    <div class="result-card" id="cardAaNormal">
      <div class="result-label">AA Normal Text</div>
      <div class="result-badge" id="aaNormal">-</div>
      <div class="result-req">&ge; 4.5:1</div>
    </div>
    <div class="result-card" id="cardAaLarge">
      <div class="result-label">AA Large Text</div>
      <div class="result-badge" id="aaLarge">-</div>
      <div class="result-req">&ge; 3:1</div>
    </div>
    <div class="result-card" id="cardAaUi">
      <div class="result-label">AA UI Components</div>
      <div class="result-badge" id="aaUi">-</div>
      <div class="result-req">&ge; 3:1</div>
    </div>
    <div class="result-card" id="cardAaaNormal">
      <div class="result-label">AAA Normal Text</div>
      <div class="result-badge" id="aaaNormal">-</div>
      <div class="result-req">&ge; 7:1</div>
    </div>
    <div class="result-card" id="cardAaaLarge">
      <div class="result-label">AAA Large Text</div>
      <div class="result-badge" id="aaaLarge">-</div>
      <div class="result-req">&ge; 4.5:1</div>
    </div>
  </div>

  <div class="toolbar">
    <button onclick="copyResults()">Copy Results</button>
    <button onclick="setPreset('#000000','#ffffff')">Black on White</button>
    <button onclick="setPreset('#ffffff','#00d4ff')">White on Indigo</button>
    <button onclick="setPreset('#1a1a2e','#e4e4eb')">Dark Theme</button>
    <button onclick="randomColors()">Random</button>
  </div>

  <div class="panel" id="suggestionsPanel" style="display:none">
    <div class="panel-header"><span>Suggested Accessible Alternatives</span></div>
    <div class="panel-body">
      <div class="suggestions">
        <h3 id="suggestTitle">Adjusted foreground colors that pass AA Normal (4.5:1)</h3>
        <div class="suggestion-list" id="suggestionList"></div>
      </div>
    </div>
  </div>

</div>

<section class="cta-section fade-in">
  <h2>Need something <span>more powerful</span>?</h2>
  <p>Let us build it for you. Custom APIs, dashboards, automations &mdash; whatever you need.</p>
  <a href="/#contact" class="cta-btn">Start a Project &rarr;</a>
</section>

<section style="max-width:900px;margin:40px auto;padding:0 24px;">
<div style="background:linear-gradient(135deg,rgba(0,212,255,0.1),rgba(168,85,247,0.08));border:1px solid rgba(0,212,255,0.15);border-radius:20px;padding:32px 28px;text-align:center;">
<div style="font-size:13px;color:#818cf8;font-weight:600;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;">Founding Member</div>
<h3 style="font-size:22px;font-weight:800;color:#fff;margin:0 0 8px;">ANIMA on GitHub</h3>
<p style="color:#94a3b8;font-size:14px;margin:0 auto 20px;max-width:500px;">248+ free tools. No signup. Open source. Built by Christian Bucher.</p>
<div style="display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap;">
<a href="/about/" style="display:inline-block;padding:12px 28px;background:linear-gradient(135deg,#00d4ff,#a855f7,#ec4899);color:#fff;border-radius:10px;font-weight:700;font-size:15px;text-decoration:none;">GitHub</a>
<a href="/free-tools/" style="color:#94a3b8;font-size:14px;text-decoration:none;">Browse 250+ Free Tools &rarr;</a>
</div>
</div>
</section>


<!-- AUTO-LINKED by ANIMA Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/box-shadow-generator.html" style="color:var(--primary);text-decoration:none">CSS Box Shadow Generator</a> · <a href="/free-tools/accessibility-checker.html" style="color:var(--primary);text-decoration:none">Free Accessibility Checker</a> · <a href="/free-tools/color-palette.html" style="color:var(--primary);text-decoration:none">Free Color Palette Generator</a></p>
</div>

<!-- AUTO-LINKED by ANIMA Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/color-palette-generator.html" style="color:var(--primary);text-decoration:none">Free Color Palette Generator</a> · <a href="/free-tools/emoji-picker.html" style="color:var(--primary);text-decoration:none">Emoji Picker & Search</a> · <a href="/free-tools/color-picker.html" style="color:var(--primary);text-decoration:none">Free Advanced Color Picker</a></p>
</div>
<footer class="footer fade-in">
  <div class="footer-grid">
    <div class="footer-col">
      <h4>Products</h4>
      <a href="/free-tools/">250+ Free Tools</a>
      <a href="/about/">About</a>
      <a href="/docs/">Documentation</a>
    </div>
    <div class="footer-col">
      <h4>Explore</h4>
      <a href="/free-tools/">Free Tools</a><a href="/blog/">Blog</a><a href="/about/">FAQ</a><a href="/about/">About</a>
    </div>
    <div class="footer-col">
      <h4>Ecosystem</h4>
      <a href="/">ANIMA Home</a><a href="/#contact">Contact</a><a href="https://github.com/christian140903-sudo/nextool" target="_blank">GitHub</a>
    </div>
  </div>
  <div class="footer-bottom">&copy; 2026 ANIMA. AI-powered tools for everyone.</div>
</footer>

<div class="toast" id="toast"></div>

<script>
const fgPicker = document.getElementById('fgPicker');
const bgPicker = document.getElementById('bgPicker');
const fgHex = document.getElementById('fgHex');
const bgHex = document.getElementById('bgHex');

// Sync pickers and hex inputs
fgPicker.addEventListener('input', () => { fgHex.value = fgPicker.value; update(); });
bgPicker.addEventListener('input', () => { bgHex.value = bgPicker.value; update(); });
fgHex.addEventListener('input', () => {
  const v = normalizeHex(fgHex.value);
  if (v) { fgPicker.value = v; update(); }
});
bgHex.addEventListener('input', () => {
  const v = normalizeHex(bgHex.value);
  if (v) { bgPicker.value = v; update(); }
});

function normalizeHex(h) {
  h = h.trim();
  if (!h.startsWith('#')) h = '#' + h;
  if (/^#[0-9a-fA-F]{3}$/.test(h)) {
    h = '#' + h[1]+h[1] + h[2]+h[2] + h[3]+h[3];
  }
  return /^#[0-9a-fA-F]{6}$/.test(h) ? h.toLowerCase() : null;
}

function hexToRgb(hex) {
  const r = parseInt(hex.slice(1,3), 16);
  const g = parseInt(hex.slice(3,5), 16);
  const b = parseInt(hex.slice(5,7), 16);
  return { r, g, b };
}

function rgbToHex(r, g, b) {
  return '#' + [r,g,b].map(x => Math.max(0, Math.min(255, Math.round(x))).toString(16).padStart(2,'0')).join('');
}

// Relative luminance (WCAG 2.1)
function luminance(r, g, b) {
  const [rs, gs, bs] = [r, g, b].map(c => {
    c = c / 255;
    return c <= 0.04045 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);
  });
  return 0.2126 * rs + 0.7152 * gs + 0.0722 * bs;
}

function contrastRatio(fg, bg) {
  const l1 = luminance(fg.r, fg.g, fg.b);
  const l2 = luminance(bg.r, bg.g, bg.b);
  const lighter = Math.max(l1, l2);
  const darker = Math.min(l1, l2);
  return (lighter + 0.05) / (darker + 0.05);
}

function update() {
  const fg = normalizeHex(fgHex.value);
  const bg = normalizeHex(bgHex.value);
  if (!fg || !bg) return;

  const fgRgb = hexToRgb(fg);
  const bgRgb = hexToRgb(bg);
  const ratio = contrastRatio(fgRgb, bgRgb);
  const ratioStr = ratio.toFixed(2) + ':1';

  // Preview
  const previewBox = document.getElementById('previewBox');
  previewBox.style.backgroundColor = bg;
  previewBox.style.color = fg;
  previewBox.style.border = '1px solid var(--border)';

  // Ratio display
  document.getElementById('ratioDisplay').textContent = ratioStr;
  document.getElementById('ratioSmall').textContent = ratioStr;

  // Color the ratio based on level
  const ratioEl = document.getElementById('ratioDisplay');
  if (ratio >= 7) ratioEl.style.color = 'var(--green)';
  else if (ratio >= 4.5) ratioEl.style.color = 'var(--cyan)';
  else if (ratio >= 3) ratioEl.style.color = 'var(--yellow)';
  else ratioEl.style.color = 'var(--red)';

  // Results
  setResult('cardAaNormal', 'aaNormal', ratio >= 4.5);
  setResult('cardAaLarge', 'aaLarge', ratio >= 3);
  setResult('cardAaUi', 'aaUi', ratio >= 3);
  setResult('cardAaaNormal', 'aaaNormal', ratio >= 7);
  setResult('cardAaaLarge', 'aaaLarge', ratio >= 4.5);

  // Suggestions (only if AA normal fails)
  if (ratio < 4.5) {
    generateSuggestions(fgRgb, bgRgb, bg);
  } else {
    document.getElementById('suggestionsPanel').style.display = 'none';
  }
}

function setResult(cardId, badgeId, pass) {
  const card = document.getElementById(cardId);
  const badge = document.getElementById(badgeId);
  card.className = 'result-card ' + (pass ? 'pass' : 'fail');
  badge.className = 'result-badge ' + (pass ? 'pass' : 'fail');
  badge.textContent = pass ? 'PASS' : 'FAIL';
}

function generateSuggestions(fgRgb, bgRgb, bgHexStr) {
  const panel = document.getElementById('suggestionsPanel');
  const list = document.getElementById('suggestionList');
  list.innerHTML = '';

  const suggestions = [];
  const bgLum = luminance(bgRgb.r, bgRgb.g, bgRgb.b);

  // Try lightening and darkening the foreground to reach 4.5:1
  for (let step = 1; step <= 100; step++) {
    // Lighten
    const lr = Math.min(255, fgRgb.r + step * 2.55);
    const lg = Math.min(255, fgRgb.g + step * 2.55);
    const lb = Math.min(255, fgRgb.b + step * 2.55);
    const lightRatio = contrastRatio({r:lr,g:lg,b:lb}, bgRgb);
    if (lightRatio >= 4.5 && suggestions.filter(s => s.dir === 'lighter').length < 2) {
      suggestions.push({ hex: rgbToHex(lr, lg, lb), ratio: lightRatio, dir: 'lighter' });
    }
    // Darken
    const dr = Math.max(0, fgRgb.r - step * 2.55);
    const dg = Math.max(0, fgRgb.g - step * 2.55);
    const db = Math.max(0, fgRgb.b - step * 2.55);
    const darkRatio = contrastRatio({r:dr,g:dg,b:db}, bgRgb);
    if (darkRatio >= 4.5 && suggestions.filter(s => s.dir === 'darker').length < 2) {
      suggestions.push({ hex: rgbToHex(dr, dg, db), ratio: darkRatio, dir: 'darker' });
    }
    if (suggestions.length >= 4) break;
  }

  // Also try adjusting the background
  for (let step = 1; step <= 100; step++) {
    const lr = Math.min(255, bgRgb.r + step * 2.55);
    const lg = Math.min(255, bgRgb.g + step * 2.55);
    const lb = Math.min(255, bgRgb.b + step * 2.55);
    const lightRatio = contrastRatio(fgRgb, {r:lr,g:lg,b:lb});
    if (lightRatio >= 4.5 && suggestions.filter(s => s.type === 'bg').length < 1) {
      suggestions.push({ hex: rgbToHex(lr, lg, lb), ratio: lightRatio, dir: 'lighter bg', type: 'bg' });
    }
    const dr = Math.max(0, bgRgb.r - step * 2.55);
    const dg = Math.max(0, bgRgb.g - step * 2.55);
    const db = Math.max(0, bgRgb.b - step * 2.55);
    const darkRatio = contrastRatio(fgRgb, {r:dr,g:dg,b:db});
    if (darkRatio >= 4.5 && suggestions.filter(s => s.type === 'bg').length < 1) {
      suggestions.push({ hex: rgbToHex(dr, dg, db), ratio: darkRatio, dir: 'darker bg', type: 'bg' });
    }
    if (suggestions.filter(s => s.type === 'bg').length >= 2) break;
  }

  if (suggestions.length === 0) {
    panel.style.display = 'none';
    return;
  }

  suggestions.forEach(s => {
    const item = document.createElement('div');
    item.className = 'suggestion-item';
    const isBg = s.type === 'bg';
    item.innerHTML = `<div class="suggestion-swatch" style="background:${s.hex}"></div>
      <div class="suggestion-info">
        <div class="hex">${s.hex} <span style="color:var(--text2);font-weight:400;font-size:.7rem">(${isBg ? 'background' : 'foreground'})</span></div>
        <div class="ratio">${s.ratio.toFixed(2)}:1 - ${s.dir}</div>
      </div>`;
    item.addEventListener('click', () => {
      if (isBg) { bgHex.value = s.hex; bgPicker.value = s.hex; }
      else { fgHex.value = s.hex; fgPicker.value = s.hex; }
      update();
      showToast('Applied ' + s.hex);
    });
    list.appendChild(item);
  });

  panel.style.display = '';
}

function swapColors() {
  const tmpHex = fgHex.value;
  fgHex.value = bgHex.value;
  bgHex.value = tmpHex;
  fgPicker.value = normalizeHex(fgHex.value) || '#ffffff';
  bgPicker.value = normalizeHex(bgHex.value) || '#000000';
  update();
  showToast('Colors swapped');
}

function setPreset(fg, bg) {
  fgHex.value = fg; bgHex.value = bg;
  fgPicker.value = fg; bgPicker.value = bg;
  update();
}

function randomColors() {
  const rHex = () => '#' + Math.floor(Math.random()*16777215).toString(16).padStart(6,'0');
  setPreset(rHex(), rHex());
}

function copyResults() {
  const fg = fgHex.value;
  const bg = bgHex.value;
  const ratio = document.getElementById('ratioDisplay').textContent;
  const lines = [
    'Color Contrast Report',
    '=====================',
    'Foreground: ' + fg,
    'Background: ' + bg,
    'Contrast Ratio: ' + ratio,
    '',
    'AA Normal Text:  ' + document.getElementById('aaNormal').textContent + '  (>= 4.5:1)',
    'AA Large Text:   ' + document.getElementById('aaLarge').textContent + '  (>= 3:1)',
    'AA UI:           ' + document.getElementById('aaUi').textContent + '  (>= 3:1)',
    'AAA Normal Text: ' + document.getElementById('aaaNormal').textContent + '  (>= 7:1)',
    'AAA Large Text:  ' + document.getElementById('aaaLarge').textContent + '  (>= 4.5:1)',
    '',
    'Generated by ANIMA — nextool.app/free-tools/color-contrast-checker.html'
  ].join('\n');
  navigator.clipboard.writeText(lines).then(() => showToast('Results copied to clipboard'));
}

function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2000);
}

// IntersectionObserver fade-in
const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('visible'); observer.unobserve(entry.target); }});
}, { threshold: 0.1 });
document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));

// Initial update
update();
</script>
<script src="/js/analytics-lite.js" defer></script>
<script src="/js/revenue.js" defer></script>
<script src="/js/lead-capture.js" defer></script>
</body>
</html>