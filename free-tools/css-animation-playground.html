<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Free CSS Animation Playground — Build Keyframe Animations | ANIMA</title>
<meta name="description" content="Visual CSS animation builder with keyframe timeline, cubic-bezier editor, 8+ presets, live preview, and copy-ready code. Build animations in your browser for free.">
<meta name="keywords" content="CSS animation playground, keyframe editor, CSS animation builder, cubic-bezier editor, animation presets, CSS transitions, ANIMA">
<meta name="robots" content="index, follow">
<meta property="og:title" content="Free CSS Animation Playground | ANIMA">
<meta property="og:description" content="Build CSS keyframe animations visually with a timeline editor, cubic-bezier curves, and 8+ presets. Live preview and copy-ready code.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://nextool.app/free-tools/css-animation-playground.html">
<meta property="og:image" content="https://nextool.app/img/og-image.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Free CSS Animation Playground | ANIMA">
<meta name="twitter:description" content="Build CSS keyframe animations visually with timeline editor and live preview. Free online tool.">
<link rel="canonical" href="https://nextool.app/free-tools/css-animation-playground.html">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"SoftwareApplication","name":"CSS Animation Playground","applicationCategory":"DesignApplication","operatingSystem":"Web","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"description":"Visual CSS animation builder with keyframe timeline, cubic-bezier editor, presets, and live preview."}
</script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#050508;--surface:#111118;--surface2:#1a1a24;--surface3:#222233;--border:#2a2a3a;--text:#e4e4eb;--text2:#9494a8;--primary:#00d4ff;--accent:#a855f7;--pink:#ec4899;--green:#22c55e;--red:#ef4444;--cyan:#22d3ee;--yellow:#eab308;--radius:12px;--glass:rgba(17,17,24,0.7)}
html{scroll-behavior:smooth}
body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);line-height:1.6;min-height:100vh;overflow-x:hidden}
/* NAV */
.nav{position:sticky;top:0;z-index:100;background:rgba(5,5,8,0.85);backdrop-filter:blur(20px);border-bottom:1px solid var(--border);padding:0 2rem;height:64px;display:flex;align-items:center;justify-content:space-between}
.nav-logo{font-size:1.4rem;font-weight:800;background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-decoration:none}
.nav-links{display:flex;align-items:center;gap:1.5rem}
.nav-links a{color:var(--text2);text-decoration:none;font-size:.875rem;font-weight:500;transition:color .2s}
.nav-links a:hover{color:var(--text)}
.nav-cta{background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff!important;padding:.5rem 1.2rem;border-radius:8px;font-weight:600;-webkit-text-fill-color:#fff!important}
.nav-cta:hover{opacity:.9}
.nav-toggle{display:none;background:none;border:none;color:var(--text);font-size:1.5rem;cursor:pointer}
/* HERO */
.hero{text-align:center;padding:3rem 1.5rem 2rem;max-width:700px;margin:0 auto}
.hero h1{font-size:2.2rem;font-weight:800;line-height:1.2;margin-bottom:.75rem}
.hero h1 span{background:linear-gradient(135deg,var(--primary),var(--accent),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hero p{color:var(--text2);font-size:1rem}
/* TOOL */
.tool-container{max-width:1300px;margin:0 auto;padding:0 1.5rem 3rem}
.main-layout{display:grid;grid-template-columns:320px 1fr;gap:1.25rem;min-height:600px}
/* PANELS */
.panel{background:var(--glass);backdrop-filter:blur(16px);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;display:flex;flex-direction:column}
.panel-header{padding:.6rem 1rem;border-bottom:1px solid var(--border);font-size:.8rem;font-weight:600;color:var(--text2);display:flex;justify-content:space-between;align-items:center;background:rgba(26,26,36,0.5)}
.panel-body{flex:1;padding:1rem;overflow-y:auto}
/* CONTROLS */
.control-group{margin-bottom:1rem}
.control-group label{display:block;font-size:.75rem;font-weight:600;color:var(--text2);margin-bottom:.35rem;text-transform:uppercase;letter-spacing:.5px}
.control-row{display:flex;gap:.5rem;align-items:center}
select,input[type="number"],input[type="text"]{width:100%;background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.4rem .6rem;border-radius:8px;font-size:.8rem;font-family:inherit;outline:none;transition:border-color .2s}
select:focus,input:focus{border-color:var(--primary)}
select{appearance:none;padding-right:1.8rem;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%239494a8' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right .6rem center}
input[type="range"]{width:100%;-webkit-appearance:none;background:var(--surface2);height:6px;border-radius:3px;outline:none;margin:.3rem 0}
input[type="range"]::-webkit-slider-thumb{-webkit-appearance:none;width:16px;height:16px;border-radius:50%;background:var(--primary);cursor:pointer;border:2px solid var(--bg)}
.range-val{font-size:.75rem;color:var(--primary);font-weight:600;min-width:40px;text-align:right}
/* PRESET GRID */
.preset-grid{display:grid;grid-template-columns:1fr 1fr;gap:.4rem;margin-bottom:1rem}
.preset-btn{background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.4rem .5rem;border-radius:8px;font-size:.72rem;font-weight:500;cursor:pointer;transition:all .2s;font-family:inherit;text-align:center}
.preset-btn:hover{border-color:var(--primary);background:rgba(0,212,255,.12)}
.preset-btn.active{background:linear-gradient(135deg,var(--primary),var(--accent));border-color:transparent;color:#fff}
/* PREVIEW */
.preview-area{position:relative;background:var(--surface);border-radius:var(--radius);min-height:300px;display:flex;align-items:center;justify-content:center;overflow:hidden;border:1px solid var(--border)}
.preview-bg{position:absolute;inset:0;background:repeating-conic-gradient(rgba(255,255,255,.03) 0% 25%, transparent 0% 50%) 0 0/20px 20px}
.preview-element{position:relative;z-index:1}
.preview-el-box{width:80px;height:80px;border-radius:12px;background:linear-gradient(135deg,var(--primary),var(--accent))}
.preview-el-circle{width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--pink))}
.preview-el-text{font-size:1.8rem;font-weight:800;background:linear-gradient(135deg,var(--primary),var(--accent),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.preview-el-button{padding:.6rem 1.5rem;background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;border:none;border-radius:10px;font-size:.9rem;font-weight:700;font-family:inherit;cursor:default}
.preview-el-card{width:120px;padding:1rem;background:var(--surface2);border:1px solid var(--border);border-radius:12px;text-align:center}
.preview-el-card .card-icon{font-size:1.5rem;margin-bottom:.3rem}
.preview-el-card .card-label{font-size:.7rem;color:var(--text2)}
.preview-el-icon{font-size:3rem;line-height:1}
/* ELEMENT PICKER */
.el-picker{display:flex;gap:.35rem;flex-wrap:wrap;margin-bottom:1rem}
.el-pick{width:36px;height:36px;border-radius:8px;background:var(--surface2);border:1px solid var(--border);display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:.85rem;transition:all .2s}
.el-pick:hover{border-color:var(--primary)}
.el-pick.active{border-color:var(--primary);background:rgba(0,212,255,.15)}
/* TIMELINE */
.timeline-wrap{margin-top:1rem}
.timeline-bar{position:relative;height:40px;background:var(--surface);border-radius:8px;border:1px solid var(--border);overflow:visible;cursor:pointer}
.timeline-fill{position:absolute;top:0;left:0;height:100%;background:linear-gradient(90deg,rgba(0,212,255,.3),rgba(168,85,247,.3));border-radius:8px;pointer-events:none}
.timeline-markers{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center}
.kf-marker{position:absolute;width:14px;height:14px;border-radius:50%;background:var(--primary);border:2px solid var(--bg);cursor:grab;transform:translate(-50%,0);z-index:2;transition:background .2s}
.kf-marker:hover,.kf-marker.active{background:var(--accent);transform:translate(-50%,0) scale(1.2)}
.kf-marker.dragging{cursor:grabbing}
.timeline-labels{display:flex;justify-content:space-between;font-size:.65rem;color:var(--text2);margin-top:.25rem;padding:0 2px}
/* KEYFRAME EDITOR */
.kf-editor{margin-top:1rem}
.kf-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}
.kf-header span{font-size:.75rem;font-weight:600;color:var(--text2)}
.kf-add{background:var(--surface2);border:1px solid var(--border);color:var(--primary);padding:.25rem .6rem;border-radius:6px;font-size:.7rem;cursor:pointer;font-family:inherit;font-weight:600;transition:all .2s}
.kf-add:hover{background:rgba(0,212,255,.15);border-color:var(--primary)}
.kf-list{display:flex;flex-direction:column;gap:.4rem;max-height:200px;overflow-y:auto}
.kf-item{display:flex;gap:.4rem;align-items:center;background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:.35rem .5rem;font-size:.72rem;transition:border-color .2s}
.kf-item.active{border-color:var(--primary)}
.kf-item input[type="number"]{width:50px;padding:.2rem .3rem;font-size:.72rem}
.kf-item .kf-pct{color:var(--primary);font-weight:700;min-width:32px}
.kf-rm{background:none;border:none;color:var(--red);cursor:pointer;font-size:.8rem;padding:0 4px;opacity:.5;transition:opacity .2s}
.kf-rm:hover{opacity:1}
/* TRANSFORM ROW */
.transform-grid{display:grid;grid-template-columns:1fr 1fr;gap:.4rem}
.transform-grid .control-group{margin-bottom:.5rem}
.transform-grid input[type="number"]{font-size:.75rem;padding:.3rem .4rem}
/* CUBIC BEZIER */
.bezier-canvas-wrap{position:relative;width:100%;aspect-ratio:1;background:var(--surface);border:1px solid var(--border);border-radius:8px;margin:.5rem 0;cursor:crosshair;touch-action:none}
.bezier-canvas-wrap canvas{width:100%;height:100%;display:block}
.bezier-presets{display:flex;gap:.3rem;flex-wrap:wrap;margin-bottom:.5rem}
.bezier-preset{background:var(--surface2);border:1px solid var(--border);color:var(--text2);padding:.2rem .5rem;border-radius:6px;font-size:.65rem;cursor:pointer;font-family:inherit;transition:all .2s}
.bezier-preset:hover,.bezier-preset.active{border-color:var(--primary);color:var(--primary)}
.bezier-val{font-family:'Courier New',monospace;font-size:.7rem;color:var(--cyan);margin-top:.3rem;word-break:break-all}
/* CODE OUTPUT */
.code-area{position:relative}
.code-output{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:1rem;font-family:'Courier New',monospace;font-size:.8rem;line-height:1.6;white-space:pre-wrap;word-break:break-all;color:var(--text);max-height:400px;overflow-y:auto;tab-size:2}
.code-output .hl-prop{color:#c084fc}
.code-output .hl-val{color:#4ade80}
.code-output .hl-at{color:var(--cyan)}
.code-output .hl-brace{color:var(--text2)}
.code-output .hl-pct{color:var(--yellow)}
.code-output .hl-sel{color:var(--pink)}
/* TOOLBAR */
.toolbar{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1rem;align-items:center}
.toolbar button{background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.45rem .9rem;border-radius:8px;font-size:.8rem;font-weight:500;cursor:pointer;transition:all .2s;font-family:inherit}
.toolbar button:hover{border-color:var(--primary);background:rgba(0,212,255,.12)}
.toolbar button.primary{background:linear-gradient(135deg,var(--primary),var(--accent));border-color:transparent;color:#fff}
/* RIGHT COLUMN */
.right-col{display:flex;flex-direction:column;gap:1.25rem}
/* TABS */
.tab-row{display:flex;gap:0;border-bottom:1px solid var(--border);margin-bottom:1rem}
.tab-btn{background:none;border:none;color:var(--text2);padding:.5rem 1rem;font-size:.8rem;font-weight:600;cursor:pointer;font-family:inherit;border-bottom:2px solid transparent;transition:all .2s}
.tab-btn:hover{color:var(--text)}
.tab-btn.active{color:var(--primary);border-bottom-color:var(--primary)}
.tab-pane{display:none}
.tab-pane.active{display:block}
/* CTA */
.cta-section{text-align:center;padding:4rem 1.5rem;max-width:700px;margin:0 auto}
.cta-section h2{font-size:1.8rem;font-weight:800;margin-bottom:.75rem}
.cta-section h2 span{background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.cta-section p{color:var(--text2);margin-bottom:1.5rem}
.cta-btn{display:inline-block;background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;padding:.75rem 2rem;border-radius:10px;font-weight:700;text-decoration:none;font-size:1rem;transition:transform .2s,box-shadow .2s}
.cta-btn:hover{transform:translateY(-2px);box-shadow:0 8px 30px rgba(0,212,255,.3)}
/* FOOTER */
.footer{border-top:1px solid var(--border);padding:3rem 2rem 2rem;max-width:1200px;margin:0 auto}
.footer-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;margin-bottom:2rem}
.footer-col h4{font-size:.85rem;font-weight:700;margin-bottom:.75rem;color:var(--text)}
.footer-col a{display:block;color:var(--text2);text-decoration:none;font-size:.8rem;margin-bottom:.4rem;transition:color .2s}
.footer-col a:hover{color:var(--primary)}
.footer-bottom{text-align:center;color:var(--text2);font-size:.75rem;padding-top:1.5rem;border-top:1px solid var(--border)}
/* FADE */
.fade-in{opacity:0;transform:translateY(20px);transition:opacity .6s,transform .6s}
.fade-in.visible{opacity:1;transform:translateY(0)}
/* TOAST */
.toast{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%) translateY(80px);background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.6rem 1.2rem;border-radius:10px;font-size:.85rem;font-weight:500;z-index:200;transition:transform .3s;pointer-events:none}
.toast.show{transform:translateX(-50%) translateY(0)}
/* RESPONSIVE */
@media(max-width:900px){
  .main-layout{grid-template-columns:1fr}
  .nav-links{display:none;position:absolute;top:64px;left:0;right:0;background:var(--bg);border-bottom:1px solid var(--border);flex-direction:column;padding:1rem 2rem;gap:1rem}
  .nav-links.open{display:flex}
  .nav-toggle{display:block}
  .hero h1{font-size:1.6rem}
  .footer-grid{grid-template-columns:1fr}
  .preset-grid{grid-template-columns:1fr 1fr}
  .transform-grid{grid-template-columns:1fr}
}
</style>
</head>
<body>

<nav class="nav">
  <a href="/" class="nav-logo">ANIMA</a>
  <button class="nav-toggle" onclick="document.querySelector('.nav-links').classList.toggle('open')" aria-label="Menu">&#9776;</button>
  <div class="nav-links">
    <a href="/">Home</a>
    <a href="/free-tools/">Tools</a>
    <a href="/free-tools/">Free Tools</a>
    <a href="/blog/">Blog</a>
    <a href="https://github.com/christian140903-sudo/nextool" class="nav-cta" target="_blank" rel="noopener">GitHub</a>
  </div>
</nav>

<section class="hero fade-in">
  <h1>CSS <span>Animation Playground</span></h1>
  <p style="color:#94a3b8;font-size:15px;line-height:1.6;margin-bottom:24px;max-width:700px;margin-left:auto;margin-right:auto;">Build CSS keyframe animations visually. Choose from 8+ presets, edit keyframes on a timeline, fine-tune cubic-bezier curves, preview live, and copy production-ready CSS. 100% free, no signup.</p>
</section>

<div class="tool-container fade-in">
  <div class="toolbar">
    <button class="primary" onclick="playAnimation()">Play</button>
    <button onclick="pauseAnimation()">Pause</button>
    <button onclick="resetAnimation()">Reset</button>
    <button onclick="copyCSS()">Copy CSS</button>
    <button onclick="downloadCSS()">Download CSS</button>
  </div>

  <div class="main-layout">
    <!-- LEFT: Controls -->
    <div class="panel" style="max-height:calc(100vh - 180px);overflow-y:auto">
      <div class="panel-header"><span>Animation Controls</span></div>
      <div class="panel-body">

        <!-- Element Picker -->
        <div class="control-group">
          <label>Element</label>
          <div class="el-picker">
            <div class="el-pick active" data-el="box" title="Box"><div style="width:16px;height:16px;border-radius:3px;background:linear-gradient(135deg,var(--primary),var(--accent))"></div></div>
            <div class="el-pick" data-el="circle" title="Circle"><div style="width:16px;height:16px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--pink))"></div></div>
            <div class="el-pick" data-el="text" title="Text" style="font-size:.65rem;font-weight:800;color:var(--primary)">Aa</div>
            <div class="el-pick" data-el="button" title="Button" style="font-size:.6rem;font-weight:700;color:var(--accent)">Btn</div>
            <div class="el-pick" data-el="card" title="Card" style="font-size:.7rem">&#9632;</div>
            <div class="el-pick" data-el="icon" title="Star">&#9733;</div>
          </div>
        </div>

        <!-- Presets -->
        <div class="control-group">
          <label>Presets</label>
          <div class="preset-grid">
            <button class="preset-btn active" data-preset="bounce">Bounce</button>
            <button class="preset-btn" data-preset="fade">Fade In</button>
            <button class="preset-btn" data-preset="slide">Slide In</button>
            <button class="preset-btn" data-preset="spin">Spin</button>
            <button class="preset-btn" data-preset="pulse">Pulse</button>
            <button class="preset-btn" data-preset="shake">Shake</button>
            <button class="preset-btn" data-preset="flip">Flip</button>
            <button class="preset-btn" data-preset="zoom">Zoom In</button>
            <button class="preset-btn" data-preset="swing">Swing</button>
            <button class="preset-btn" data-preset="jello">Jello</button>
            <button class="preset-btn" data-preset="rubberBand">Rubber Band</button>
            <button class="preset-btn" data-preset="custom">Custom</button>
          </div>
        </div>

        <!-- Animation Properties -->
        <div class="control-group">
          <label>Duration: <span class="range-val" id="durVal">1s</span></label>
          <input type="range" id="duration" min="0.1" max="5" step="0.1" value="1" oninput="updateProp()">
        </div>
        <div class="control-group">
          <label>Delay: <span class="range-val" id="delayVal">0s</span></label>
          <input type="range" id="delay" min="0" max="3" step="0.1" value="0" oninput="updateProp()">
        </div>
        <div class="control-group">
          <label>Iteration Count</label>
          <div class="control-row">
            <select id="iterCount" onchange="updateProp()">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="5">5</option>
              <option value="infinite" selected>Infinite</option>
            </select>
          </div>
        </div>
        <div class="control-group">
          <label>Direction</label>
          <select id="direction" onchange="updateProp()">
            <option value="normal">Normal</option>
            <option value="reverse">Reverse</option>
            <option value="alternate" selected>Alternate</option>
            <option value="alternate-reverse">Alternate Reverse</option>
          </select>
        </div>
        <div class="control-group">
          <label>Fill Mode</label>
          <select id="fillMode" onchange="updateProp()">
            <option value="none">None</option>
            <option value="forwards">Forwards</option>
            <option value="backwards">Backwards</option>
            <option value="both" selected>Both</option>
          </select>
        </div>

        <!-- Timing Function Tabs -->
        <div class="control-group">
          <label>Timing Function</label>
          <div class="tab-row">
            <button class="tab-btn active" data-tab="preset-timing">Presets</button>
            <button class="tab-btn" data-tab="bezier-timing">Cubic Bezier</button>
          </div>
          <div class="tab-pane active" id="preset-timing">
            <select id="timingPreset" onchange="selectTimingPreset()">
              <option value="ease">ease</option>
              <option value="linear">linear</option>
              <option value="ease-in">ease-in</option>
              <option value="ease-out">ease-out</option>
              <option value="ease-in-out" selected>ease-in-out</option>
              <option value="custom">cubic-bezier (custom)</option>
            </select>
          </div>
          <div class="tab-pane" id="bezier-timing">
            <div class="bezier-presets">
              <button class="bezier-preset" data-bz="0.25,0.1,0.25,1">ease</button>
              <button class="bezier-preset" data-bz="0.42,0,1,1">ease-in</button>
              <button class="bezier-preset" data-bz="0,0,0.58,1">ease-out</button>
              <button class="bezier-preset" data-bz="0.42,0,0.58,1">ease-in-out</button>
              <button class="bezier-preset" data-bz="0.68,-0.55,0.27,1.55">back</button>
              <button class="bezier-preset" data-bz="0.22,1,0.36,1">expo-out</button>
            </div>
            <div class="bezier-canvas-wrap" id="bezierWrap">
              <canvas id="bezierCanvas"></canvas>
            </div>
            <div class="bezier-val" id="bezierVal">cubic-bezier(0.42, 0, 0.58, 1)</div>
          </div>
        </div>

        <!-- Animation Name -->
        <div class="control-group">
          <label>Animation Name</label>
          <input type="text" id="animName" value="myAnimation" onchange="updateProp()">
        </div>
      </div>
    </div>

    <!-- RIGHT: Preview + Timeline + Code -->
    <div class="right-col">
      <!-- Preview -->
      <div class="panel">
        <div class="panel-header"><span>Live Preview</span><span id="previewState">Playing</span></div>
        <div class="preview-area" id="previewArea">
          <div class="preview-bg"></div>
          <div class="preview-element" id="previewEl">
            <div class="preview-el-box" id="animTarget"></div>
          </div>
        </div>
      </div>

      <!-- Timeline + Keyframe Editor -->
      <div class="panel">
        <div class="panel-header"><span>Keyframe Timeline</span></div>
        <div class="panel-body">
          <div class="timeline-wrap">
            <div class="timeline-bar" id="timelineBar">
              <div class="timeline-fill" id="timelineFill"></div>
              <div class="timeline-markers" id="timelineMarkers"></div>
            </div>
            <div class="timeline-labels"><span>0%</span><span>25%</span><span>50%</span><span>75%</span><span>100%</span></div>
          </div>
          <div class="kf-editor">
            <div class="kf-header">
              <span>Keyframes</span>
              <button class="kf-add" onclick="addKeyframe()">+ Add Keyframe</button>
            </div>
            <div class="kf-list" id="kfList"></div>
          </div>
          <!-- Transform controls for selected keyframe -->
          <div id="kfTransformPanel" style="margin-top:1rem;display:none">
            <div class="control-group">
              <label>Selected Keyframe Transforms</label>
            </div>
            <div class="transform-grid">
              <div class="control-group">
                <label>Translate X (px)</label>
                <input type="number" id="kfTransX" value="0" onchange="updateKeyframeTransform()">
              </div>
              <div class="control-group">
                <label>Translate Y (px)</label>
                <input type="number" id="kfTransY" value="0" onchange="updateKeyframeTransform()">
              </div>
              <div class="control-group">
                <label>Rotate (deg)</label>
                <input type="number" id="kfRotate" value="0" onchange="updateKeyframeTransform()">
              </div>
              <div class="control-group">
                <label>Scale</label>
                <input type="number" id="kfScale" value="1" step="0.1" min="0" onchange="updateKeyframeTransform()">
              </div>
              <div class="control-group">
                <label>Skew X (deg)</label>
                <input type="number" id="kfSkewX" value="0" onchange="updateKeyframeTransform()">
              </div>
              <div class="control-group">
                <label>Skew Y (deg)</label>
                <input type="number" id="kfSkewY" value="0" onchange="updateKeyframeTransform()">
              </div>
              <div class="control-group">
                <label>Opacity</label>
                <input type="number" id="kfOpacity" value="1" step="0.1" min="0" max="1" onchange="updateKeyframeTransform()">
              </div>
              <div class="control-group">
                <label>Background</label>
                <input type="text" id="kfBg" value="" placeholder="e.g. #00d4ff" onchange="updateKeyframeTransform()">
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Generated CSS -->
      <div class="panel">
        <div class="panel-header"><span>Generated CSS</span><button class="kf-add" onclick="copyCSS()">Copy</button></div>
        <div class="code-area">
          <div class="code-output" id="codeOutput"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<section class="cta-section fade-in">
  <h2>Need something <span>more powerful</span>?</h2>
  <p>Let us build it for you. Custom APIs, dashboards, automations &mdash; whatever you need.</p>
  <a href="/#contact" class="cta-btn">Start a Project &rarr;</a>
</section>

<section style="max-width:900px;margin:40px auto;padding:0 24px;">
<div style="background:linear-gradient(135deg,rgba(0,212,255,0.1),rgba(168,85,247,0.08));border:1px solid rgba(0,212,255,0.15);border-radius:20px;padding:32px 28px;text-align:center;">
<div style="font-size:13px;color:#818cf8;font-weight:600;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;">Founding Member</div>
<h3 style="font-size:22px;font-weight:800;color:#fff;margin:0 0 8px;">ANIMA on GitHub</h3>
<p style="color:#94a3b8;font-size:14px;margin:0 auto 20px;max-width:500px;">248+ free tools. No signup. Open source. Built by Christian Bucher.</p>
<div style="display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap;">
<a href="/about/" style="display:inline-block;padding:12px 28px;background:linear-gradient(135deg,#00d4ff,#a855f7,#ec4899);color:#fff;border-radius:10px;font-weight:700;font-size:15px;text-decoration:none;">GitHub</a>
<a href="/free-tools/" style="color:#94a3b8;font-size:14px;text-decoration:none;">Browse 250+ Free Tools &rarr;</a>
</div>
</div>
</section>


<!-- AUTO-LINKED by ANIMA Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/css-animation-generator.html" style="color:var(--primary);text-decoration:none">CSS Animation Generator - Free Tool</a> · <a href="/free-tools/box-shadow-generator.html" style="color:var(--primary);text-decoration:none">CSS Box Shadow Generator</a> · <a href="/free-tools/emoji-picker.html" style="color:var(--primary);text-decoration:none">Emoji Picker & Search</a></p>
</div>

<!-- AUTO-LINKED by ANIMA Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/json-to-yaml-converter.html" style="color:var(--primary);text-decoration:none">Free JSON to YAML Converter</a> · <a href="/free-tools/accessibility-checker.html" style="color:var(--primary);text-decoration:none">Free Accessibility Checker</a> · <a href="/free-tools/api-request-builder.html" style="color:var(--primary);text-decoration:none">Free API Request Builder</a></p>
</div>

<!-- AUTO-LINKED by ANIMA Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/json-to-yaml.html" style="color:var(--primary);text-decoration:none">Free JSON to YAML Converter</a> · <a href="/free-tools/yaml-to-json.html" style="color:var(--primary);text-decoration:none">YAML to JSON Converter</a> · <a href="/free-tools/ascii-art-generator.html" style="color:var(--primary);text-decoration:none">Free ASCII Art Generator</a></p>
</div>
<footer class="footer fade-in">
  <div class="footer-grid">
    <div class="footer-col">
      <h4>Products</h4>
      <a href="/free-tools/">250+ Free Tools</a>
      <a href="/about/">About</a>
      <a href="/docs/">Documentation</a>
    </div>
    <div class="footer-col">
      <h4>Explore</h4>
      <a href="/free-tools/">Free Tools</a><a href="/blog/">Blog</a><a href="/about/">FAQ</a><a href="/about/">About</a>
    </div>
    <div class="footer-col">
      <h4>Ecosystem</h4>
      <a href="/">ANIMA Home</a><a href="/#contact">Contact</a><a href="https://github.com/christian140903-sudo/nextool" target="_blank">GitHub</a>
    </div>
  </div>
  <div class="footer-bottom">&copy; 2026 ANIMA. AI-powered tools for everyone.</div>
</footer>

<div class="toast" id="toast"></div>

<script>
/* ============================================================
   CSS Animation Playground — ANIMA
   100% client-side, zero dependencies
   ============================================================ */

// --- State ---
var state = {
  element: 'box',
  preset: 'bounce',
  duration: 1,
  delay: 0,
  iterCount: 'infinite',
  direction: 'alternate',
  fillMode: 'both',
  timing: 'ease-in-out',
  bezier: [0.42, 0, 0.58, 1],
  name: 'myAnimation',
  keyframes: [],
  selectedKf: 0,
  playing: true
};

// --- Presets ---
var PRESETS = {
  bounce: [
    {pct:0, tx:0, ty:0, rot:0, sc:1, skx:0, sky:0, op:1, bg:''},
    {pct:20, tx:0, ty:-30, rot:0, sc:1, skx:0, sky:0, op:1, bg:''},
    {pct:40, tx:0, ty:0, rot:0, sc:1, skx:0, sky:0, op:1, bg:''},
    {pct:60, tx:0, ty:-15, rot:0, sc:1, skx:0, sky:0, op:1, bg:''},
    {pct:80, tx:0, ty:0, rot:0, sc:1, skx:0, sky:0, op:1, bg:''},
    {pct:100, tx:0, ty:0, rot:0, sc:1, skx:0, sky:0, op:1, bg:''}
  ],
  fade: [
    {pct:0, tx:0, ty:0, rot:0, sc:1, skx:0, sky:0, op:0, bg:''},
    {pct:100, tx:0, ty:0, rot:0, sc:1, skx:0, sky:0, op:1, bg:''}
  ],
  slide: [
    {pct:0, tx:-120, ty:0, rot:0, sc:1, skx:0, sky:0, op:0, bg:''},
    {pct:100, tx:0, ty:0, rot:0, sc:1, skx:0, sky:0, op:1, bg:''}
  ],
  spin: [
    {pct:0, tx:0, ty:0, rot:0, sc:1, skx:0, sky:0, op:1, bg:''},
    {pct:100, tx:0, ty:0, rot:360, sc:1, skx:0, sky:0, op:1, bg:''}
  ],
  pulse: [
    {pct:0, tx:0, ty:0, rot:0, sc:1, skx:0, sky:0, op:1, bg:''},
    {pct:50, tx:0, ty:0, rot:0, sc:1.15, skx:0, sky:0, op:1, bg:''},
    {pct:100, tx:0, ty:0, rot:0, sc:1, skx:0, sky:0, op:1, bg:''}
  ],
  shake: [
    {pct:0, tx:0, ty:0, rot:0, sc:1, skx:0, sky:0, op:1, bg:''},
    {pct:10, tx:-10, ty:0, rot:-1, sc:1, skx:0, sky:0, op:1, bg:''},
    {pct:20, tx:10, ty:0, rot:1, sc:1, skx:0, sky:0, op:1, bg:''},
    {pct:30, tx:-10, ty:0, rot:0, sc:1, skx:0, sky:0, op:1, bg:''},
    {pct:40, tx:10, ty:0, rot:1, sc:1, skx:0, sky:0, op:1, bg:''},
    {pct:50, tx:-10, ty:0, rot:-1, sc:1, skx:0, sky:0, op:1, bg:''},
    {pct:60, tx:10, ty:0, rot:0, sc:1, skx:0, sky:0, op:1, bg:''},
    {pct:70, tx:-10, ty:0, rot:1, sc:1, skx:0, sky:0, op:1, bg:''},
    {pct:80, tx:10, ty:0, rot:-1, sc:1, skx:0, sky:0, op:1, bg:''},
    {pct:90, tx:-10, ty:0, rot:0, sc:1, skx:0, sky:0, op:1, bg:''},
    {pct:100, tx:0, ty:0, rot:0, sc:1, skx:0, sky:0, op:1, bg:''}
  ],
  flip: [
    {pct:0, tx:0, ty:0, rot:0, sc:1, skx:0, sky:0, op:1, bg:''},
    {pct:40, tx:0, ty:0, rot:0, sc:1, skx:0, sky:15, op:1, bg:''},
    {pct:50, tx:0, ty:0, rot:0, sc:1, skx:0, sky:-15, op:1, bg:''},
    {pct:100, tx:0, ty:0, rot:0, sc:1, skx:0, sky:0, op:1, bg:''}
  ],
  zoom: [
    {pct:0, tx:0, ty:0, rot:0, sc:0.3, skx:0, sky:0, op:0, bg:''},
    {pct:50, tx:0, ty:0, rot:0, sc:1.05, skx:0, sky:0, op:1, bg:''},
    {pct:100, tx:0, ty:0, rot:0, sc:1, skx:0, sky:0, op:1, bg:''}
  ],
  swing: [
    {pct:0, tx:0, ty:0, rot:0, sc:1, skx:0, sky:0, op:1, bg:''},
    {pct:20, tx:0, ty:0, rot:15, sc:1, skx:0, sky:0, op:1, bg:''},
    {pct:40, tx:0, ty:0, rot:-10, sc:1, skx:0, sky:0, op:1, bg:''},
    {pct:60, tx:0, ty:0, rot:5, sc:1, skx:0, sky:0, op:1, bg:''},
    {pct:80, tx:0, ty:0, rot:-5, sc:1, skx:0, sky:0, op:1, bg:''},
    {pct:100, tx:0, ty:0, rot:0, sc:1, skx:0, sky:0, op:1, bg:''}
  ],
  jello: [
    {pct:0, tx:0, ty:0, rot:0, sc:1, skx:0, sky:0, op:1, bg:''},
    {pct:11, tx:0, ty:0, rot:0, sc:1, skx:-12.5, sky:-12.5, op:1, bg:''},
    {pct:22, tx:0, ty:0, rot:0, sc:1, skx:6.25, sky:6.25, op:1, bg:''},
    {pct:33, tx:0, ty:0, rot:0, sc:1, skx:-3.125, sky:-3.125, op:1, bg:''},
    {pct:44, tx:0, ty:0, rot:0, sc:1, skx:1.5625, sky:1.5625, op:1, bg:''},
    {pct:55, tx:0, ty:0, rot:0, sc:1, skx:-0.78, sky:-0.78, op:1, bg:''},
    {pct:66, tx:0, ty:0, rot:0, sc:1, skx:0.39, sky:0.39, op:1, bg:''},
    {pct:77, tx:0, ty:0, rot:0, sc:1, skx:-0.2, sky:-0.2, op:1, bg:''},
    {pct:100, tx:0, ty:0, rot:0, sc:1, skx:0, sky:0, op:1, bg:''}
  ],
  rubberBand: [
    {pct:0, tx:0, ty:0, rot:0, sc:1, skx:0, sky:0, op:1, bg:''},
    {pct:30, tx:0, ty:0, rot:0, sc:1, skx:0, sky:0, op:1, bg:''},
    {pct:40, tx:0, ty:0, rot:0, sc:1, skx:-5, sky:5, op:1, bg:''},
    {pct:50, tx:0, ty:0, rot:0, sc:1, skx:3, sky:-3, op:1, bg:''},
    {pct:65, tx:0, ty:0, rot:0, sc:1, skx:-2, sky:2, op:1, bg:''},
    {pct:75, tx:0, ty:0, rot:0, sc:1, skx:1, sky:-1, op:1, bg:''},
    {pct:100, tx:0, ty:0, rot:0, sc:1, skx:0, sky:0, op:1, bg:''}
  ],
  custom: [
    {pct:0, tx:0, ty:0, rot:0, sc:1, skx:0, sky:0, op:1, bg:''},
    {pct:50, tx:0, ty:0, rot:0, sc:1, skx:0, sky:0, op:1, bg:''},
    {pct:100, tx:0, ty:0, rot:0, sc:1, skx:0, sky:0, op:1, bg:''}
  ]
};

// Deep clone helper
function cloneKfs(kfs) {
  return kfs.map(function(k) { return Object.assign({}, k); });
}

// --- Init ---
function init() {
  loadPreset('bounce');
  setupElPicker();
  setupPresetBtns();
  setupTabs();
  setupBezier();
  updateAll();
}

// --- Element Picker ---
function setupElPicker() {
  document.querySelectorAll('.el-pick').forEach(function(el) {
    el.addEventListener('click', function() {
      document.querySelectorAll('.el-pick').forEach(function(e) { e.classList.remove('active'); });
      el.classList.add('active');
      state.element = el.dataset.el;
      updatePreviewElement();
      applyAnimation();
    });
  });
}

function updatePreviewElement() {
  var target = document.getElementById('animTarget');
  var parent = document.getElementById('previewEl');
  var html = '';
  switch(state.element) {
    case 'box': html = '<div class="preview-el-box" id="animTarget"></div>'; break;
    case 'circle': html = '<div class="preview-el-circle" id="animTarget"></div>'; break;
    case 'text': html = '<div class="preview-el-text" id="animTarget">ANIMA</div>'; break;
    case 'button': html = '<button class="preview-el-button" id="animTarget">Click Me</button>'; break;
    case 'card': html = '<div class="preview-el-card" id="animTarget"><div class="card-icon">&#9733;</div><div class="card-label">Card</div></div>'; break;
    case 'icon': html = '<div class="preview-el-icon" id="animTarget">&#9733;</div>'; break;
  }
  parent.innerHTML = html;
}

// --- Preset Buttons ---
function setupPresetBtns() {
  document.querySelectorAll('.preset-btn').forEach(function(btn) {
    btn.addEventListener('click', function() {
      document.querySelectorAll('.preset-btn').forEach(function(b) { b.classList.remove('active'); });
      btn.classList.add('active');
      state.preset = btn.dataset.preset;
      loadPreset(btn.dataset.preset);
      updateAll();
    });
  });
}

function loadPreset(name) {
  if (PRESETS[name]) {
    state.keyframes = cloneKfs(PRESETS[name]);
    state.selectedKf = 0;
  }
}

// --- Tabs ---
function setupTabs() {
  document.querySelectorAll('.tab-btn').forEach(function(btn) {
    btn.addEventListener('click', function() {
      var parent = btn.closest('.control-group');
      parent.querySelectorAll('.tab-btn').forEach(function(b) { b.classList.remove('active'); });
      parent.querySelectorAll('.tab-pane').forEach(function(p) { p.classList.remove('active'); });
      btn.classList.add('active');
      document.getElementById(btn.dataset.tab).classList.add('active');
      if (btn.dataset.tab === 'bezier-timing') {
        state.timing = 'cubic-bezier(' + state.bezier.join(', ') + ')';
        drawBezier();
      }
      updateProp();
    });
  });
}

// --- Update Properties ---
function updateProp() {
  state.duration = parseFloat(document.getElementById('duration').value);
  state.delay = parseFloat(document.getElementById('delay').value);
  state.iterCount = document.getElementById('iterCount').value;
  state.direction = document.getElementById('direction').value;
  state.fillMode = document.getElementById('fillMode').value;
  state.name = document.getElementById('animName').value || 'myAnimation';

  document.getElementById('durVal').textContent = state.duration + 's';
  document.getElementById('delayVal').textContent = state.delay + 's';

  var activeBezierTab = document.querySelector('.tab-btn[data-tab="bezier-timing"]');
  if (activeBezierTab && activeBezierTab.classList.contains('active')) {
    state.timing = 'cubic-bezier(' + state.bezier.map(function(v){return Math.round(v*100)/100;}).join(', ') + ')';
  } else {
    state.timing = document.getElementById('timingPreset').value;
    if (state.timing === 'custom') {
      state.timing = 'cubic-bezier(' + state.bezier.map(function(v){return Math.round(v*100)/100;}).join(', ') + ')';
    }
  }

  applyAnimation();
  generateCode();
}

function selectTimingPreset() {
  var val = document.getElementById('timingPreset').value;
  if (val === 'custom') {
    // Switch to bezier tab
    var parent = document.getElementById('timingPreset').closest('.control-group');
    parent.querySelectorAll('.tab-btn').forEach(function(b) { b.classList.remove('active'); });
    parent.querySelectorAll('.tab-pane').forEach(function(p) { p.classList.remove('active'); });
    parent.querySelector('.tab-btn[data-tab="bezier-timing"]').classList.add('active');
    document.getElementById('bezier-timing').classList.add('active');
    drawBezier();
  }
  updateProp();
}

// --- Update All ---
function updateAll() {
  renderTimeline();
  renderKeyframeList();
  updateTransformPanel();
  applyAnimation();
  generateCode();
}

// --- Dynamic Style Tag ---
var animStyle = document.createElement('style');
document.head.appendChild(animStyle);

function applyAnimation() {
  var kfs = state.keyframes;
  var css = '@keyframes ' + state.name + ' {\n';
  kfs.forEach(function(kf) {
    css += '  ' + kf.pct + '% {\n';
    var transforms = [];
    if (kf.tx !== 0 || kf.ty !== 0) transforms.push('translate(' + kf.tx + 'px, ' + kf.ty + 'px)');
    if (kf.rot !== 0) transforms.push('rotate(' + kf.rot + 'deg)');
    if (kf.sc !== 1) transforms.push('scale(' + kf.sc + ')');
    if (kf.skx !== 0) transforms.push('skewX(' + kf.skx + 'deg)');
    if (kf.sky !== 0) transforms.push('skewY(' + kf.sky + 'deg)');
    if (transforms.length) css += '    transform: ' + transforms.join(' ') + ';\n';
    if (kf.op !== 1) css += '    opacity: ' + kf.op + ';\n';
    if (kf.bg) css += '    background: ' + kf.bg + ';\n';
    css += '  }\n';
  });
  css += '}\n';
  css += '#animTarget {\n';
  css += '  animation: ' + state.name + ' ' + state.duration + 's ' + state.timing + ' ' + state.delay + 's ' + state.iterCount + ' ' + state.direction + ' ' + state.fillMode + ';\n';
  css += '}\n';

  animStyle.textContent = css;

  // Force restart
  var target = document.getElementById('animTarget');
  if (target && state.playing) {
    target.style.animationPlayState = 'running';
  }

  document.getElementById('previewState').textContent = state.playing ? 'Playing' : 'Paused';
}

// --- Timeline ---
function renderTimeline() {
  var markers = document.getElementById('timelineMarkers');
  markers.innerHTML = '';
  state.keyframes.forEach(function(kf, i) {
    var m = document.createElement('div');
    m.className = 'kf-marker' + (i === state.selectedKf ? ' active' : '');
    m.style.left = kf.pct + '%';
    m.title = kf.pct + '%';
    m.dataset.idx = i;
    m.addEventListener('mousedown', startDragMarker);
    m.addEventListener('click', function(e) {
      e.stopPropagation();
      state.selectedKf = i;
      updateAll();
    });
    markers.appendChild(m);
  });

  // Click on bar to add
  document.getElementById('timelineBar').onclick = function(e) {
    if (e.target.classList.contains('kf-marker')) return;
    var rect = this.getBoundingClientRect();
    var pct = Math.round(((e.clientX - rect.left) / rect.width) * 100);
    pct = Math.max(0, Math.min(100, pct));
    addKeyframeAt(pct);
  };
}

function startDragMarker(e) {
  e.preventDefault();
  var idx = parseInt(e.target.dataset.idx);
  var bar = document.getElementById('timelineBar');
  var rect = bar.getBoundingClientRect();
  e.target.classList.add('dragging');

  function onMove(ev) {
    var pct = Math.round(((ev.clientX - rect.left) / rect.width) * 100);
    pct = Math.max(0, Math.min(100, pct));
    state.keyframes[idx].pct = pct;
    state.selectedKf = idx;
    updateAll();
  }
  function onUp() {
    document.removeEventListener('mousemove', onMove);
    document.removeEventListener('mouseup', onUp);
    e.target.classList.remove('dragging');
    sortKeyframes();
    updateAll();
  }
  document.addEventListener('mousemove', onMove);
  document.addEventListener('mouseup', onUp);
}

function sortKeyframes() {
  var sel = state.keyframes[state.selectedKf];
  state.keyframes.sort(function(a, b) { return a.pct - b.pct; });
  state.selectedKf = state.keyframes.indexOf(sel);
  if (state.selectedKf < 0) state.selectedKf = 0;
}

// --- Keyframe List ---
function renderKeyframeList() {
  var list = document.getElementById('kfList');
  list.innerHTML = '';
  state.keyframes.forEach(function(kf, i) {
    var item = document.createElement('div');
    item.className = 'kf-item' + (i === state.selectedKf ? ' active' : '');
    item.innerHTML = '<span class="kf-pct">' + kf.pct + '%</span>' +
      '<span style="font-size:.65rem;color:var(--text2);flex:1">' +
      'tx:' + kf.tx + ' ty:' + kf.ty + ' rot:' + kf.rot + ' sc:' + kf.sc +
      (kf.op !== 1 ? ' op:' + kf.op : '') +
      '</span>' +
      '<button class="kf-rm" title="Remove" data-idx="' + i + '">&times;</button>';
    item.addEventListener('click', function(e) {
      if (e.target.classList.contains('kf-rm')) return;
      state.selectedKf = i;
      updateAll();
    });
    item.querySelector('.kf-rm').addEventListener('click', function() {
      if (state.keyframes.length <= 2) { showToast('Need at least 2 keyframes'); return; }
      state.keyframes.splice(i, 1);
      if (state.selectedKf >= state.keyframes.length) state.selectedKf = state.keyframes.length - 1;
      markCustomPreset();
      updateAll();
    });
    list.appendChild(item);
  });
}

// --- Transform Panel ---
function updateTransformPanel() {
  var panel = document.getElementById('kfTransformPanel');
  if (state.keyframes.length === 0) { panel.style.display = 'none'; return; }
  panel.style.display = 'block';
  var kf = state.keyframes[state.selectedKf];
  if (!kf) return;
  document.getElementById('kfTransX').value = kf.tx;
  document.getElementById('kfTransY').value = kf.ty;
  document.getElementById('kfRotate').value = kf.rot;
  document.getElementById('kfScale').value = kf.sc;
  document.getElementById('kfSkewX').value = kf.skx;
  document.getElementById('kfSkewY').value = kf.sky;
  document.getElementById('kfOpacity').value = kf.op;
  document.getElementById('kfBg').value = kf.bg || '';
}

function updateKeyframeTransform() {
  var kf = state.keyframes[state.selectedKf];
  if (!kf) return;
  kf.tx = parseFloat(document.getElementById('kfTransX').value) || 0;
  kf.ty = parseFloat(document.getElementById('kfTransY').value) || 0;
  kf.rot = parseFloat(document.getElementById('kfRotate').value) || 0;
  kf.sc = parseFloat(document.getElementById('kfScale').value) || 1;
  kf.skx = parseFloat(document.getElementById('kfSkewX').value) || 0;
  kf.sky = parseFloat(document.getElementById('kfSkewY').value) || 0;
  kf.op = parseFloat(document.getElementById('kfOpacity').value);
  if (isNaN(kf.op)) kf.op = 1;
  kf.bg = document.getElementById('kfBg').value.trim();
  markCustomPreset();
  applyAnimation();
  generateCode();
  renderTimeline();
  renderKeyframeList();
}

// --- Add Keyframe ---
function addKeyframe() {
  var last = state.keyframes[state.keyframes.length - 1];
  var newPct = 50;
  // Find a gap
  var existing = state.keyframes.map(function(k) { return k.pct; });
  for (var p = 50; p <= 100; p += 5) {
    if (existing.indexOf(p) === -1) { newPct = p; break; }
  }
  if (existing.indexOf(newPct) !== -1) {
    for (var q = 5; q <= 95; q += 5) {
      if (existing.indexOf(q) === -1) { newPct = q; break; }
    }
  }
  addKeyframeAt(newPct);
}

function addKeyframeAt(pct) {
  state.keyframes.push({pct:pct, tx:0, ty:0, rot:0, sc:1, skx:0, sky:0, op:1, bg:''});
  sortKeyframes();
  state.selectedKf = state.keyframes.findIndex(function(k) { return k.pct === pct; });
  markCustomPreset();
  updateAll();
}

function markCustomPreset() {
  state.preset = 'custom';
  document.querySelectorAll('.preset-btn').forEach(function(b) { b.classList.remove('active'); });
  var customBtn = document.querySelector('.preset-btn[data-preset="custom"]');
  if (customBtn) customBtn.classList.add('active');
}

// --- CSS Code Generation ---
function generateCode() {
  var kfs = state.keyframes.slice().sort(function(a,b){return a.pct - b.pct;});
  var lines = [];
  lines.push('<span class="hl-at">@keyframes</span> <span class="hl-sel">' + esc(state.name) + '</span> <span class="hl-brace">{</span>');
  kfs.forEach(function(kf) {
    lines.push('  <span class="hl-pct">' + kf.pct + '%</span> <span class="hl-brace">{</span>');
    var transforms = [];
    if (kf.tx !== 0 || kf.ty !== 0) transforms.push('translate(' + kf.tx + 'px, ' + kf.ty + 'px)');
    if (kf.rot !== 0) transforms.push('rotate(' + kf.rot + 'deg)');
    if (kf.sc !== 1) transforms.push('scale(' + kf.sc + ')');
    if (kf.skx !== 0) transforms.push('skewX(' + kf.skx + 'deg)');
    if (kf.sky !== 0) transforms.push('skewY(' + kf.sky + 'deg)');
    if (transforms.length) {
      lines.push('    <span class="hl-prop">transform</span>: <span class="hl-val">' + esc(transforms.join(' ')) + '</span>;');
    }
    if (kf.op !== 1) {
      lines.push('    <span class="hl-prop">opacity</span>: <span class="hl-val">' + kf.op + '</span>;');
    }
    if (kf.bg) {
      lines.push('    <span class="hl-prop">background</span>: <span class="hl-val">' + esc(kf.bg) + '</span>;');
    }
    lines.push('  <span class="hl-brace">}</span>');
  });
  lines.push('<span class="hl-brace">}</span>');
  lines.push('');
  lines.push('<span class="hl-sel">.animated-element</span> <span class="hl-brace">{</span>');
  lines.push('  <span class="hl-prop">animation</span>: <span class="hl-val">' + esc(state.name + ' ' + state.duration + 's ' + state.timing + ' ' + state.delay + 's ' + state.iterCount + ' ' + state.direction + ' ' + state.fillMode) + '</span>;');
  lines.push('<span class="hl-brace">}</span>');

  document.getElementById('codeOutput').innerHTML = lines.join('\n');
}

function getRawCSS() {
  var kfs = state.keyframes.slice().sort(function(a,b){return a.pct - b.pct;});
  var lines = [];
  lines.push('@keyframes ' + state.name + ' {');
  kfs.forEach(function(kf) {
    lines.push('  ' + kf.pct + '% {');
    var transforms = [];
    if (kf.tx !== 0 || kf.ty !== 0) transforms.push('translate(' + kf.tx + 'px, ' + kf.ty + 'px)');
    if (kf.rot !== 0) transforms.push('rotate(' + kf.rot + 'deg)');
    if (kf.sc !== 1) transforms.push('scale(' + kf.sc + ')');
    if (kf.skx !== 0) transforms.push('skewX(' + kf.skx + 'deg)');
    if (kf.sky !== 0) transforms.push('skewY(' + kf.sky + 'deg)');
    if (transforms.length) lines.push('    transform: ' + transforms.join(' ') + ';');
    if (kf.op !== 1) lines.push('    opacity: ' + kf.op + ';');
    if (kf.bg) lines.push('    background: ' + kf.bg + ';');
    lines.push('  }');
  });
  lines.push('}');
  lines.push('');
  lines.push('.animated-element {');
  lines.push('  animation: ' + state.name + ' ' + state.duration + 's ' + state.timing + ' ' + state.delay + 's ' + state.iterCount + ' ' + state.direction + ' ' + state.fillMode + ';');
  lines.push('}');
  return lines.join('\n');
}

function esc(s) { return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

// --- Play / Pause / Reset ---
function playAnimation() {
  state.playing = true;
  var el = document.getElementById('animTarget');
  if (el) el.style.animationPlayState = 'running';
  document.getElementById('previewState').textContent = 'Playing';
}
function pauseAnimation() {
  state.playing = false;
  var el = document.getElementById('animTarget');
  if (el) el.style.animationPlayState = 'paused';
  document.getElementById('previewState').textContent = 'Paused';
}
function resetAnimation() {
  var el = document.getElementById('animTarget');
  if (el) {
    el.style.animation = 'none';
    el.offsetHeight; // trigger reflow
    el.style.animation = '';
    state.playing = true;
    applyAnimation();
  }
  document.getElementById('previewState').textContent = 'Playing';
}

// --- Copy / Download ---
function copyCSS() {
  var css = getRawCSS();
  navigator.clipboard.writeText(css).then(function() { showToast('CSS copied to clipboard'); });
}
function downloadCSS() {
  var css = getRawCSS();
  var blob = new Blob([css], {type:'text/css'});
  var a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = state.name + '.css';
  a.click();
  URL.revokeObjectURL(a.href);
  showToast('Downloaded ' + state.name + '.css');
}

// --- Cubic Bezier Editor ---
var bzCanvas, bzCtx, bzDragging = -1;
var BZ_PAD = 20;

function setupBezier() {
  bzCanvas = document.getElementById('bezierCanvas');
  bzCtx = bzCanvas.getContext('2d');

  var wrap = document.getElementById('bezierWrap');

  function resizeCanvas() {
    var rect = wrap.getBoundingClientRect();
    bzCanvas.width = rect.width * 2;
    bzCanvas.height = rect.height * 2;
    drawBezier();
  }

  new ResizeObserver(resizeCanvas).observe(wrap);
  setTimeout(resizeCanvas, 100);

  wrap.addEventListener('mousedown', bzMouseDown);
  wrap.addEventListener('mousemove', bzMouseMove);
  wrap.addEventListener('mouseup', bzMouseUp);
  wrap.addEventListener('mouseleave', bzMouseUp);
  wrap.addEventListener('touchstart', bzTouchDown, {passive:false});
  wrap.addEventListener('touchmove', bzTouchMove, {passive:false});
  wrap.addEventListener('touchend', bzMouseUp);

  document.querySelectorAll('.bezier-preset').forEach(function(btn) {
    btn.addEventListener('click', function() {
      var vals = btn.dataset.bz.split(',').map(Number);
      state.bezier = vals;
      drawBezier();
      updateBezierVal();
      updateProp();
    });
  });
}

function bzCoord(x, y) {
  var w = bzCanvas.width, h = bzCanvas.height;
  var pad = BZ_PAD * 2;
  return {
    px: pad + x * (w - 2*pad),
    py: h - pad - y * (h - 2*pad)
  };
}
function bzFromPixel(px, py) {
  var w = bzCanvas.width, h = bzCanvas.height;
  var pad = BZ_PAD * 2;
  return {
    x: (px - pad) / (w - 2*pad),
    y: (h - pad - py) / (h - 2*pad)
  };
}

function drawBezier() {
  if (!bzCtx) return;
  var w = bzCanvas.width, h = bzCanvas.height;
  var pad = BZ_PAD * 2;
  bzCtx.clearRect(0, 0, w, h);

  // Grid
  bzCtx.strokeStyle = 'rgba(0,212,255,0.08)';
  bzCtx.lineWidth = 1;
  for (var i = 0; i <= 4; i++) {
    var gx = pad + (i/4) * (w - 2*pad);
    var gy = h - pad - (i/4) * (h - 2*pad);
    bzCtx.beginPath(); bzCtx.moveTo(gx, pad); bzCtx.lineTo(gx, h-pad); bzCtx.stroke();
    bzCtx.beginPath(); bzCtx.moveTo(pad, gy); bzCtx.lineTo(w-pad, gy); bzCtx.stroke();
  }

  // Diagonal guide
  bzCtx.strokeStyle = 'rgba(255,255,255,0.05)';
  bzCtx.lineWidth = 2;
  bzCtx.beginPath();
  var s = bzCoord(0, 0), e = bzCoord(1, 1);
  bzCtx.moveTo(s.px, s.py); bzCtx.lineTo(e.px, e.py); bzCtx.stroke();

  // Control lines
  var p0 = bzCoord(0, 0);
  var p1 = bzCoord(state.bezier[0], state.bezier[1]);
  var p2 = bzCoord(state.bezier[2], state.bezier[3]);
  var p3 = bzCoord(1, 1);

  bzCtx.strokeStyle = 'rgba(0,212,255,0.4)';
  bzCtx.lineWidth = 2;
  bzCtx.setLineDash([6,4]);
  bzCtx.beginPath(); bzCtx.moveTo(p0.px, p0.py); bzCtx.lineTo(p1.px, p1.py); bzCtx.stroke();
  bzCtx.beginPath(); bzCtx.moveTo(p3.px, p3.py); bzCtx.lineTo(p2.px, p2.py); bzCtx.stroke();
  bzCtx.setLineDash([]);

  // Curve
  bzCtx.strokeStyle = '#00d4ff';
  bzCtx.lineWidth = 4;
  bzCtx.beginPath();
  bzCtx.moveTo(p0.px, p0.py);
  bzCtx.bezierCurveTo(p1.px, p1.py, p2.px, p2.py, p3.px, p3.py);
  bzCtx.stroke();

  // Control points
  [p1, p2].forEach(function(p, idx) {
    bzCtx.beginPath();
    bzCtx.arc(p.px, p.py, 12, 0, Math.PI*2);
    bzCtx.fillStyle = idx === 0 ? '#00d4ff' : '#a855f7';
    bzCtx.fill();
    bzCtx.strokeStyle = '#050508';
    bzCtx.lineWidth = 3;
    bzCtx.stroke();
  });

  // Endpoints
  [p0, p3].forEach(function(p) {
    bzCtx.beginPath();
    bzCtx.arc(p.px, p.py, 6, 0, Math.PI*2);
    bzCtx.fillStyle = '#fff';
    bzCtx.fill();
  });
}

function bzHitTest(px, py) {
  var p1 = bzCoord(state.bezier[0], state.bezier[1]);
  var p2 = bzCoord(state.bezier[2], state.bezier[3]);
  var scale = bzCanvas.width / bzCanvas.parentElement.getBoundingClientRect().width;
  px *= scale; py *= scale;
  if (Math.hypot(px - p1.px, py - p1.py) < 20) return 0;
  if (Math.hypot(px - p2.px, py - p2.py) < 20) return 1;
  return -1;
}

function bzMouseDown(e) {
  var rect = bzCanvas.parentElement.getBoundingClientRect();
  bzDragging = bzHitTest(e.clientX - rect.left, e.clientY - rect.top);
}
function bzMouseMove(e) {
  if (bzDragging < 0) return;
  var rect = bzCanvas.parentElement.getBoundingClientRect();
  var scale = bzCanvas.width / rect.width;
  var px = (e.clientX - rect.left) * scale;
  var py = (e.clientY - rect.top) * scale;
  var coord = bzFromPixel(px, py);
  coord.x = Math.max(-0.5, Math.min(1.5, coord.x));
  coord.y = Math.max(-0.5, Math.min(1.5, coord.y));
  state.bezier[bzDragging * 2] = Math.round(coord.x * 100) / 100;
  state.bezier[bzDragging * 2 + 1] = Math.round(coord.y * 100) / 100;
  drawBezier();
  updateBezierVal();
  updateProp();
}
function bzMouseUp() { bzDragging = -1; }

function bzTouchDown(e) {
  e.preventDefault();
  var t = e.touches[0];
  var rect = bzCanvas.parentElement.getBoundingClientRect();
  bzDragging = bzHitTest(t.clientX - rect.left, t.clientY - rect.top);
}
function bzTouchMove(e) {
  e.preventDefault();
  if (bzDragging < 0) return;
  var t = e.touches[0];
  var rect = bzCanvas.parentElement.getBoundingClientRect();
  var scale = bzCanvas.width / rect.width;
  var px = (t.clientX - rect.left) * scale;
  var py = (t.clientY - rect.top) * scale;
  var coord = bzFromPixel(px, py);
  coord.x = Math.max(-0.5, Math.min(1.5, coord.x));
  coord.y = Math.max(-0.5, Math.min(1.5, coord.y));
  state.bezier[bzDragging * 2] = Math.round(coord.x * 100) / 100;
  state.bezier[bzDragging * 2 + 1] = Math.round(coord.y * 100) / 100;
  drawBezier();
  updateBezierVal();
  updateProp();
}

function updateBezierVal() {
  document.getElementById('bezierVal').textContent =
    'cubic-bezier(' + state.bezier.map(function(v){return Math.round(v*100)/100;}).join(', ') + ')';
}

// --- Toast ---
function showToast(msg) {
  var t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(function() { t.classList.remove('show'); }, 2000);
}

// --- Fade In ---
var observer = new IntersectionObserver(function(entries) {
  entries.forEach(function(entry) {
    if (entry.isIntersecting) { entry.target.classList.add('visible'); observer.unobserve(entry.target); }
  });
}, { threshold: 0.1 });
document.querySelectorAll('.fade-in').forEach(function(el) { observer.observe(el); });

// --- Start ---
init();
</script>
<script src="/js/analytics-lite.js" defer></script>
<script src="/js/revenue.js" defer></script>
<script src="/js/lead-capture.js" defer></script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What is a CSS Animation Playground?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "A CSS Animation Playground is a visual tool that lets you build CSS keyframe animations interactively. You can choose presets, edit keyframes on a timeline, adjust timing functions with a cubic-bezier editor, and preview your animation in real time. The generated CSS code is ready to copy and paste into your project."
      }
    },
    {
      "@type": "Question",
      "name": "Is ANIMA's CSS Animation Playground free?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, it is completely free with no signup or download required. It runs 100% in your browser for maximum privacy and speed."
      }
    },
    {
      "@type": "Question",
      "name": "What animation presets are included?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "The playground includes 12 presets: Bounce, Fade In, Slide In, Spin, Pulse, Shake, Flip, Zoom In, Swing, Jello, Rubber Band, and Custom. Each preset can be further customized using the keyframe editor and transform controls."
      }
    },
    {
      "@type": "Question",
      "name": "Can I edit the cubic-bezier timing curve?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, the tool includes a visual cubic-bezier editor where you can drag control points to create custom easing curves. It also includes preset curves like ease, ease-in, ease-out, ease-in-out, back, and expo-out."
      }
    }
  ]
}
</script>
</body>
</html>