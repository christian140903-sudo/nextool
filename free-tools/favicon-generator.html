<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Free Favicon Generator — ICO, PNG, SVG from Text | NexTool</title>
<meta name="description" content="Free favicon generator from text, emoji or custom design. Create ICO, PNG and SVG favicons for your website in all sizes. No signup required.">
<meta name="keywords" content="favicon generator, favicon maker, ico generator, favicon creator, website icon generator">
<meta name="robots" content="index, follow">
<meta property="og:title" content="Free Favicon Generator — ICO, PNG, SVG | NexTool">
<meta property="og:description" content="Generate favicons from text, emoji, or custom design. Export as ICO, PNG, SVG. All sizes, 100% free.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://nextool.app/free-tools/favicon-generator.html">
<meta property="og:image" content="https://nextool.app/assets/og-default.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<link rel="canonical" href="https://nextool.app/free-tools/favicon-generator.html">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Free Favicon Generator — ICO, PNG, SVG | NexTool">
<meta name="twitter:description" content="Generate favicons from text, emoji, or custom design. Export ICO, PNG, SVG. Free online tool.">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"SoftwareApplication","name":"NexTool Favicon Generator","applicationCategory":"DesignApplication","operatingSystem":"Web","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"description":"Free favicon generator from text, emoji or custom design. Create ICO, PNG and SVG favicons for your website in all sizes."}
</script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#050508;--surface:#111118;--surface2:#1a1a24;--border:#2a2a3a;--text:#e4e4eb;--text2:#9494a8;--primary:#6366f1;--accent:#a855f7;--pink:#ec4899;--green:#22c55e;--red:#ef4444;--cyan:#22d3ee;--yellow:#eab308;--radius:12px;--glass:rgba(17,17,24,0.7)}
html{scroll-behavior:smooth}
body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);line-height:1.6;min-height:100vh;overflow-x:hidden}
/* NAV */
.nav{position:sticky;top:0;z-index:100;background:rgba(5,5,8,0.85);backdrop-filter:blur(20px);border-bottom:1px solid var(--border);padding:0 2rem;height:64px;display:flex;align-items:center;justify-content:space-between}
.nav-logo{font-size:1.4rem;font-weight:800;background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-decoration:none}
.nav-links{display:flex;align-items:center;gap:1.5rem}
.nav-links a{color:var(--text2);text-decoration:none;font-size:.875rem;font-weight:500;transition:color .2s}
.nav-links a:hover{color:var(--text)}
.nav-cta{background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff!important;padding:.5rem 1.2rem;border-radius:8px;font-weight:600;-webkit-text-fill-color:#fff!important}
.nav-cta:hover{opacity:.9}
.nav-toggle{display:none;background:none;border:none;color:var(--text);font-size:1.5rem;cursor:pointer}
/* HERO */
.hero{text-align:center;padding:3rem 1.5rem 2rem;max-width:700px;margin:0 auto}
.hero h1{font-size:2.2rem;font-weight:800;line-height:1.2;margin-bottom:.75rem}
.hero h1 span{background:linear-gradient(135deg,var(--primary),var(--accent),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hero p{color:var(--text2);font-size:1rem}
/* TOOL */
.tool-container{max-width:960px;margin:0 auto;padding:0 1.5rem 3rem}
/* TABS */
.mode-tabs{display:flex;gap:.5rem;margin-bottom:1.5rem}
.mode-tab{flex:1;padding:.7rem 1rem;background:var(--surface2);border:1px solid var(--border);color:var(--text2);border-radius:8px;font-size:.85rem;font-weight:600;cursor:pointer;transition:all .2s;text-align:center;font-family:inherit}
.mode-tab.active{background:linear-gradient(135deg,var(--primary),var(--accent));border-color:transparent;color:#fff}
.mode-tab:hover:not(.active){border-color:var(--primary);color:var(--text)}
/* PANELS */
.config-panel{display:none}
.config-panel.active{display:block}
.panel{background:var(--glass);backdrop-filter:blur(16px);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;display:flex;flex-direction:column}
.panel-header{padding:.6rem 1rem;border-bottom:1px solid var(--border);font-size:.8rem;font-weight:600;color:var(--text2);background:rgba(26,26,36,0.5)}
.panel-body{padding:1.25rem}
/* FORM */
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}
.form-field{display:flex;flex-direction:column;gap:.35rem}
.form-field label{font-size:.75rem;font-weight:600;color:var(--text2);text-transform:uppercase;letter-spacing:.04em}
.form-input,.form-select{padding:.55rem .8rem;background:var(--surface2);border:1px solid var(--border);border-radius:8px;color:var(--text);font-family:inherit;font-size:.9rem;outline:none;transition:border-color .2s;width:100%}
.form-input:focus,.form-select:focus{border-color:var(--primary)}
.form-select{cursor:pointer;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%239494a8' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right .6rem center;padding-right:1.8rem}
.color-row{display:flex;align-items:center;gap:.6rem}
.color-pick{width:40px;height:40px;border:2px solid var(--border);border-radius:8px;cursor:pointer;padding:0;background:none;overflow:hidden}
.color-pick::-webkit-color-swatch-wrapper{padding:0}
.color-pick::-webkit-color-swatch{border:none;border-radius:4px}
.color-hex{font-family:'Courier New',monospace;font-size:.8rem;color:var(--text2);background:var(--surface2);padding:.4rem .6rem;border-radius:6px;border:1px solid var(--border);width:85px;text-align:center;outline:none}
.color-hex:focus{border-color:var(--primary)}
/* SLIDER */
.slider-wrap{display:flex;align-items:center;gap:.75rem}
.slider{flex:1;-webkit-appearance:none;appearance:none;height:5px;background:var(--surface2);border-radius:3px;outline:none}
.slider::-webkit-slider-thumb{-webkit-appearance:none;width:16px;height:16px;border-radius:50%;background:var(--primary);cursor:pointer;border:2px solid var(--surface);box-shadow:0 0 6px rgba(99,102,241,.4)}
.slider-val{font-family:'Courier New',monospace;font-size:.8rem;color:var(--text2);min-width:32px;text-align:right}
/* LIVE PREVIEW */
.live-preview-wrap{margin-top:1.5rem}
.live-preview-row{display:flex;flex-wrap:wrap;gap:1rem;align-items:flex-end;justify-content:center;padding:1.5rem;background:var(--surface2);border-radius:var(--radius);border:1px solid var(--border)}
.preview-item{display:flex;flex-direction:column;align-items:center;gap:.4rem}
.preview-item canvas{border-radius:4px;border:1px solid var(--border);background:repeating-conic-gradient(var(--surface2) 0% 25%,var(--surface) 0% 50%) 50%/10px 10px;image-rendering:auto}
.preview-label{font-size:.7rem;color:var(--text2);font-weight:600}
/* ACTIONS */
.actions-bar{display:flex;flex-wrap:wrap;gap:.75rem;margin-top:1.5rem}
.action-btn{flex:1;min-width:140px;padding:.65rem 1rem;border-radius:8px;font-weight:600;font-size:.82rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;gap:.4rem;font-family:inherit}
.action-btn svg{width:16px;height:16px}
.btn-primary{background:linear-gradient(135deg,var(--primary),var(--accent));border:none;color:#fff}
.btn-primary:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(99,102,241,.3)}
.btn-secondary{background:transparent;border:1px solid var(--border);color:var(--text)}
.btn-secondary:hover{border-color:var(--primary);background:rgba(99,102,241,.08)}
/* HTML TAGS */
.tags-section{margin-top:1.5rem}
.tags-output{background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:1rem;font-family:'Courier New',monospace;font-size:.78rem;line-height:1.8;overflow-x:auto;white-space:pre-wrap;word-break:break-all;color:var(--text2)}
.tags-output .t-tag{color:var(--pink)}.tags-output .t-attr{color:var(--cyan)}.tags-output .t-val{color:var(--yellow)}.tags-output .t-cmt{color:#555;font-style:italic}
/* CTA */
.cta-section{text-align:center;padding:4rem 1.5rem;max-width:700px;margin:0 auto}
.cta-section h2{font-size:1.8rem;font-weight:800;margin-bottom:.75rem}
.cta-section h2 span{background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.cta-section p{color:var(--text2);margin-bottom:1.5rem}
.cta-link{display:inline-block;background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;padding:.75rem 2rem;border-radius:10px;font-weight:700;text-decoration:none;font-size:1rem;transition:transform .2s,box-shadow .2s}
.cta-link:hover{transform:translateY(-2px);box-shadow:0 8px 30px rgba(99,102,241,.3)}
/* FOOTER */
.footer{border-top:1px solid var(--border);padding:3rem 2rem 2rem;max-width:1200px;margin:0 auto}
.footer-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;margin-bottom:2rem}
.footer-col h4{font-size:.85rem;font-weight:700;margin-bottom:.75rem;color:var(--text)}
.footer-col a{display:block;color:var(--text2);text-decoration:none;font-size:.8rem;margin-bottom:.4rem;transition:color .2s}
.footer-col a:hover{color:var(--primary)}
.footer-bottom{text-align:center;color:var(--text2);font-size:.75rem;padding-top:1.5rem;border-top:1px solid var(--border)}
/* TOAST */
.toast{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%) translateY(80px);background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.6rem 1.2rem;border-radius:10px;font-size:.85rem;font-weight:500;z-index:200;transition:transform .3s;pointer-events:none}
.toast.show{transform:translateX(-50%) translateY(0)}
/* FADE */
.fade-in{opacity:0;transform:translateY(20px);transition:opacity .6s,transform .6s}
.fade-in.visible{opacity:1;transform:translateY(0)}
/* RESPONSIVE */
@media(max-width:768px){
  .nav-links{display:none;position:absolute;top:64px;left:0;right:0;background:var(--bg);border-bottom:1px solid var(--border);flex-direction:column;padding:1rem 2rem;gap:1rem}
  .nav-links.open{display:flex}
  .nav-toggle{display:block}
  .hero h1{font-size:1.6rem}
  .footer-grid{grid-template-columns:1fr}
  .form-row{grid-template-columns:1fr}
  .mode-tabs{flex-direction:column}
  .actions-bar{flex-direction:column}
  .action-btn{min-width:unset}
}
</style>
</head>
<body>

<nav class="nav">
  <a href="/" class="nav-logo">NexTool</a>
  <button class="nav-toggle" onclick="document.querySelector('.nav-links').classList.toggle('open')" aria-label="Menu">&#9776;</button>
  <div class="nav-links">
    <a href="/">Home</a>
    <a href="/free-tools/">Tools</a>
    <a href="/free-tools/">Free Tools</a>
    <a href="/blog/">Blog</a>
    <a href="/#contact" class="nav-cta">Get Pro — $29</a>
  </div>
</nav>

<section class="hero fade-in">
  <h1>Free <span>Favicon Generator</span></h1>
  <p>Create favicons from text, emoji, or custom design. Export as ICO, PNG, and SVG. Preview all sizes live. 100% client-side, no signup required.</p>
</section>

<div class="tool-container fade-in">

  <!-- Mode Tabs -->
  <div class="mode-tabs">
    <button class="mode-tab active" data-mode="text">Text / Letter</button>
    <button class="mode-tab" data-mode="emoji">Emoji</button>
  </div>

  <!-- Text Mode -->
  <div class="config-panel active" id="panelText">
    <div class="panel">
      <div class="panel-header">Design Settings</div>
      <div class="panel-body">
        <div class="form-row">
          <div class="form-field">
            <label>Text / Letter</label>
            <input type="text" class="form-input" id="txtLetter" value="N" maxlength="3" placeholder="A, AB, etc.">
          </div>
          <div class="form-field">
            <label>Font Family</label>
            <select class="form-select" id="txtFont">
              <option value="Inter">Inter (Sans)</option>
              <option value="Georgia">Georgia (Serif)</option>
              <option value="Courier New">Courier New (Mono)</option>
              <option value="Arial Black">Arial Black</option>
              <option value="Impact">Impact</option>
              <option value="Trebuchet MS">Trebuchet MS</option>
              <option value="Verdana">Verdana</option>
              <option value="Palatino Linotype">Palatino</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-field">
            <label>Text Color</label>
            <div class="color-row">
              <input type="color" class="color-pick" id="txtColor" value="#ffffff">
              <input type="text" class="color-hex" id="txtColorHex" value="#ffffff">
            </div>
          </div>
          <div class="form-field">
            <label>Background Color</label>
            <div class="color-row">
              <input type="color" class="color-pick" id="txtBg" value="#6366f1">
              <input type="text" class="color-hex" id="txtBgHex" value="#6366f1">
            </div>
          </div>
        </div>
        <div class="form-field" style="margin-bottom:1rem">
          <label>Border Radius: <span id="txtRadiusVal">20</span>%</label>
          <div class="slider-wrap">
            <input type="range" class="slider" id="txtRadius" min="0" max="50" value="20">
          </div>
        </div>
        <div class="form-field">
          <label>Font Size: <span id="txtFontSizeVal">65</span>%</label>
          <div class="slider-wrap">
            <input type="range" class="slider" id="txtFontSize" min="25" max="95" value="65">
          </div>
        </div>
        <div class="form-field" style="margin-top:1rem">
          <label>Font Weight</label>
          <select class="form-select" id="txtWeight">
            <option value="400">Regular (400)</option>
            <option value="500">Medium (500)</option>
            <option value="600">Semibold (600)</option>
            <option value="700" selected>Bold (700)</option>
            <option value="800">Extra Bold (800)</option>
            <option value="900">Black (900)</option>
          </select>
        </div>
      </div>
    </div>
  </div>

  <!-- Emoji Mode -->
  <div class="config-panel" id="panelEmoji">
    <div class="panel">
      <div class="panel-header">Emoji Settings</div>
      <div class="panel-body">
        <div class="form-row">
          <div class="form-field">
            <label>Emoji</label>
            <input type="text" class="form-input" id="emojiInput" value="&#x1F680;" maxlength="4" placeholder="Paste any emoji" style="font-size:1.5rem;text-align:center">
          </div>
          <div class="form-field">
            <label>Background</label>
            <div class="color-row">
              <input type="color" class="color-pick" id="emojiBg" value="#1a1a2e">
              <input type="text" class="color-hex" id="emojiBgHex" value="#1a1a2e">
            </div>
          </div>
        </div>
        <div class="form-field" style="margin-bottom:1rem">
          <label>Emoji Size: <span id="emojiSizeVal">70</span>%</label>
          <div class="slider-wrap">
            <input type="range" class="slider" id="emojiSize" min="30" max="95" value="70">
          </div>
        </div>
        <div class="form-field">
          <label>Border Radius: <span id="emojiRadiusVal">20</span>%</label>
          <div class="slider-wrap">
            <input type="range" class="slider" id="emojiRadius" min="0" max="50" value="20">
          </div>
        </div>
        <div class="form-field" style="margin-top:1rem">
          <label>Quick Emojis</label>
          <div style="display:flex;flex-wrap:wrap;gap:.4rem;margin-top:.25rem" id="quickEmojis"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Live Preview -->
  <div class="live-preview-wrap">
    <div class="panel">
      <div class="panel-header">Live Preview &mdash; All Sizes</div>
      <div class="live-preview-row" id="previewRow"></div>
    </div>
  </div>

  <!-- Actions -->
  <div class="actions-bar">
    <button class="action-btn btn-primary" id="btnDownloadZip" title="Download all sizes as ZIP">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
      Download ZIP
    </button>
    <button class="action-btn btn-secondary" id="btnDownloadIco" title="Download multi-size .ICO file">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="12" cy="12" r="3"/></svg>
      Download .ICO
    </button>
    <button class="action-btn btn-secondary" id="btnDownloadSvg" title="Download as SVG">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 2 7 12 12 22 7"/><polyline points="2 17 12 22 22 17"/><polyline points="2 12 12 17 22 12"/></svg>
      Download SVG
    </button>
    <button class="action-btn btn-secondary" id="btnCopyTags" title="Copy HTML link tags">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
      Copy HTML Tags
    </button>
  </div>

  <!-- HTML Tags Output -->
  <div class="tags-section">
    <div class="panel">
      <div class="panel-header">HTML Link Tags &mdash; Add to your &lt;head&gt;</div>
      <div class="tags-output" id="tagsOutput"></div>
    </div>
  </div>

</div>

<section class="cta-section fade-in">
  <h2>Need something <span>more powerful</span>?</h2>
  <p>Let us build it for you. Custom APIs, dashboards, automations &mdash; whatever you need.</p>
  <a href="/#contact" class="cta-link">Start a Project &rarr;</a>
</section>

<!-- Cross Promo -->
<section style="max-width:900px;margin:40px auto;padding:0 24px;">
<div style="background:linear-gradient(135deg,rgba(99,102,241,0.1),rgba(168,85,247,0.08));border:1px solid rgba(99,102,241,0.15);border-radius:20px;padding:32px 28px;text-align:center;">
<div style="font-size:13px;color:#818cf8;font-weight:600;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;">Founding Member</div>
<h3 style="font-size:22px;font-weight:800;color:#fff;margin:0 0 8px;">Get NexTool Pro</h3>
<p style="color:#94a3b8;font-size:14px;margin:0 auto 20px;max-width:500px;">No banners, clean output, enhanced features on all 215+ tools. One-time payment.</p>
<div style="display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap;">
<a href="/pro.html" style="display:inline-block;padding:12px 28px;background:linear-gradient(135deg,#6366f1,#a855f7,#ec4899);color:#fff;border-radius:10px;font-weight:700;font-size:15px;text-decoration:none;">$29 — Get Pro</a>
<a href="/free-tools/" style="color:#94a3b8;font-size:14px;text-decoration:none;">Browse 215+ Free Tools &rarr;</a>
</div>
</div>
</section>

<footer class="footer fade-in">
  <div class="footer-grid">
    <div class="footer-col">
      <h4>Products</h4>
      <a href="/free-tools/">215+ Free Tools</a>
      <a href="/pro.html">NexTool Pro</a>
      <a href="/workspace.html">Workspace</a>
    </div>
    <div class="footer-col">
      <h4>Explore</h4>
      <a href="/free-tools/">Free Tools</a><a href="/blog/">Blog</a><a href="/pro.html">FAQ</a><a href="/pro.html">Pro — $29</a>
    </div>
    <div class="footer-col">
      <h4>Ecosystem</h4>
      <a href="/">NexTool Home</a><a href="/#contact">Contact</a><a href="https://github.com/christian140903-sudo/nextool" target="_blank">GitHub</a>
    </div>
  </div>
  <div class="footer-bottom">&copy; 2026 NexTool. AI-powered tools for everyone.</div>
</footer>

<div class="toast" id="toast"></div>

<script>
(function(){
'use strict';

/* ===== CONSTANTS ===== */
var SIZES = [16, 32, 48, 64, 128, 256];
var currentMode = 'text';

/* ===== MODE SWITCHING ===== */
var modeTabs = document.querySelectorAll('.mode-tab');
modeTabs.forEach(function(tab){
  tab.addEventListener('click', function(){
    modeTabs.forEach(function(t){ t.classList.remove('active'); });
    tab.classList.add('active');
    currentMode = tab.dataset.mode;
    document.querySelectorAll('.config-panel').forEach(function(p){ p.classList.remove('active'); });
    document.getElementById('panel' + currentMode.charAt(0).toUpperCase() + currentMode.slice(1)).classList.add('active');
    renderAll();
  });
});

/* ===== COLOR SYNC ===== */
function syncColor(pickId, hexId){
  var pick = document.getElementById(pickId);
  var hex = document.getElementById(hexId);
  if(!pick||!hex) return;
  pick.addEventListener('input', function(){ hex.value = pick.value; renderAll(); });
  hex.addEventListener('input', function(){
    var v = hex.value.trim();
    if(!v.startsWith('#')) v = '#' + v;
    if(/^#[0-9A-Fa-f]{6}$/.test(v)){ pick.value = v; renderAll(); }
  });
  hex.addEventListener('change', function(){ renderAll(); });
}
syncColor('txtColor','txtColorHex');
syncColor('txtBg','txtBgHex');
syncColor('emojiBg','emojiBgHex');

/* ===== SLIDER SYNC ===== */
function syncSlider(sliderId, valId){
  var s = document.getElementById(sliderId);
  var v = document.getElementById(valId);
  if(!s||!v) return;
  s.addEventListener('input', function(){ v.textContent = s.value; renderAll(); });
}
syncSlider('txtRadius','txtRadiusVal');
syncSlider('txtFontSize','txtFontSizeVal');
syncSlider('emojiSize','emojiSizeVal');
syncSlider('emojiRadius','emojiRadiusVal');

/* ===== LIVE UPDATE LISTENERS ===== */
['txtLetter','txtFont','txtWeight'].forEach(function(id){
  var el = document.getElementById(id);
  if(el) el.addEventListener('input', renderAll);
  if(el) el.addEventListener('change', renderAll);
});
['emojiInput'].forEach(function(id){
  var el = document.getElementById(id);
  if(el) el.addEventListener('input', renderAll);
});

/* ===== QUICK EMOJIS ===== */
var quickEmojiList = ['\u{1F680}','\u{2B50}','\u{1F525}','\u{1F4A1}','\u{2764}\u{FE0F}','\u{1F308}','\u{26A1}','\u{1F389}','\u{1F3AF}','\u{1F4BB}','\u{1F3A8}','\u{2705}','\u{1F4E6}','\u{1F50D}','\u{1F3E0}','\u{2699}\u{FE0F}','\u{1F4DA}','\u{1F9E9}','\u{1F4AC}','\u{1F310}'];
var quickContainer = document.getElementById('quickEmojis');
quickEmojiList.forEach(function(e){
  var btn = document.createElement('button');
  btn.textContent = e;
  btn.style.cssText = 'background:var(--surface2);border:1px solid var(--border);border-radius:6px;padding:6px 10px;font-size:1.2rem;cursor:pointer;transition:all .15s;';
  btn.addEventListener('mouseenter', function(){ btn.style.borderColor = 'var(--primary)'; btn.style.transform = 'scale(1.15)'; });
  btn.addEventListener('mouseleave', function(){ btn.style.borderColor = 'var(--border)'; btn.style.transform = 'scale(1)'; });
  btn.addEventListener('click', function(){
    document.getElementById('emojiInput').value = e;
    renderAll();
  });
  quickContainer.appendChild(btn);
});

/* ===== ROUNDED RECT HELPER ===== */
function drawRoundedRect(ctx, x, y, w, h, r){
  if(r > w/2) r = w/2;
  if(r > h/2) r = h/2;
  ctx.beginPath();
  ctx.moveTo(x+r,y);
  ctx.lineTo(x+w-r,y);
  ctx.quadraticCurveTo(x+w,y,x+w,y+r);
  ctx.lineTo(x+w,y+h-r);
  ctx.quadraticCurveTo(x+w,y+h,x+w-r,y+h);
  ctx.lineTo(x+r,y+h);
  ctx.quadraticCurveTo(x,y+h,x,y+h-r);
  ctx.lineTo(x,y+r);
  ctx.quadraticCurveTo(x,y,x+r,y);
  ctx.closePath();
}

/* ===== RENDER A SINGLE CANVAS ===== */
function renderCanvas(canvas, size){
  canvas.width = size;
  canvas.height = size;
  var ctx = canvas.getContext('2d');
  ctx.clearRect(0,0,size,size);

  if(currentMode === 'text'){
    var bgColor = document.getElementById('txtBg').value;
    var textColor = document.getElementById('txtColor').value;
    var letter = document.getElementById('txtLetter').value || 'N';
    var font = document.getElementById('txtFont').value;
    var weight = document.getElementById('txtWeight').value;
    var radiusPct = parseInt(document.getElementById('txtRadius').value) / 100;
    var fontSizePct = parseInt(document.getElementById('txtFontSize').value) / 100;
    var radius = size * radiusPct;

    drawRoundedRect(ctx,0,0,size,size,radius);
    ctx.fillStyle = bgColor;
    ctx.fill();

    var fontSize = Math.round(size * fontSizePct);
    ctx.font = weight + ' ' + fontSize + 'px "' + font + '", system-ui, sans-serif';
    ctx.fillStyle = textColor;
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText(letter, size/2, size/2 + size * 0.03);

  } else if(currentMode === 'emoji'){
    var bgColor2 = document.getElementById('emojiBg').value;
    var emoji = document.getElementById('emojiInput').value || '\u{1F680}';
    var emojiSizePct = parseInt(document.getElementById('emojiSize').value) / 100;
    var radiusPct2 = parseInt(document.getElementById('emojiRadius').value) / 100;
    var radius2 = size * radiusPct2;

    drawRoundedRect(ctx,0,0,size,size,radius2);
    ctx.fillStyle = bgColor2;
    ctx.fill();

    var emojiPx = Math.round(size * emojiSizePct);
    ctx.font = emojiPx + 'px "Apple Color Emoji","Segoe UI Emoji","Noto Color Emoji",sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText(emoji, size/2, size/2 + size * 0.04);
  }
}

/* ===== RENDER ALL PREVIEWS ===== */
function renderAll(){
  var row = document.getElementById('previewRow');
  // On first call, build the preview items
  if(!row.children.length){
    SIZES.forEach(function(size){
      var item = document.createElement('div');
      item.className = 'preview-item';
      var c = document.createElement('canvas');
      var displaySize = Math.min(size, 96);
      c.style.width = displaySize + 'px';
      c.style.height = displaySize + 'px';
      c.setAttribute('data-size', size);
      var lbl = document.createElement('span');
      lbl.className = 'preview-label';
      lbl.textContent = size + 'x' + size;
      item.appendChild(c);
      item.appendChild(lbl);
      row.appendChild(item);
    });
  }
  // Render each
  var canvases = row.querySelectorAll('canvas');
  canvases.forEach(function(c){
    var size = parseInt(c.getAttribute('data-size'));
    renderCanvas(c, size);
  });
  // Update HTML tags
  renderTags();
}

/* ===== GENERATE HTML TAGS ===== */
function renderTags(){
  var out = document.getElementById('tagsOutput');
  var lines = [
    '<span class="t-cmt">&lt;!-- Favicon - Generated by NexTool --&gt;</span>',
    '<span class="t-tag">&lt;link</span> <span class="t-attr">rel=</span><span class="t-val">"icon"</span> <span class="t-attr">type=</span><span class="t-val">"image/png"</span> <span class="t-attr">sizes=</span><span class="t-val">"16x16"</span> <span class="t-attr">href=</span><span class="t-val">"/favicon-16x16.png"</span><span class="t-tag">&gt;</span>',
    '<span class="t-tag">&lt;link</span> <span class="t-attr">rel=</span><span class="t-val">"icon"</span> <span class="t-attr">type=</span><span class="t-val">"image/png"</span> <span class="t-attr">sizes=</span><span class="t-val">"32x32"</span> <span class="t-attr">href=</span><span class="t-val">"/favicon-32x32.png"</span><span class="t-tag">&gt;</span>',
    '<span class="t-tag">&lt;link</span> <span class="t-attr">rel=</span><span class="t-val">"icon"</span> <span class="t-attr">type=</span><span class="t-val">"image/png"</span> <span class="t-attr">sizes=</span><span class="t-val">"48x48"</span> <span class="t-attr">href=</span><span class="t-val">"/favicon-48x48.png"</span><span class="t-tag">&gt;</span>',
    '<span class="t-tag">&lt;link</span> <span class="t-attr">rel=</span><span class="t-val">"icon"</span> <span class="t-attr">type=</span><span class="t-val">"image/png"</span> <span class="t-attr">sizes=</span><span class="t-val">"64x64"</span> <span class="t-attr">href=</span><span class="t-val">"/favicon-64x64.png"</span><span class="t-tag">&gt;</span>',
    '<span class="t-tag">&lt;link</span> <span class="t-attr">rel=</span><span class="t-val">"icon"</span> <span class="t-attr">type=</span><span class="t-val">"image/png"</span> <span class="t-attr">sizes=</span><span class="t-val">"128x128"</span> <span class="t-attr">href=</span><span class="t-val">"/favicon-128x128.png"</span><span class="t-tag">&gt;</span>',
    '<span class="t-tag">&lt;link</span> <span class="t-attr">rel=</span><span class="t-val">"icon"</span> <span class="t-attr">type=</span><span class="t-val">"image/png"</span> <span class="t-attr">sizes=</span><span class="t-val">"256x256"</span> <span class="t-attr">href=</span><span class="t-val">"/favicon-256x256.png"</span><span class="t-tag">&gt;</span>',
    '<span class="t-tag">&lt;link</span> <span class="t-attr">rel=</span><span class="t-val">"apple-touch-icon"</span> <span class="t-attr">sizes=</span><span class="t-val">"256x256"</span> <span class="t-attr">href=</span><span class="t-val">"/apple-touch-icon.png"</span><span class="t-tag">&gt;</span>'
  ];
  out.innerHTML = lines.join('\n');
}

function getPlainTags(){
  return [
    '<!-- Favicon - Generated by NexTool -->',
    '<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">',
    '<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">',
    '<link rel="icon" type="image/png" sizes="48x48" href="/favicon-48x48.png">',
    '<link rel="icon" type="image/png" sizes="64x64" href="/favicon-64x64.png">',
    '<link rel="icon" type="image/png" sizes="128x128" href="/favicon-128x128.png">',
    '<link rel="icon" type="image/png" sizes="256x256" href="/favicon-256x256.png">',
    '<link rel="apple-touch-icon" sizes="256x256" href="/apple-touch-icon.png">'
  ].join('\n');
}

/* ===== COPY HTML TAGS ===== */
document.getElementById('btnCopyTags').addEventListener('click', function(){
  var text = getPlainTags();
  if(navigator.clipboard && navigator.clipboard.writeText){
    navigator.clipboard.writeText(text).then(function(){ showToast('HTML tags copied!'); }).catch(function(){
      fallbackCopy(text);
    });
  } else {
    fallbackCopy(text);
  }
});
function fallbackCopy(text){
  var ta = document.createElement('textarea');
  ta.value = text;
  ta.style.cssText = 'position:fixed;left:-9999px';
  document.body.appendChild(ta);
  ta.select();
  try{ document.execCommand('copy'); showToast('HTML tags copied!'); }
  catch(e){ showToast('Copy failed'); }
  document.body.removeChild(ta);
}

/* ===== GENERATE FRESH FULL-RES CANVASES ===== */
function generateFullRes(){
  var canvases = [];
  SIZES.forEach(function(size){
    var c = document.createElement('canvas');
    renderCanvas(c, size);
    canvases.push({ size: size, canvas: c });
  });
  return canvases;
}

/* ===== ICO FILE GENERATION ===== */
// ICO format: ICONDIR header + ICONDIRENTRY per image + raw BMP/PNG data
function createIco(canvases){
  // We use PNG-encoded images inside the ICO (modern ICO format)
  // First convert each canvas to PNG ArrayBuffer
  var pngPromises = canvases.map(function(item){
    return new Promise(function(resolve){
      item.canvas.toBlob(function(blob){
        var reader = new FileReader();
        reader.onload = function(){
          resolve({ size: item.size, data: new Uint8Array(reader.result) });
        };
        reader.readAsArrayBuffer(blob);
      }, 'image/png');
    });
  });

  return Promise.all(pngPromises).then(function(pngs){
    // ICO header: 6 bytes
    // Each entry: 16 bytes
    var headerSize = 6 + pngs.length * 16;
    var totalDataSize = 0;
    pngs.forEach(function(p){ totalDataSize += p.data.length; });
    var buffer = new ArrayBuffer(headerSize + totalDataSize);
    var view = new DataView(buffer);

    // ICONDIR
    view.setUint16(0, 0, true);       // reserved
    view.setUint16(2, 1, true);       // type: 1 = ICO
    view.setUint16(4, pngs.length, true); // count

    var dataOffset = headerSize;
    pngs.forEach(function(p, i){
      var entryOffset = 6 + i * 16;
      var w = p.size >= 256 ? 0 : p.size;
      var h = p.size >= 256 ? 0 : p.size;
      view.setUint8(entryOffset, w);       // width
      view.setUint8(entryOffset+1, h);     // height
      view.setUint8(entryOffset+2, 0);     // color palette
      view.setUint8(entryOffset+3, 0);     // reserved
      view.setUint16(entryOffset+4, 1, true);  // color planes
      view.setUint16(entryOffset+6, 32, true); // bits per pixel
      view.setUint32(entryOffset+8, p.data.length, true); // data size
      view.setUint32(entryOffset+12, dataOffset, true);    // data offset

      var arr = new Uint8Array(buffer);
      arr.set(p.data, dataOffset);
      dataOffset += p.data.length;
    });

    return new Blob([buffer], { type: 'image/x-icon' });
  });
}

/* ===== SVG GENERATION ===== */
function generateSvg(){
  var size = 256;
  if(currentMode === 'text'){
    var bgColor = document.getElementById('txtBg').value;
    var textColor = document.getElementById('txtColor').value;
    var letter = escHtml(document.getElementById('txtLetter').value || 'N');
    var font = document.getElementById('txtFont').value;
    var weight = document.getElementById('txtWeight').value;
    var radiusPct = parseInt(document.getElementById('txtRadius').value);
    var fontSizePct = parseInt(document.getElementById('txtFontSize').value);
    var radius = Math.round(size * radiusPct / 100);
    var fontSize = Math.round(size * fontSizePct / 100);

    return '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '+size+' '+size+'" width="'+size+'" height="'+size+'">\n'
      + '  <rect width="'+size+'" height="'+size+'" rx="'+radius+'" ry="'+radius+'" fill="'+bgColor+'"/>\n'
      + '  <text x="50%" y="53%" dominant-baseline="middle" text-anchor="middle" '
      + 'font-family="\''+font+'\', system-ui, sans-serif" font-weight="'+weight+'" '
      + 'font-size="'+fontSize+'" fill="'+textColor+'">'+letter+'</text>\n'
      + '</svg>';

  } else if(currentMode === 'emoji'){
    var bgColor2 = document.getElementById('emojiBg').value;
    var emoji = document.getElementById('emojiInput').value || '\u{1F680}';
    var emojiSizePct2 = parseInt(document.getElementById('emojiSize').value);
    var radiusPct2 = parseInt(document.getElementById('emojiRadius').value);
    var radius2 = Math.round(size * radiusPct2 / 100);
    var emojiPx = Math.round(size * emojiSizePct2 / 100);

    return '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '+size+' '+size+'" width="'+size+'" height="'+size+'">\n'
      + '  <rect width="'+size+'" height="'+size+'" rx="'+radius2+'" ry="'+radius2+'" fill="'+bgColor2+'"/>\n'
      + '  <text x="50%" y="54%" dominant-baseline="middle" text-anchor="middle" '
      + 'font-size="'+emojiPx+'">'+emoji+'</text>\n'
      + '</svg>';
  }
  return '';
}

function escHtml(s){ return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;'); }

/* ===== DOWNLOAD SVG ===== */
document.getElementById('btnDownloadSvg').addEventListener('click', function(){
  var svg = generateSvg();
  if(!svg){ showToast('Nothing to export'); return; }
  var blob = new Blob([svg], { type: 'image/svg+xml' });
  downloadBlob(blob, 'favicon.svg');
  showToast('SVG downloaded!');
});

/* ===== DOWNLOAD ICO ===== */
document.getElementById('btnDownloadIco').addEventListener('click', function(){
  var full = generateFullRes();
  // For ICO, use only sizes <= 256
  var icoCanvases = full.filter(function(f){ return f.size <= 256; });
  createIco(icoCanvases).then(function(blob){
    downloadBlob(blob, 'favicon.ico');
    showToast('ICO downloaded!');
  });
});

/* ===== DOWNLOAD ZIP (using JSZip from CDN) ===== */
var jsZipLoaded = false;
var jsZipPromise = null;

function ensureJSZip(){
  if(jsZipLoaded) return Promise.resolve();
  if(jsZipPromise) return jsZipPromise;
  jsZipPromise = new Promise(function(resolve, reject){
    var script = document.createElement('script');
    script.src = 'https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js';
    script.onload = function(){ jsZipLoaded = true; resolve(); };
    script.onerror = function(){ reject(new Error('Failed to load JSZip')); };
    document.head.appendChild(script);
  });
  return jsZipPromise;
}

document.getElementById('btnDownloadZip').addEventListener('click', function(){
  showToast('Preparing ZIP...');
  ensureJSZip().then(function(){
    var zip = new JSZip();
    var full = generateFullRes();
    var names = {};
    SIZES.forEach(function(s){ names[s] = 'favicon-'+s+'x'+s+'.png'; });

    var promises = full.map(function(item){
      return new Promise(function(resolve){
        item.canvas.toBlob(function(blob){
          zip.file(names[item.size], blob);
          resolve();
        }, 'image/png');
      });
    });

    // Also add SVG
    var svg = generateSvg();
    if(svg) zip.file('favicon.svg', svg);

    // Also add ICO
    var icoCanvases = full.filter(function(f){ return f.size <= 256; });

    return Promise.all(promises).then(function(){
      return createIco(icoCanvases);
    }).then(function(icoBlob){
      zip.file('favicon.ico', icoBlob);
      return zip.generateAsync({ type: 'blob' });
    }).then(function(content){
      downloadBlob(content, 'favicons.zip');
      showToast('ZIP downloaded with ' + (full.length + 2) + ' files!');
    });
  }).catch(function(err){
    showToast('Error: ' + err.message);
  });
});

/* ===== DOWNLOAD HELPER ===== */
function downloadBlob(blob, filename){
  var a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = filename;
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  setTimeout(function(){ URL.revokeObjectURL(a.href); }, 1000);
}

/* ===== TOAST ===== */
function showToast(msg){
  var t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  clearTimeout(showToast._timer);
  showToast._timer = setTimeout(function(){ t.classList.remove('show'); }, 2500);
}

/* ===== FADE IN ===== */
var observer = new IntersectionObserver(function(entries){
  entries.forEach(function(entry){
    if(entry.isIntersecting){ entry.target.classList.add('visible'); observer.unobserve(entry.target); }
  });
}, { threshold: 0.1 });
document.querySelectorAll('.fade-in').forEach(function(el){ observer.observe(el); });

/* ===== INITIAL RENDER ===== */
renderAll();

})();
</script>
<script src="/js/analytics-lite.js" defer></script>
<script src="/js/revenue.js" defer></script>
<script src="/js/lead-capture.js" defer></script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What is a favicon?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "A favicon is a small icon displayed in browser tabs, bookmarks, and history. It helps users identify your website visually. Standard sizes include 16x16, 32x32, and 48x48 pixels, but modern browsers also use larger sizes like 128x128 and 256x256."
      }
    },
    {
      "@type": "Question",
      "name": "What favicon sizes do I need?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "For full browser compatibility, you need 16x16 (tab icon), 32x32 (taskbar), 48x48 (Windows site icon), 64x64 (high-DPI tabs), 128x128 (Chrome Web Store), and 256x256 (large previews). This tool generates all sizes at once."
      }
    },
    {
      "@type": "Question",
      "name": "What is the difference between ICO, PNG, and SVG favicons?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "ICO files can contain multiple sizes in one file and have the widest browser support. PNG favicons are individual size files supported by all modern browsers. SVG favicons are vector-based, scale perfectly to any size, and are supported by most modern browsers."
      }
    },
    {
      "@type": "Question",
      "name": "Is this favicon generator free?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, this favicon generator is completely free. It runs entirely in your browser with no server uploads, no signup required, and no limits on usage. Your designs stay private on your device."
      }
    }
  ]
}
</script>
</body>
</html>