<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Date Calculator â€” Free Online Tool | NexTool</title>
    <meta name="description" content="Free online date calculator. Find the difference between dates, add or subtract time, countdown timers, business days, and age calculator. No signup required.">
    <meta property="og:title" content="Date Calculator â€” Free Online Tool | NexTool">
    <meta property="og:description" content="Calculate date differences, add/subtract time, business days, age calculator and countdown timers â€” all free.">
    <meta property="og:url" content="https://nextool.app/free-tools/date-calculator.html">
    <meta property="og:image" content="https://nextool.app/assets/og-default.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Date Calculator â€” Free Online Tool | NexTool">
    <meta name="twitter:description" content="Calculate date differences, add/subtract time, business days, age calculator and countdown timers â€” all free.">
    <link rel="canonical" href="https://nextool.app/free-tools/date-calculator">
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "Date Calculator",
        "description": "Free online date calculator with multiple modes including date difference, add/subtract time, countdown, day of week, and age calculator.",
        "url": "https://nextool.app/free-tools/date-calculator.html",
        "applicationCategory": "UtilityApplication",
        "operatingSystem": "Web",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        }
    }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

        :root {
            --bg: #050508;
            --surface: #111118;
            --surface2: #1a1a24;
            --surface3: #222233;
            --primary: #6366f1;
            --accent: #a855f7;
            --pink: #ec4899;
            --text: #e2e8f0;
            --text-dim: #94a3b8;
            --gradient: linear-gradient(135deg, #6366f1, #a855f7, #ec4899);
            --radius: 12px;
            --radius-lg: 20px;
            --font: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            --mono: 'JetBrains Mono', 'Fira Code', monospace;
            --green: #22c55e;
        }

        body { font-family: var(--font); background: var(--bg); color: var(--text); min-height: 100vh; line-height: 1.6; -webkit-font-smoothing: antialiased; }

        nav {
            position: fixed; top: 0; left: 0; right: 0; z-index: 100;
            background: rgba(5, 5, 8, 0.85); backdrop-filter: blur(16px);
            border-bottom: 1px solid rgba(99, 102, 241, 0.15);
            padding: 0 24px; height: 56px;
            display: flex; align-items: center; justify-content: space-between;
        }
        .nav-logo { width: 36px; height: 36px; background: var(--gradient); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 14px; color: #fff; text-decoration: none; }
        .nav-links { display: flex; gap: 24px; }
        .nav-links a { color: var(--text-dim); text-decoration: none; font-size: 0.9rem; font-weight: 500; transition: color 0.2s; }
        .nav-links a:hover { color: var(--text); }

        main { max-width: 840px; margin: 0 auto; padding: 88px 20px 40px; }

        h1 { font-size: 2.2rem; font-weight: 800; margin-bottom: 10px; background: var(--gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; letter-spacing: -0.5px; }
        .subtitle { color: var(--text-dim); margin-bottom: 36px; font-size: 1.05rem; }

        .tabs { display: flex; gap: 4px; background: var(--surface); padding: 5px; border-radius: var(--radius); margin-bottom: 28px; flex-wrap: wrap; border: 1px solid rgba(99,102,241,.08); }
        .tab { flex: 1; padding: 11px 8px; border: none; background: transparent; color: var(--text-dim); font-family: var(--font); font-size: 0.82rem; font-weight: 600; cursor: pointer; border-radius: 8px; transition: all 0.25s; min-width: 100px; text-align: center; }
        .tab.active { background: var(--primary); color: #fff; box-shadow: 0 2px 12px rgba(99,102,241,.3); }
        .tab:hover:not(.active) { color: var(--text); background: var(--surface2); }

        .card { background: var(--surface); border-radius: var(--radius); padding: 28px; margin-bottom: 20px; border: 1px solid rgba(99,102,241,.1); }
        .card:hover { border-color: rgba(99,102,241,.2); }

        label { display: block; font-size: 0.85rem; color: var(--text-dim); margin-bottom: 6px; font-weight: 500; }

        input[type="date"], input[type="number"], input[type="text"], select {
            width: 100%; padding: 13px 16px; background: var(--surface2);
            border: 1px solid rgba(99,102,241,.2); border-radius: 8px;
            color: var(--text); font-family: var(--mono); font-size: 0.95rem;
            outline: none; transition: all 0.25s; color-scheme: dark;
        }
        input:focus, select:focus { border-color: var(--primary); box-shadow: 0 0 0 3px rgba(99,102,241,.12); }

        .row { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px; }
        .row3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; margin-bottom: 16px; }

        .result-box { background: linear-gradient(135deg, rgba(99,102,241,.08), rgba(168,85,247,.08)); border: 1px solid rgba(99,102,241,.2); border-radius: var(--radius); padding: 28px; margin-top: 24px; }
        .result-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(130px, 1fr)); gap: 16px; text-align: center; }
        .result-item .num { font-size: 2.2rem; font-weight: 700; font-family: var(--mono); background: var(--gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; line-height: 1.2; }
        .result-item .lbl { font-size: 0.8rem; color: var(--text-dim); margin-top: 4px; font-weight: 500; }
        .result-text { text-align: center; font-size: 0.95rem; margin-top: 18px; color: var(--text-dim); line-height: 1.6; }

        .check-row { display: flex; align-items: center; gap: 10px; margin-top: 14px; }
        .check-row input[type="checkbox"] { width: 18px; height: 18px; accent-color: var(--primary); cursor: pointer; }
        .check-row label { margin: 0; cursor: pointer; }

        .countdown-display { text-align: center; padding: 24px; }
        .countdown-display .big { font-size: 3.2rem; font-weight: 800; font-family: var(--mono); background: var(--gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; line-height: 1.2; }

        .day-info { text-align: center; padding: 20px; }
        .day-info .day-name { font-size: 2.8rem; font-weight: 800; background: var(--gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; line-height: 1.2; }

        .add-sub-toggle { display: flex; gap: 6px; margin-bottom: 18px; }
        .add-sub-toggle button { flex: 1; padding: 10px; border: 1px solid rgba(99,102,241,.15); background: var(--surface2); color: var(--text-dim); cursor: pointer; border-radius: 8px; font-family: var(--font); font-weight: 600; font-size: 0.88rem; transition: all 0.25s; }
        .add-sub-toggle button.active { background: var(--primary); border-color: var(--primary); color: #fff; }

        .panel { display: none; }
        .panel.active { display: block; }

        .tz-info { margin-top: 16px; padding: 14px 18px; background: var(--surface2); border-radius: 8px; font-size: 0.82rem; color: var(--text-dim); display: flex; align-items: center; gap: 8px; }
        .tz-info .tz-badge { padding: 3px 10px; background: rgba(99,102,241,.15); color: var(--primary); border-radius: 20px; font-family: var(--mono); font-size: 0.78rem; font-weight: 600; }

        .detail-row { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid rgba(99,102,241,.06); font-size: 0.88rem; }
        .detail-row:last-child { border-bottom: none; }
        .detail-row .dt-label { color: var(--text-dim); }
        .detail-row .dt-value { font-family: var(--mono); font-weight: 600; }

        .info-section { margin-top: 36px; }
        .info-section h2 { font-size: 1.3rem; font-weight: 700; margin-bottom: 16px; }
        .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
        .info-card { background: var(--surface); border-radius: var(--radius); padding: 20px; border: 1px solid rgba(99,102,241,.08); }
        .info-card h4 { font-size: 0.9rem; font-weight: 600; color: var(--accent); margin-bottom: 8px; }
        .info-card p { font-size: 0.84rem; color: var(--text-dim); }

        footer { max-width: 840px; margin: 60px auto 0; padding: 24px 20px 48px; border-top: 1px solid rgba(99,102,241,.1); text-align: center; color: var(--text-dim); font-size: 0.82rem; }
        footer a { color: var(--text-dim); text-decoration: none; margin: 0 14px; transition: color 0.2s; }
        footer a:hover { color: var(--text); }

        @media (max-width: 600px) {
            h1 { font-size: 1.7rem; }
            .tabs { flex-direction: column; }
            .tab { min-width: auto; }
            .row { grid-template-columns: 1fr; }
            .row3 { grid-template-columns: 1fr; }
            .result-item .num { font-size: 1.6rem; }
            .countdown-display .big { font-size: 2rem; }
            .info-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

<nav>
    <a href="/" class="nav-logo">NT</a>
    <div class="nav-links"><a href="/">Home</a><a href="/free-tools/">Free Tools</a></div>
</nav>

<main>
    <h1>Date Calculator</h1>
    <p class="subtitle">Calculate date differences, add or subtract time, countdown to events, find the day of the week, and calculate ages.</p>

    <div class="tabs">
        <button class="tab active" onclick="switchTab(0)">Date Difference</button>
        <button class="tab" onclick="switchTab(1)">Add / Subtract</button>
        <button class="tab" onclick="switchTab(2)">Countdown</button>
        <button class="tab" onclick="switchTab(3)">Day of Week</button>
        <button class="tab" onclick="switchTab(4)">Age Calculator</button>
    </div>

    <!-- Mode 0: Date Difference -->
    <div class="panel active" id="panel-0">
        <div class="card">
            <div class="row">
                <div><label for="d0-start">Start Date</label><input type="date" id="d0-start" onchange="calcDiff()"></div>
                <div><label for="d0-end">End Date</label><input type="date" id="d0-end" onchange="calcDiff()"></div>
            </div>
            <div class="check-row">
                <input type="checkbox" id="d0-biz" onchange="calcDiff()">
                <label for="d0-biz">Exclude weekends (business days only)</label>
            </div>
            <div class="result-box" id="r0" style="display:none">
                <div class="result-grid" id="r0-grid"></div>
                <div style="margin-top:20px;padding:0 8px" id="r0-details"></div>
                <div class="result-text" id="r0-text"></div>
            </div>
        </div>
    </div>

    <!-- Mode 1: Add/Subtract -->
    <div class="panel" id="panel-1">
        <div class="card">
            <div style="margin-bottom:16px">
                <label for="d1-start">Start Date</label>
                <input type="date" id="d1-start" onchange="calcAdd()">
            </div>
            <div class="add-sub-toggle">
                <button class="active" id="d1-add" onclick="setAddSub(true)">Add Time (+)</button>
                <button id="d1-sub" onclick="setAddSub(false)">Subtract Time (&minus;)</button>
            </div>
            <div class="row3">
                <div><label for="d1-y">Years</label><input type="number" id="d1-y" value="0" min="0" onchange="calcAdd()" oninput="calcAdd()"></div>
                <div><label for="d1-m">Months</label><input type="number" id="d1-m" value="0" min="0" onchange="calcAdd()" oninput="calcAdd()"></div>
                <div><label for="d1-d">Days</label><input type="number" id="d1-d" value="0" min="0" onchange="calcAdd()" oninput="calcAdd()"></div>
            </div>
            <div class="row3">
                <div><label for="d1-w">Weeks</label><input type="number" id="d1-w" value="0" min="0" onchange="calcAdd()" oninput="calcAdd()"></div>
                <div><label for="d1-h">Hours</label><input type="number" id="d1-h" value="0" min="0" onchange="calcAdd()" oninput="calcAdd()"></div>
                <div></div>
            </div>
            <div class="result-box" id="r1" style="display:none">
                <div class="result-grid">
                    <div class="result-item"><div class="num" id="r1-date"></div><div class="lbl" id="r1-day"></div></div>
                </div>
                <div style="margin-top:16px;padding:0 8px" id="r1-details"></div>
            </div>
        </div>
    </div>

    <!-- Mode 2: Countdown -->
    <div class="panel" id="panel-2">
        <div class="card">
            <div class="row">
                <div><label for="d2-target">Target Date</label><input type="date" id="d2-target" onchange="calcCountdown()"></div>
                <div><label for="d2-name">Event Name (optional)</label><input type="text" id="d2-name" placeholder="My Event" onchange="calcCountdown()"></div>
            </div>
            <div class="result-box" id="r2" style="display:none">
                <div class="countdown-display">
                    <div id="r2-label" style="color:var(--text-dim);margin-bottom:10px;font-size:0.92rem;font-weight:500"></div>
                    <div class="big" id="r2-big"></div>
                    <div class="result-grid" id="r2-grid" style="margin-top:24px"></div>
                    <div class="result-text" id="r2-extra" style="margin-top:12px"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mode 3: Day of Week -->
    <div class="panel" id="panel-3">
        <div class="card">
            <div style="margin-bottom:16px">
                <label for="d3-date">Enter a Date</label>
                <input type="date" id="d3-date" onchange="calcDay()">
            </div>
            <div class="result-box" id="r3" style="display:none">
                <div class="day-info">
                    <div class="day-name" id="r3-day"></div>
                    <div class="result-text" id="r3-info"></div>
                    <div style="margin-top:16px;padding:0 8px" id="r3-details"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mode 4: Age Calculator -->
    <div class="panel" id="panel-4">
        <div class="card">
            <div style="margin-bottom:16px">
                <label for="d4-dob">Date of Birth</label>
                <input type="date" id="d4-dob" onchange="calcAge()">
            </div>
            <div class="result-box" id="r4" style="display:none">
                <div class="result-grid" id="r4-grid"></div>
                <div style="margin-top:20px;padding:0 8px" id="r4-details"></div>
                <div class="result-text" id="r4-text"></div>
            </div>
        </div>
    </div>

    <!-- Timezone Info -->
    <div class="tz-info">
        <span>Your timezone:</span>
        <span class="tz-badge" id="tz-badge"></span>
        <span id="tz-offset"></span>
    </div>

    <!-- Info Section -->
    <div class="info-section">
        <h2>About Date Calculations</h2>
        <div class="info-grid">
            <div class="info-card">
                <h4>Business Days</h4>
                <p>Business days exclude Saturdays and Sundays. Enable the checkbox to get working day counts between dates.</p>
            </div>
            <div class="info-card">
                <h4>Leap Years</h4>
                <p>Years divisible by 4 are leap years, except centuries not divisible by 400. February has 29 days in leap years.</p>
            </div>
            <div class="info-card">
                <h4>ISO Week Numbers</h4>
                <p>Week numbering follows ISO 8601. Week 1 contains the first Thursday of the year. Weeks start on Monday.</p>
            </div>
            <div class="info-card">
                <h4>Age Calculation</h4>
                <p>Age is calculated from the date of birth to today. The next birthday countdown shows how many days until your next celebration.</p>
            </div>
        </div>
    </div>

    <!-- Cross-promo -->
    <div style="margin-top:48px;padding:32px;background:var(--surface);border-radius:var(--radius-lg);text-align:center;">
        <p style="font-size:1.1rem;margin-bottom:12px;">ðŸš€ Explore <strong>125+ Free Developer Tools</strong></p>
        <p style="color:var(--text-dim);margin-bottom:20px;">From CSS generators to JSON formatters â€” all free, no signup required.</p>
        <a href="/free-tools/" style="display:inline-block;padding:12px 28px;background:var(--gradient);color:#fff;border-radius:20px;font-weight:600;text-decoration:none;">Browse All Tools &rarr;</a>
    </div>
</main>

<footer>
    <a href="/">NexTool Home</a>
    <a href="/free-tools/">Free Tools Hub</a>
    <a href="/privacy">Privacy Policy</a>
    <p style="margin-top:14px">&copy; 2026 NexTool. All rights reserved.</p>
</footer>

<script>
    let addMode = true, countdownInterval = null;
    const dayNames = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];
    const monthNames = ['January','February','March','April','May','June','July','August','September','October','November','December'];

    // Set timezone info
    const tz = Intl.DateTimeFormat().resolvedOptions().timeZone;
    const offset = new Date().getTimezoneOffset();
    const offsetH = Math.abs(Math.floor(offset / 60));
    const offsetM = Math.abs(offset % 60);
    const offsetStr = (offset <= 0 ? '+' : '-') + String(offsetH).padStart(2,'0') + ':' + String(offsetM).padStart(2,'0');
    document.getElementById('tz-badge').textContent = tz;
    document.getElementById('tz-offset').textContent = 'UTC' + offsetStr;

    function switchTab(i) {
        document.querySelectorAll('.tabs .tab').forEach((t, idx) => t.classList.toggle('active', idx === i));
        document.querySelectorAll('.panel').forEach((p, idx) => p.classList.toggle('active', idx === i));
        if (i === 2) calcCountdown();
    }

    function setAddSub(add) {
        addMode = add;
        document.getElementById('d1-add').classList.toggle('active', add);
        document.getElementById('d1-sub').classList.toggle('active', !add);
        calcAdd();
    }

    function businessDaysBetween(start, end) {
        let count = 0, cur = new Date(start);
        const direction = end >= start ? 1 : -1;
        const target = end >= start ? end : start;
        const origin = end >= start ? start : end;
        cur = new Date(origin);
        while (cur < target) {
            cur.setDate(cur.getDate() + 1);
            const d = cur.getDay();
            if (d !== 0 && d !== 6) count++;
        }
        return count;
    }

    function dateDiffDetailed(start, end) {
        let years = end.getFullYear() - start.getFullYear();
        let months = end.getMonth() - start.getMonth();
        let days = end.getDate() - start.getDate();
        if (days < 0) {
            months--;
            const prev = new Date(end.getFullYear(), end.getMonth(), 0);
            days += prev.getDate();
        }
        if (months < 0) { years--; months += 12; }
        return { years, months, days };
    }

    function getISOWeek(d) {
        const date = new Date(d.getTime());
        date.setHours(0, 0, 0, 0);
        date.setDate(date.getDate() + 3 - (date.getDay() + 6) % 7);
        const week1 = new Date(date.getFullYear(), 0, 4);
        return 1 + Math.round(((date.getTime() - week1.getTime()) / 86400000 - 3 + (week1.getDay() + 6) % 7) / 7);
    }

    function isLeapYear(y) { return (y % 4 === 0 && y % 100 !== 0) || (y % 400 === 0); }

    function calcDiff() {
        const sv = document.getElementById('d0-start').value, ev = document.getElementById('d0-end').value;
        const r = document.getElementById('r0');
        if (!sv || !ev) { r.style.display = 'none'; return; }
        const start = new Date(sv + 'T00:00:00'), end = new Date(ev + 'T00:00:00');
        const earlier = start <= end ? start : end, later = start <= end ? end : start;
        const diff = Math.abs(later - earlier);
        const totalDays = Math.round(diff / 86400000);
        const biz = document.getElementById('d0-biz').checked;
        const detail = dateDiffDetailed(earlier, later);
        const weeks = Math.floor(totalDays / 7), remDays = totalDays % 7;
        const totalHours = totalDays * 24;
        const totalMinutes = totalHours * 60;

        r.style.display = 'block';
        let gridHTML = `
            <div class="result-item"><div class="num">${detail.years}</div><div class="lbl">Years</div></div>
            <div class="result-item"><div class="num">${detail.months}</div><div class="lbl">Months</div></div>
            <div class="result-item"><div class="num">${detail.days}</div><div class="lbl">Days</div></div>`;
        if (biz) {
            const bizDays = businessDaysBetween(earlier, later);
            gridHTML += `<div class="result-item"><div class="num">${bizDays}</div><div class="lbl">Business Days</div></div>`;
        }
        document.getElementById('r0-grid').innerHTML = gridHTML;

        document.getElementById('r0-details').innerHTML = `
            <div class="detail-row"><span class="dt-label">Total days</span><span class="dt-value">${totalDays.toLocaleString()}</span></div>
            <div class="detail-row"><span class="dt-label">Weeks + days</span><span class="dt-value">${weeks} weeks, ${remDays} days</span></div>
            <div class="detail-row"><span class="dt-label">Total hours</span><span class="dt-value">${totalHours.toLocaleString()}</span></div>
            <div class="detail-row"><span class="dt-label">Total minutes</span><span class="dt-value">${totalMinutes.toLocaleString()}</span></div>
            <div class="detail-row"><span class="dt-label">Total seconds</span><span class="dt-value">${(totalMinutes * 60).toLocaleString()}</span></div>`;
        document.getElementById('r0-text').textContent = '';
    }

    function calcAdd() {
        const sv = document.getElementById('d1-start').value;
        const r = document.getElementById('r1');
        if (!sv) { r.style.display = 'none'; return; }
        const y = parseInt(document.getElementById('d1-y').value) || 0;
        const m = parseInt(document.getElementById('d1-m').value) || 0;
        const d = parseInt(document.getElementById('d1-d').value) || 0;
        const w = parseInt(document.getElementById('d1-w').value) || 0;
        const h = parseInt(document.getElementById('d1-h').value) || 0;
        const date = new Date(sv + 'T00:00:00');
        const original = new Date(date);
        const mult = addMode ? 1 : -1;
        date.setFullYear(date.getFullYear() + y * mult);
        date.setMonth(date.getMonth() + m * mult);
        date.setDate(date.getDate() + (d + w * 7) * mult);
        date.setHours(date.getHours() + h * mult);

        r.style.display = 'block';
        document.getElementById('r1-date').textContent = date.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
        document.getElementById('r1-day').textContent = dayNames[date.getDay()];

        const totalDaysDiff = Math.round(Math.abs(date - original) / 86400000);
        document.getElementById('r1-details').innerHTML = `
            <div class="detail-row"><span class="dt-label">Day of week</span><span class="dt-value">${dayNames[date.getDay()]}</span></div>
            <div class="detail-row"><span class="dt-label">ISO week</span><span class="dt-value">Week ${getISOWeek(date)}</span></div>
            <div class="detail-row"><span class="dt-label">Days ${addMode ? 'added' : 'subtracted'}</span><span class="dt-value">${totalDaysDiff.toLocaleString()}</span></div>
            <div class="detail-row"><span class="dt-label">Leap year?</span><span class="dt-value">${isLeapYear(date.getFullYear()) ? 'Yes' : 'No'}</span></div>`;
    }

    function calcCountdown() {
        const tv = document.getElementById('d2-target').value;
        const r = document.getElementById('r2');
        if (!tv) { r.style.display = 'none'; return; }
        if (countdownInterval) clearInterval(countdownInterval);

        function update() {
            const target = new Date(tv + 'T00:00:00'), now = new Date();
            const name = document.getElementById('d2-name').value || 'Target Date';
            r.style.display = 'block';
            const diff = target - now;
            if (diff <= 0) {
                document.getElementById('r2-label').textContent = name;
                document.getElementById('r2-big').textContent = 'Date has passed!';
                document.getElementById('r2-grid').innerHTML = '';
                document.getElementById('r2-extra').textContent = '';
                return;
            }
            const totalDays = Math.floor(diff / 86400000);
            const hrs = Math.floor((diff % 86400000) / 3600000);
            const mins = Math.floor((diff % 3600000) / 60000);
            const secs = Math.floor((diff % 60000) / 1000);
            document.getElementById('r2-label').textContent = 'Time until ' + name;
            document.getElementById('r2-big').textContent = `${totalDays} days`;
            document.getElementById('r2-grid').innerHTML = `
                <div class="result-item"><div class="num">${totalDays}</div><div class="lbl">Days</div></div>
                <div class="result-item"><div class="num">${hrs}</div><div class="lbl">Hours</div></div>
                <div class="result-item"><div class="num">${mins}</div><div class="lbl">Minutes</div></div>
                <div class="result-item"><div class="num">${secs}</div><div class="lbl">Seconds</div></div>`;
            const totalHours = totalDays * 24 + hrs;
            const totalWeeks = Math.floor(totalDays / 7);
            document.getElementById('r2-extra').textContent = `${totalHours.toLocaleString()} total hours | ${totalWeeks} weeks, ${totalDays % 7} days`;
        }
        update();
        countdownInterval = setInterval(update, 1000);
    }

    function calcDay() {
        const v = document.getElementById('d3-date').value;
        const r = document.getElementById('r3');
        if (!v) { r.style.display = 'none'; return; }
        const d = new Date(v + 'T00:00:00');
        r.style.display = 'block';
        document.getElementById('r3-day').textContent = dayNames[d.getDay()];
        const now = new Date(); now.setHours(0,0,0,0);
        const diffDays = Math.round((d - now) / 86400000);
        let rel = 'Today';
        if (diffDays === 1) rel = 'Tomorrow';
        else if (diffDays === -1) rel = 'Yesterday';
        else if (diffDays > 1) rel = `${diffDays} days from now`;
        else if (diffDays < -1) rel = `${Math.abs(diffDays)} days ago`;
        const weekNum = getISOWeek(d);
        document.getElementById('r3-info').textContent = `${monthNames[d.getMonth()]} ${d.getDate()}, ${d.getFullYear()} | ${rel}`;
        const dayOfYear = Math.floor((d - new Date(d.getFullYear(), 0, 0)) / 86400000);
        document.getElementById('r3-details').innerHTML = `
            <div class="detail-row"><span class="dt-label">Day of year</span><span class="dt-value">${dayOfYear} of ${isLeapYear(d.getFullYear()) ? 366 : 365}</span></div>
            <div class="detail-row"><span class="dt-label">ISO week</span><span class="dt-value">Week ${weekNum}</span></div>
            <div class="detail-row"><span class="dt-label">Quarter</span><span class="dt-value">Q${Math.ceil((d.getMonth() + 1) / 3)}</span></div>
            <div class="detail-row"><span class="dt-label">Leap year?</span><span class="dt-value">${isLeapYear(d.getFullYear()) ? 'Yes' : 'No'}</span></div>
            <div class="detail-row"><span class="dt-label">Unix timestamp</span><span class="dt-value">${Math.floor(d.getTime() / 1000)}</span></div>`;
    }

    function calcAge() {
        const v = document.getElementById('d4-dob').value;
        const r = document.getElementById('r4');
        if (!v) { r.style.display = 'none'; return; }
        const dob = new Date(v + 'T00:00:00'), now = new Date();
        if (dob > now) { r.style.display = 'none'; return; }
        const detail = dateDiffDetailed(dob, now);
        const totalDays = Math.floor((now - dob) / 86400000);
        const totalWeeks = Math.floor(totalDays / 7);
        const totalMonths = detail.years * 12 + detail.months;
        const totalHours = totalDays * 24;
        const nextBday = new Date(now.getFullYear(), dob.getMonth(), dob.getDate());
        if (nextBday <= now) nextBday.setFullYear(nextBday.getFullYear() + 1);
        const daysUntil = Math.ceil((nextBday - now) / 86400000);

        r.style.display = 'block';
        document.getElementById('r4-grid').innerHTML = `
            <div class="result-item"><div class="num">${detail.years}</div><div class="lbl">Years</div></div>
            <div class="result-item"><div class="num">${detail.months}</div><div class="lbl">Months</div></div>
            <div class="result-item"><div class="num">${detail.days}</div><div class="lbl">Days</div></div>`;
        document.getElementById('r4-details').innerHTML = `
            <div class="detail-row"><span class="dt-label">Born on</span><span class="dt-value">${dayNames[dob.getDay()]}, ${monthNames[dob.getMonth()]} ${dob.getDate()}, ${dob.getFullYear()}</span></div>
            <div class="detail-row"><span class="dt-label">Total days alive</span><span class="dt-value">${totalDays.toLocaleString()}</span></div>
            <div class="detail-row"><span class="dt-label">Total weeks</span><span class="dt-value">${totalWeeks.toLocaleString()}</span></div>
            <div class="detail-row"><span class="dt-label">Total months</span><span class="dt-value">${totalMonths.toLocaleString()}</span></div>
            <div class="detail-row"><span class="dt-label">Total hours</span><span class="dt-value">${totalHours.toLocaleString()}</span></div>
            <div class="detail-row"><span class="dt-label">Next birthday in</span><span class="dt-value">${daysUntil} days (${dayNames[nextBday.getDay()]})</span></div>`;
        document.getElementById('r4-text').textContent = '';
    }

    // Set defaults
    const today = new Date().toISOString().split('T')[0];
    document.getElementById('d0-end').value = today;
    document.getElementById('d1-start').value = today;
</script>

<script src="/js/revenue.js" defer></script>
<script src="/js/lead-capture.js" defer></script>
<script src="/js/analytics-lite.js" defer></script>
</body>
</html>