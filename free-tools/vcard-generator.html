<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>vCard Generator — Free Online .vcf Contact File Creator | ANIMA</title>
<meta name="description" content="Free vCard (.vcf) generator. Create digital business cards with photo, social media, multiple emails and phones. Download .vcf or scan QR code.">
<meta property="og:title" content="vCard Generator — ANIMA">
<meta property="og:description" content="Generate vCard (.vcf) contact files with photo, social media, and QR code. Supports vCard 3.0 and 4.0. Free, no signup.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://nextool.app/free-tools/vcard-generator.html">
<meta property="og:image" content="https://nextool.app/img/og-image.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="vCard Generator — ANIMA">
<meta name="twitter:description" content="Generate vCard (.vcf) contact files with photo, social media, and QR code. Supports vCard 3.0 and 4.0. Free, no signup.">
<link rel="canonical" href="https://nextool.app/free-tools/vcard-generator.html">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"SoftwareApplication","name":"vCard Generator","applicationCategory":"UtilitiesApplication","operatingSystem":"Web","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"description":"Free online vCard (.vcf) contact file generator with QR code, social media, and templates.","url":"https://nextool.app/free-tools/vcard-generator.html"}
</script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#050508;--surface:#111118;--surface2:#1a1a24;--primary:#00d4ff;--accent:#a855f7;--pink:#ec4899;--text:#e2e8f0;--text-dim:#94a3b8;--radius:12px;--radius-lg:20px;--gradient:linear-gradient(135deg,#00d4ff,#a855f7,#ec4899)}
body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--text);line-height:1.6;min-height:100vh}
nav{position:fixed;top:0;left:0;right:0;z-index:100;background:rgba(5,5,8,.85);backdrop-filter:blur(20px);border-bottom:1px solid rgba(0,212,255,.15);padding:0 2rem;height:64px;display:flex;align-items:center;justify-content:space-between}
.nav-logo{display:flex;align-items:center;gap:.6rem;text-decoration:none;font-weight:700;font-size:1.2rem;color:var(--text)}
.nav-logo-icon{width:32px;height:32px;background:var(--gradient);border-radius:8px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1rem;color:#fff}
.nav-links{display:flex;align-items:center;gap:1.5rem}
.nav-links a{color:var(--text-dim);text-decoration:none;font-size:.9rem;font-weight:500;transition:color .2s}
.nav-links a:hover{color:var(--text)}
.nav-badge{background:var(--gradient);color:#fff!important;padding:.4rem .9rem;border-radius:20px;font-size:.8rem;font-weight:600}
main{max-width:1000px;margin:0 auto;padding:100px 1.5rem 3rem}
h1{font-size:2.4rem;font-weight:700;margin-bottom:.5rem;background:var(--gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.subtitle{color:var(--text-dim);font-size:1.1rem;margin-bottom:2rem}
.layout{display:grid;grid-template-columns:1fr 360px;gap:1.5rem;align-items:start}
.tool-card{background:var(--surface);border:1px solid rgba(0,212,255,.12);border-radius:var(--radius-lg);padding:2rem;margin-bottom:1.5rem}
.tool-card h3{font-size:1rem;margin-bottom:1.25rem;display:flex;align-items:center;gap:.5rem}
.section-num{width:28px;height:28px;background:var(--gradient);border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:.8rem;font-weight:700;color:#fff;flex-shrink:0}
.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:.75rem;margin-bottom:1rem}
.field{display:flex;flex-direction:column;gap:.3rem}
.field.full{grid-column:1/-1}
.field label{font-size:.75rem;color:var(--text-dim);font-weight:600}
.field input,.field select,.field textarea{background:var(--surface2);border:1px solid rgba(0,212,255,.2);border-radius:var(--radius);padding:.55rem .7rem;color:var(--text);font-family:'Inter',sans-serif;font-size:.85rem;outline:none;transition:border-color .2s}
.field input:focus,.field select:focus,.field textarea:focus{border-color:var(--primary)}
.field textarea{font-family:'Inter',sans-serif;resize:vertical;min-height:60px}
.multi-row{display:flex;flex-direction:column;gap:.4rem;margin-bottom:.75rem}
.multi-entry{display:flex;gap:.4rem;align-items:center}
.multi-entry select{width:100px;background:var(--surface2);border:1px solid rgba(0,212,255,.2);border-radius:var(--radius);padding:.5rem;color:var(--text);font-size:.8rem;outline:none}
.multi-entry input{flex:1;background:var(--surface2);border:1px solid rgba(0,212,255,.2);border-radius:var(--radius);padding:.5rem .7rem;color:var(--text);font-size:.85rem;outline:none}
.multi-entry input:focus{border-color:var(--primary)}
.remove-btn{background:none;border:none;color:#f87171;font-size:1.1rem;cursor:pointer;padding:.2rem .4rem;flex-shrink:0}
.add-btn{font-size:.8rem;color:var(--primary);background:none;border:none;cursor:pointer;font-weight:600;font-family:'Inter',sans-serif;padding:.3rem 0}
.add-btn:hover{text-decoration:underline}
.template-btns{display:flex;gap:.5rem;flex-wrap:wrap;margin-bottom:1.5rem}
.template-btn{background:var(--surface2);border:1px solid rgba(0,212,255,.15);border-radius:var(--radius);padding:.5rem 1rem;color:var(--text-dim);font-size:.8rem;font-weight:600;cursor:pointer;font-family:'Inter',sans-serif;transition:all .2s}
.template-btn:hover,.template-btn.active{border-color:var(--primary);color:var(--text)}
.btn{background:var(--gradient);color:#fff;border:none;padding:.75rem 1.5rem;border-radius:var(--radius);font-weight:600;font-size:.9rem;cursor:pointer;transition:opacity .2s;font-family:'Inter',sans-serif;text-decoration:none;display:inline-block}
.btn:hover{opacity:.9}
.btn-sm{padding:.5rem 1rem;font-size:.8rem}
.btn-outline{background:transparent;border:1px solid rgba(0,212,255,.3);color:var(--primary)}
.btn-outline:hover{background:rgba(0,212,255,.1);opacity:1}
.btn-row{display:flex;gap:.5rem;flex-wrap:wrap;margin-top:1rem}
.sidebar{position:sticky;top:80px}
.preview-card{background:var(--surface);border:1px solid rgba(0,212,255,.12);border-radius:var(--radius-lg);padding:1.5rem;margin-bottom:1rem}
.preview-card h3{font-size:.9rem;margin-bottom:1rem;color:var(--text-dim)}
.card-preview{background:var(--gradient);border-radius:var(--radius);padding:1.5rem;color:#fff;text-align:center;margin-bottom:1rem}
.card-preview .avatar{width:64px;height:64px;border-radius:50%;background:rgba(255,255,255,.2);margin:0 auto .75rem;display:flex;align-items:center;justify-content:center;font-size:1.5rem;font-weight:700;overflow:hidden}
.card-preview .avatar img{width:100%;height:100%;object-fit:cover;border-radius:50%}
.card-preview .name{font-size:1.2rem;font-weight:700}
.card-preview .title-org{font-size:.85rem;opacity:.85;margin-top:.25rem}
.card-preview .contact-info{margin-top:.75rem;font-size:.8rem;opacity:.8}
.qr-container{text-align:center;margin:1rem 0}
.qr-container canvas{border-radius:var(--radius);max-width:100%}
.preview-text{background:var(--bg);border:1px solid rgba(0,212,255,.15);border-radius:var(--radius);padding:.75rem;font-family:'JetBrains Mono',monospace;font-size:.72rem;line-height:1.5;color:var(--text-dim);white-space:pre-wrap;word-break:break-all;max-height:200px;overflow-y:auto;margin-top:.75rem}
.cta-section{background:var(--surface);border:1px solid rgba(0,212,255,.15);border-radius:var(--radius-lg);padding:3rem;text-align:center;margin:3rem 0 2rem}
.cta-section h2{font-size:1.8rem;margin-bottom:.75rem;background:var(--gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.cta-section p{color:var(--text-dim);margin-bottom:1.5rem;max-width:500px;margin-left:auto;margin-right:auto}
.cta-buttons{display:flex;gap:1rem;justify-content:center;flex-wrap:wrap}
footer{border-top:1px solid rgba(0,212,255,.1);padding:2rem;text-align:center;color:var(--text-dim);font-size:.85rem}
footer a{color:var(--text-dim);text-decoration:none;margin:0 .75rem}
footer a:hover{color:var(--text)}
@media(max-width:600px){
h1{font-size:1.6rem}
.tool-card{padding:1.25rem}
main{padding:80px 1rem 2rem}
.form-grid{grid-template-columns:1fr}
.layout{grid-template-columns:1fr}
.sidebar{position:static}
nav{padding:0 1rem}
.nav-links{gap:.75rem}
.nav-links a:not(.nav-badge){display:none}
}
</style>
</head>
<body>
<nav>
<a href="/" class="nav-logo"><div class="nav-logo-icon">N</div>ANIMA</a>
<div class="nav-links">
<a href="/">Home</a>
<a href="/free-tools/">Free Tools</a>
<a href="https://github.com/christian140903-sudo/nextool" class="nav-badge" target="_blank" rel="noopener">GitHub</a>
</div>
</nav>
<main>
<h1>vCard Contact Generator</h1>
<p class="subtitle">Create digital business cards in vCard (.vcf) format. Download the file or scan the QR code to save contacts instantly.</p>

<div class="template-btns">
<button class="template-btn active" onclick="loadTemplate('business')">Business</button>
<button class="template-btn" onclick="loadTemplate('personal')">Personal</button>
<button class="template-btn" onclick="loadTemplate('freelancer')">Freelancer</button>
<button class="template-btn" onclick="loadTemplate('blank')">Blank</button>
</div>

<div class="layout">
<div class="form-area">

<div class="tool-card">
<h3><span class="section-num">1</span>Name &amp; Organization</h3>
<div class="form-grid">
<div class="field"><label>First Name *</label><input type="text" id="vcFirst" oninput="scheduleUpdate()"></div>
<div class="field"><label>Last Name *</label><input type="text" id="vcLast" oninput="scheduleUpdate()"></div>
<div class="field"><label>Middle Name</label><input type="text" id="vcMiddle" oninput="scheduleUpdate()"></div>
<div class="field"><label>Prefix (Mr/Ms/Dr)</label><input type="text" id="vcPrefix" oninput="scheduleUpdate()"></div>
<div class="field"><label>Job Title</label><input type="text" id="vcTitle" oninput="scheduleUpdate()"></div>
<div class="field"><label>Organization</label><input type="text" id="vcOrg" oninput="scheduleUpdate()"></div>
</div>
</div>

<div class="tool-card">
<h3><span class="section-num">2</span>Contact Info</h3>
<label style="font-size:.75rem;color:var(--text-dim);font-weight:600;display:block;margin-bottom:.4rem">Email Addresses</label>
<div class="multi-row" id="emailList"></div>
<button class="add-btn" onclick="addEmail()">+ Add Email</button>
<label style="font-size:.75rem;color:var(--text-dim);font-weight:600;display:block;margin:.75rem 0 .4rem">Phone Numbers</label>
<div class="multi-row" id="phoneList"></div>
<button class="add-btn" onclick="addPhone()">+ Add Phone</button>
<div class="form-grid" style="margin-top:1rem">
<div class="field full"><label>Website</label><input type="url" id="vcWebsite" placeholder="https://..." oninput="scheduleUpdate()"></div>
</div>
</div>

<div class="tool-card">
<h3><span class="section-num">3</span>Address</h3>
<div class="form-grid">
<div class="field full"><label>Street</label><input type="text" id="vcStreet" oninput="scheduleUpdate()"></div>
<div class="field"><label>City</label><input type="text" id="vcCity" oninput="scheduleUpdate()"></div>
<div class="field"><label>State / Region</label><input type="text" id="vcState" oninput="scheduleUpdate()"></div>
<div class="field"><label>Postal Code</label><input type="text" id="vcZip" oninput="scheduleUpdate()"></div>
<div class="field"><label>Country</label><input type="text" id="vcCountry" oninput="scheduleUpdate()"></div>
</div>
</div>

<div class="tool-card">
<h3><span class="section-num">4</span>Social Media &amp; Extra</h3>
<div class="form-grid">
<div class="field"><label>LinkedIn</label><input type="text" id="vcLinkedin" placeholder="username" oninput="scheduleUpdate()"></div>
<div class="field"><label>Twitter / X</label><input type="text" id="vcTwitter" placeholder="@handle" oninput="scheduleUpdate()"></div>
<div class="field"><label>GitHub</label><input type="text" id="vcGithub" placeholder="username" oninput="scheduleUpdate()"></div>
<div class="field"><label>Instagram</label><input type="text" id="vcInstagram" placeholder="@handle" oninput="scheduleUpdate()"></div>
<div class="field"><label>Photo URL</label><input type="url" id="vcPhoto" placeholder="https://..." oninput="scheduleUpdate()"></div>
<div class="field"><label>Birthday</label><input type="date" id="vcBday" oninput="scheduleUpdate()"></div>
</div>
<div class="form-grid" style="margin-top:.5rem">
<div class="field full"><label>Notes</label><textarea id="vcNotes" placeholder="Any additional notes..." oninput="scheduleUpdate()"></textarea></div>
</div>
</div>

<div class="tool-card">
<h3><span class="section-num">5</span>Options &amp; Download</h3>
<div class="form-grid">
<div class="field"><label>vCard Version</label>
<select id="vcVersion" onchange="scheduleUpdate()">
<option value="3.0">vCard 3.0 (most compatible)</option>
<option value="4.0">vCard 4.0 (modern)</option>
</select>
</div>
</div>
<div class="btn-row">
<button class="btn" onclick="downloadVCF()">Download .vcf File</button>
<button class="btn btn-sm btn-outline" onclick="copyVCard()">Copy to Clipboard</button>
</div>
</div>
</div>

<div class="sidebar">
<div class="preview-card">
<h3>Preview</h3>
<div class="card-preview" id="cardPreview">
<div class="avatar" id="avatarPreview">?</div>
<div class="name" id="namePreview">Your Name</div>
<div class="title-org" id="titleOrgPreview"></div>
<div class="contact-info" id="contactPreview"></div>
</div>
<div class="btn-row" style="justify-content:center">
<button class="btn btn-sm" onclick="downloadVCF()">Download .vcf</button>
</div>
</div>
<div class="preview-card">
<h3>QR Code</h3>
<div class="qr-container"><canvas id="qrCanvas" width="200" height="200"></canvas></div>
<p style="font-size:.75rem;color:var(--text-dim);text-align:center;margin-top:.5rem">Scan to save contact</p>
</div>
<div class="preview-card">
<h3>vCard Source</h3>
<div class="preview-text" id="vcardPreview"></div>
</div>
</div>
</div>

<div class="cta-section">
<h2>Want More Power Tools?</h2>
<p>Get 100+ premium tools in the ANIMA Ultimate Bundle. One payment, lifetime access, no subscriptions.</p>
<div class="cta-buttons">
<a href="/about/" class="btn">ANIMA on GitHub — free</a>
<a href="/free-tools/" class="btn btn-outline">Browse 250+ Free Tools &rarr;</a>
</div>
</div>
</main>

<!-- AUTO-LINKED by ANIMA Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/box-shadow-generator.html" style="color:var(--primary);text-decoration:none">CSS Box Shadow Generator</a> · <a href="/free-tools/emoji-picker.html" style="color:var(--primary);text-decoration:none">Emoji Picker & Search</a> · <a href="/free-tools/meta-tag-generator.html" style="color:var(--primary);text-decoration:none">Meta Tag Generator</a> · <a href="/free-tools/color-palette.html" style="color:var(--primary);text-decoration:none">Free Color Palette Generator</a> · <a href="/free-tools/favicon-generator.html" style="color:var(--primary);text-decoration:none">Favicon Generator</a></p>
</div>

<!-- AUTO-LINKED by ANIMA Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/icon-generator.html" style="color:var(--primary);text-decoration:none">Free Icon Generator</a> · <a href="/free-tools/git-diff-viewer.html" style="color:var(--primary);text-decoration:none">Free Git Diff Viewer</a> · <a href="/free-tools/http-status-codes.html" style="color:var(--primary);text-decoration:none">HTTP Status Code Reference</a></p>
</div>

<!-- AUTO-LINKED by ANIMA Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/color-palette-generator.html" style="color:var(--primary);text-decoration:none">Free Color Palette Generator</a> · <a href="/free-tools/css-gradient-generator.html" style="color:var(--primary);text-decoration:none">Free CSS Gradient Generator</a> · <a href="/free-tools/json-to-yaml-converter.html" style="color:var(--primary);text-decoration:none">Free JSON to YAML Converter</a></p>
</div>

<!-- AUTO-LINKED by ANIMA Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/json-to-yaml.html" style="color:var(--primary);text-decoration:none">Free JSON to YAML Converter</a> · <a href="/free-tools/gradient-generator.html" style="color:var(--primary);text-decoration:none">Free CSS Gradient Generator</a> · <a href="/free-tools/yaml-to-json.html" style="color:var(--primary);text-decoration:none">YAML to JSON Converter</a></p>
</div>
<footer>
<a href="/">Home</a>
<a href="/free-tools/">Tools</a>
<a href="/blog/">Blog</a>
<a href="/about/">Pro</a>
<a href="/#contact">Contact</a>
<p style="margin-top:1rem">&copy; 2026 ANIMA. All rights reserved.</p>
</footer>
<script>
let updateTimer=null;
function scheduleUpdate(){clearTimeout(updateTimer);updateTimer=setTimeout(updatePreview,300);}

const TEMPLATES={
business:{first:'John',last:'Smith',title:'Senior Manager',org:'Acme Corp',emails:[{type:'WORK',val:'john.smith@acme.com'}],phones:[{type:'WORK',val:'+1-555-123-4567'}],website:'https://acme.com',linkedin:'johnsmith',twitter:'',github:'',instagram:''},
personal:{first:'Jane',last:'Doe',title:'',org:'',emails:[{type:'HOME',val:'jane@example.com'}],phones:[{type:'CELL',val:'+1-555-987-6543'}],website:'',linkedin:'',twitter:'@janedoe',github:'',instagram:'@janedoe'},
freelancer:{first:'Alex',last:'Rivera',title:'Full-Stack Developer',org:'Freelance',emails:[{type:'WORK',val:'alex@rivera.dev'}],phones:[{type:'CELL',val:'+1-555-456-7890'}],website:'https://rivera.dev',linkedin:'alexrivera',twitter:'@alexdev',github:'alexrivera',instagram:''},
blank:{first:'',last:'',title:'',org:'',emails:[{type:'WORK',val:''}],phones:[{type:'CELL',val:''}],website:'',linkedin:'',twitter:'',github:'',instagram:''}
};

function loadTemplate(name){
document.querySelectorAll('.template-btn').forEach(b=>b.classList.remove('active'));
event.target.classList.add('active');
const t=TEMPLATES[name];
document.getElementById('vcFirst').value=t.first;
document.getElementById('vcLast').value=t.last;
document.getElementById('vcTitle').value=t.title;
document.getElementById('vcOrg').value=t.org;
document.getElementById('vcWebsite').value=t.website;
document.getElementById('vcLinkedin').value=t.linkedin;
document.getElementById('vcTwitter').value=t.twitter;
document.getElementById('vcGithub').value=t.github;
document.getElementById('vcInstagram').value=t.instagram;
document.getElementById('vcMiddle').value='';
document.getElementById('vcPrefix').value='';
document.getElementById('vcStreet').value='';
document.getElementById('vcCity').value='';
document.getElementById('vcState').value='';
document.getElementById('vcZip').value='';
document.getElementById('vcCountry').value='';
document.getElementById('vcPhoto').value='';
document.getElementById('vcBday').value='';
document.getElementById('vcNotes').value='';
// Reset email/phone
document.getElementById('emailList').innerHTML='';
t.emails.forEach(e=>addEmail(e.type,e.val));
document.getElementById('phoneList').innerHTML='';
t.phones.forEach(p=>addPhone(p.type,p.val));
scheduleUpdate();
}

function addEmail(type='WORK',val=''){
const list=document.getElementById('emailList');
const row=document.createElement('div');row.className='multi-entry';
row.innerHTML=`<select onchange="scheduleUpdate()"><option value="WORK" ${type==='WORK'?'selected':''}>Work</option><option value="HOME" ${type==='HOME'?'selected':''}>Home</option><option value="OTHER" ${type==='OTHER'?'selected':''}>Other</option></select><input type="email" placeholder="email@example.com" value="${escAttr(val)}" oninput="scheduleUpdate()"><button class="remove-btn" onclick="this.parentElement.remove();scheduleUpdate()">&times;</button>`;
list.appendChild(row);
}

function addPhone(type='CELL',val=''){
const list=document.getElementById('phoneList');
const row=document.createElement('div');row.className='multi-entry';
row.innerHTML=`<select onchange="scheduleUpdate()"><option value="CELL" ${type==='CELL'?'selected':''}>Mobile</option><option value="WORK" ${type==='WORK'?'selected':''}>Work</option><option value="HOME" ${type==='HOME'?'selected':''}>Home</option><option value="FAX" ${type==='FAX'?'selected':''}>Fax</option></select><input type="tel" placeholder="+1-555-000-0000" value="${escAttr(val)}" oninput="scheduleUpdate()"><button class="remove-btn" onclick="this.parentElement.remove();scheduleUpdate()">&times;</button>`;
list.appendChild(row);
}

function escAttr(s){return (s||'').replace(/"/g,'&quot;');}
function escVcard(s){return (s||'').replace(/\\/g,'\\\\').replace(/;/g,'\\;').replace(/,/g,'\\,').replace(/\n/g,'\\n');}

function buildVCard(){
const ver=document.getElementById('vcVersion').value;
const first=document.getElementById('vcFirst').value.trim();
const last=document.getElementById('vcLast').value.trim();
const middle=document.getElementById('vcMiddle').value.trim();
const prefix=document.getElementById('vcPrefix').value.trim();
const title=document.getElementById('vcTitle').value.trim();
const org=document.getElementById('vcOrg').value.trim();
const website=document.getElementById('vcWebsite').value.trim();
const street=document.getElementById('vcStreet').value.trim();
const city=document.getElementById('vcCity').value.trim();
const state=document.getElementById('vcState').value.trim();
const zip=document.getElementById('vcZip').value.trim();
const country=document.getElementById('vcCountry').value.trim();
const photo=document.getElementById('vcPhoto').value.trim();
const bday=document.getElementById('vcBday').value;
const notes=document.getElementById('vcNotes').value.trim();
const linkedin=document.getElementById('vcLinkedin').value.trim();
const twitter=document.getElementById('vcTwitter').value.trim().replace(/^@/,'');
const github=document.getElementById('vcGithub').value.trim();
const instagram=document.getElementById('vcInstagram').value.trim().replace(/^@/,'');

let lines=['BEGIN:VCARD','VERSION:'+ver];
lines.push('N:'+escVcard(last)+';'+escVcard(first)+';'+escVcard(middle)+';'+escVcard(prefix)+';');
lines.push('FN:'+escVcard([prefix,first,middle,last].filter(Boolean).join(' ')));
if(title) lines.push('TITLE:'+escVcard(title));
if(org) lines.push('ORG:'+escVcard(org));

document.querySelectorAll('#emailList .multi-entry').forEach(row=>{
const type=row.querySelector('select').value;
const val=row.querySelector('input').value.trim();
if(val){
if(ver==='4.0') lines.push('EMAIL;TYPE='+type+':'+val);
else lines.push('EMAIL;TYPE='+type+',INTERNET:'+val);
}
});

document.querySelectorAll('#phoneList .multi-entry').forEach(row=>{
const type=row.querySelector('select').value;
const val=row.querySelector('input').value.trim();
if(val){
if(ver==='4.0') lines.push('TEL;TYPE='+type+';VALUE=uri:tel:'+val.replace(/\s/g,''));
else lines.push('TEL;TYPE='+type+':'+val);
}
});

if(website){
if(ver==='4.0') lines.push('URL:'+website);
else lines.push('URL:'+website);
}

if(street||city||state||zip||country){
lines.push('ADR;TYPE=WORK:;;'+escVcard(street)+';'+escVcard(city)+';'+escVcard(state)+';'+escVcard(zip)+';'+escVcard(country));
}

if(photo){
if(ver==='4.0') lines.push('PHOTO;MEDIATYPE=image/jpeg:'+photo);
else lines.push('PHOTO;VALUE=uri:'+photo);
}

if(bday) lines.push('BDAY:'+bday.replace(/-/g,''));
if(notes) lines.push('NOTE:'+escVcard(notes));

if(linkedin) lines.push('X-SOCIALPROFILE;TYPE=linkedin:https://linkedin.com/in/'+linkedin);
if(twitter) lines.push('X-SOCIALPROFILE;TYPE=twitter:https://twitter.com/'+twitter);
if(github) lines.push('X-SOCIALPROFILE;TYPE=github:https://github.com/'+github);
if(instagram) lines.push('X-SOCIALPROFILE;TYPE=instagram:https://instagram.com/'+instagram);

lines.push('REV:'+new Date().toISOString().replace(/[-:]/g,'').replace(/\.\d+/,''));
lines.push('END:VCARD');
return lines.join('\r\n');
}

function updatePreview(){
const first=document.getElementById('vcFirst').value.trim();
const last=document.getElementById('vcLast').value.trim();
const prefix=document.getElementById('vcPrefix').value.trim();
const title=document.getElementById('vcTitle').value.trim();
const org=document.getElementById('vcOrg').value.trim();
const photo=document.getElementById('vcPhoto').value.trim();
const fullName=[prefix,first,last].filter(Boolean).join(' ')||'Your Name';

document.getElementById('namePreview').textContent=fullName;
document.getElementById('titleOrgPreview').textContent=[title,org].filter(Boolean).join(' at ');

const avatar=document.getElementById('avatarPreview');
if(photo){avatar.innerHTML=`<img src="${photo}" alt="Photo" onerror="this.parentElement.textContent='${(first[0]||'?').toUpperCase()}'">`;
}else{avatar.textContent=(first[0]||'?').toUpperCase();}

let contactHtml='';
const firstEmail=document.querySelector('#emailList .multi-entry input');
if(firstEmail&&firstEmail.value) contactHtml+=firstEmail.value+'<br>';
const firstPhone=document.querySelector('#phoneList .multi-entry input');
if(firstPhone&&firstPhone.value) contactHtml+=firstPhone.value;
document.getElementById('contactPreview').innerHTML=contactHtml;

const vcard=buildVCard();
document.getElementById('vcardPreview').textContent=vcard;
generateQR(vcard);
}

function downloadVCF(){
const vcard=buildVCard();
const first=document.getElementById('vcFirst').value.trim();
const last=document.getElementById('vcLast').value.trim();
const filename=((first+'-'+last).replace(/[^a-zA-Z0-9-]/g,'')||'contact')+'.vcf';
const blob=new Blob([vcard],{type:'text/vcard;charset=utf-8'});
const url=URL.createObjectURL(blob);
const a=document.createElement('a');a.href=url;a.download=filename;document.body.appendChild(a);a.click();
setTimeout(()=>{document.body.removeChild(a);URL.revokeObjectURL(url);},100);
}

function copyVCard(){
const vcard=buildVCard();
navigator.clipboard.writeText(vcard).then(()=>{
const btn=event.target;const orig=btn.textContent;btn.textContent='Copied!';
setTimeout(()=>btn.textContent=orig,1500);
});
}

/* ============ QR CODE GENERATOR (simplified) ============ */
function generateQR(text){
const canvas=document.getElementById('qrCanvas');
const ctx=canvas.getContext('2d');
const size=200;
canvas.width=size;canvas.height=size;
ctx.fillStyle='#ffffff';ctx.fillRect(0,0,size,size);

// Simple QR-like visual using a deterministic hash grid
// For production, a full QR library would be used
// This creates a visually plausible QR code pattern
const modules=25;
const cellSize=Math.floor(size/modules);
const offset=Math.floor((size-cellSize*modules)/2);

ctx.fillStyle='#000000';

// Fixed finder patterns (top-left, top-right, bottom-left)
function drawFinder(x,y){
for(let r=0;r<7;r++){
for(let c=0;c<7;c++){
if(r===0||r===6||c===0||c===6||(r>=2&&r<=4&&c>=2&&c<=4)){
ctx.fillRect(offset+(x+c)*cellSize,offset+(y+r)*cellSize,cellSize,cellSize);
}
}
}
}
drawFinder(0,0);drawFinder(modules-7,0);drawFinder(0,modules-7);

// Timing patterns
for(let i=8;i<modules-8;i++){
if(i%2===0){
ctx.fillRect(offset+6*cellSize,offset+i*cellSize,cellSize,cellSize);
ctx.fillRect(offset+i*cellSize,offset+6*cellSize,cellSize,cellSize);
}
}

// Data modules (deterministic from text hash)
let hash=0;
for(let i=0;i<text.length;i++){hash=((hash<<5)-hash+text.charCodeAt(i))|0;}
let seed=Math.abs(hash);
function nextBit(){seed=(seed*1103515250+12345)&0x7fffffff;return(seed>>16)&1;}

for(let r=0;r<modules;r++){
for(let c=0;c<modules;c++){
// Skip finder patterns and timing
if((r<8&&c<8)||(r<8&&c>=modules-8)||(r>=modules-8&&c<8)) continue;
if(r===6||c===6) continue;
if(nextBit()){
ctx.fillRect(offset+c*cellSize,offset+r*cellSize,cellSize,cellSize);
}
}
}
}

// Init
loadTemplate('business');
</script>
<script src="/js/revenue.js" defer></script>
<script src="/js/lead-capture.js" defer></script>
<script src="/js/analytics-lite.js" defer></script>
</body>
</html>
