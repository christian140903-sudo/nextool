<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
    <link rel="icon" type="image/svg+xml" href="/img/favicon.svg">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Free JSON to YAML Converter — Convert JSON YAML Online | ANIMA</title>
<meta name="description" content="Free online JSON to YAML converter with bidirectional conversion. Convert JSON to YAML and YAML to JSON instantly with syntax highlighting and error detection.">
<meta name="keywords" content="json to yaml converter, yaml to json online, convert json to yaml, yaml converter, json yaml, free online tool, ANIMA">
<meta name="robots" content="index, follow">
<meta property="og:title" content="Free JSON to YAML Converter | ANIMA">
<meta property="og:description" content="Convert between JSON and YAML bidirectionally. Syntax highlighting, error detection, download output. 100% free.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://nextool.app/free-tools/json-to-yaml.html">
<meta property="og:image" content="https://nextool.app/img/og-image.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<link rel="canonical" href="https://nextool.app/free-tools/json-to-yaml.html">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Free JSON to YAML Converter | ANIMA">
<meta name="twitter:description" content="Convert between JSON and YAML instantly. Free online tool by ANIMA.">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"SoftwareApplication","name":"JSON to YAML Converter","applicationCategory":"DeveloperApplication","operatingSystem":"Web","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"description":"Free online bidirectional JSON to YAML and YAML to JSON converter with syntax highlighting and error detection."}
</script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#050508;--surface:#111118;--surface2:#1a1a24;--border:#2a2a3a;--text:#e4e4eb;--text2:#9494a8;--primary:#00d4ff;--accent:#a855f7;--pink:#ec4899;--green:#22c55e;--red:#ef4444;--cyan:#22d3ee;--yellow:#eab308;--radius:12px;--glass:rgba(17,17,24,0.7)}
html{scroll-behavior:smooth}
body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);line-height:1.6;min-height:100vh;overflow-x:hidden}
/* NAV */
.nav{position:sticky;top:0;z-index:100;background:rgba(5,5,8,0.85);backdrop-filter:blur(20px);border-bottom:1px solid var(--border);padding:0 2rem;height:64px;display:flex;align-items:center;justify-content:space-between}
.nav-logo{font-size:1.4rem;font-weight:800;background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-decoration:none}
.nav-links{display:flex;align-items:center;gap:1.5rem}
.nav-links a{color:var(--text2);text-decoration:none;font-size:.875rem;font-weight:500;transition:color .2s}
.nav-links a:hover{color:var(--text)}
.nav-cta{background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff!important;padding:.5rem 1.2rem;border-radius:8px;font-weight:600;-webkit-text-fill-color:#fff!important}
.nav-cta:hover{opacity:.9}
.nav-toggle{display:none;background:none;border:none;color:var(--text);font-size:1.5rem;cursor:pointer}
/* HERO */
.hero{text-align:center;padding:3rem 1.5rem 2rem;max-width:700px;margin:0 auto}
.hero h1{font-size:2.2rem;font-weight:800;line-height:1.2;margin-bottom:.75rem}
.hero h1 span{background:linear-gradient(135deg,var(--primary),var(--accent),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hero p{color:var(--text2);font-size:1rem}
/* TOOL */
.tool-container{max-width:1200px;margin:0 auto;padding:0 1.5rem 3rem}
.toolbar{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1rem;align-items:center}
.toolbar button,.toolbar select{background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.45rem .9rem;border-radius:8px;font-size:.8rem;font-weight:500;cursor:pointer;transition:all .2s;font-family:inherit}
.toolbar button:hover{border-color:var(--primary);background:rgba(0,212,255,.12)}
.toolbar button.active{background:linear-gradient(135deg,var(--primary),var(--accent));border-color:transparent;color:#fff}
.toolbar select{appearance:none;padding-right:1.8rem;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%239494a8' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right .6rem center}
.toolbar .sep{width:1px;height:24px;background:var(--border);margin:0 .25rem}
.dir-toggle{display:inline-flex;align-items:center;gap:.4rem;font-weight:600!important;letter-spacing:.02em}
.dir-toggle .arrow{transition:transform .3s}
.dir-toggle.reverse .arrow{transform:rotate(180deg)}
.status-bar{display:flex;align-items:center;gap:1rem;margin-bottom:1rem;font-size:.8rem;color:var(--text2)}
.status-dot{width:8px;height:8px;border-radius:50%;display:inline-block}
.status-dot.valid{background:var(--green)}
.status-dot.invalid{background:var(--red)}
.status-dot.empty{background:var(--border)}
.panels{display:grid;grid-template-columns:1fr 1fr;gap:1rem;min-height:500px}
.panel{background:var(--glass);backdrop-filter:blur(16px);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;display:flex;flex-direction:column}
.panel-header{padding:.6rem 1rem;border-bottom:1px solid var(--border);font-size:.8rem;font-weight:600;color:var(--text2);display:flex;justify-content:space-between;align-items:center;background:rgba(26,26,36,0.5)}
.panel-header .panel-actions{display:flex;gap:.4rem}
.panel-header .panel-actions button{background:none;border:1px solid var(--border);color:var(--text2);padding:.2rem .5rem;border-radius:6px;font-size:.7rem;cursor:pointer;transition:all .2s;font-family:inherit}
.panel-header .panel-actions button:hover{border-color:var(--primary);color:var(--text)}
.panel-body{flex:1;position:relative;overflow:auto}
.editor-wrap{display:flex;width:100%;height:100%;min-height:400px}
.line-numbers{padding:1rem .5rem 1rem .75rem;background:rgba(26,26,36,0.5);color:var(--text2);font-family:'Courier New',monospace;font-size:.82rem;line-height:1.7;text-align:right;user-select:none;min-width:36px;overflow:hidden;flex-shrink:0;border-right:1px solid var(--border)}
.editor-wrap textarea{width:100%;height:100%;min-height:400px;background:transparent;border:none;color:var(--text);font-family:'Courier New',monospace;font-size:.82rem;padding:1rem .75rem;resize:none;outline:none;line-height:1.7;tab-size:2;flex:1}
.editor-wrap textarea::placeholder{color:var(--text2);opacity:.5}
.output-wrap{display:flex;width:100%;height:100%;min-height:400px}
.output-lines{padding:1rem .5rem 1rem .75rem;background:rgba(26,26,36,0.5);color:var(--text2);font-family:'Courier New',monospace;font-size:.82rem;line-height:1.7;text-align:right;user-select:none;min-width:36px;overflow:hidden;flex-shrink:0;border-right:1px solid var(--border)}
.output-content{padding:1rem .75rem;font-family:'Courier New',monospace;font-size:.82rem;line-height:1.7;white-space:pre-wrap;word-break:break-all;flex:1;overflow:auto}
/* SYNTAX HIGHLIGHTING */
.hl-key{color:#c084fc}.hl-str{color:#4ade80}.hl-num{color:var(--cyan)}.hl-bool{color:var(--yellow)}.hl-null{color:#6b7280}.hl-brace{color:var(--text2)}.hl-comma{color:var(--text2)}
.yl-key{color:#c084fc}.yl-str{color:#4ade80}.yl-num{color:var(--cyan)}.yl-bool{color:var(--yellow)}.yl-null{color:#6b7280}.yl-dash{color:var(--pink)}.yl-comment{color:#6b7280;font-style:italic}.yl-anchor{color:var(--accent)}
/* ERROR */
.error-display{padding:1rem;color:var(--red);font-size:.85rem;font-family:'Courier New',monospace;white-space:pre-wrap}
.error-display .error-line{background:rgba(239,68,68,.1);border-left:3px solid var(--red);padding:.3rem .6rem;margin:.3rem 0;border-radius:4px}
/* SOURCE INDICATOR */
.panel.source-panel{border-color:rgba(0,212,255,.35)}
.panel.source-panel .panel-header{background:rgba(0,212,255,.08)}
.source-badge{display:inline-block;padding:1px 6px;background:rgba(0,212,255,.2);color:var(--primary);border-radius:4px;font-size:.65rem;font-weight:700;text-transform:uppercase;letter-spacing:.5px;margin-left:.5rem}
/* CTA */
.cta-section{text-align:center;padding:4rem 1.5rem;max-width:700px;margin:0 auto}
.cta-section h2{font-size:1.8rem;font-weight:800;margin-bottom:.75rem}
.cta-section h2 span{background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.cta-section p{color:var(--text2);margin-bottom:1.5rem}
.cta-btn{display:inline-block;background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;padding:.75rem 2rem;border-radius:10px;font-weight:700;text-decoration:none;font-size:1rem;transition:transform .2s,box-shadow .2s}
.cta-btn:hover{transform:translateY(-2px);box-shadow:0 8px 30px rgba(0,212,255,.3)}
/* FOOTER */
.footer{border-top:1px solid var(--border);padding:3rem 2rem 2rem;max-width:1200px;margin:0 auto}
.footer-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;margin-bottom:2rem}
.footer-col h4{font-size:.85rem;font-weight:700;margin-bottom:.75rem;color:var(--text)}
.footer-col a{display:block;color:var(--text2);text-decoration:none;font-size:.8rem;margin-bottom:.4rem;transition:color .2s}
.footer-col a:hover{color:var(--primary)}
.footer-bottom{text-align:center;color:var(--text2);font-size:.75rem;padding-top:1.5rem;border-top:1px solid var(--border)}
/* FADE IN */
.fade-in{opacity:0;transform:translateY(20px);transition:opacity .6s,transform .6s}
.fade-in.visible{opacity:1;transform:translateY(0)}
/* TOAST */
.toast{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%) translateY(80px);background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.6rem 1.2rem;border-radius:10px;font-size:.85rem;font-weight:500;z-index:200;transition:transform .3s;pointer-events:none}
.toast.show{transform:translateX(-50%) translateY(0)}
/* KBD */
.kbd{display:inline-block;padding:1px 5px;background:var(--surface2);border:1px solid var(--border);border-radius:4px;font-size:.7rem;font-family:inherit;color:var(--text2);margin-left:.35rem}
/* RESPONSIVE */
@media(max-width:768px){
  .panels{grid-template-columns:1fr}
  .nav-links{display:none;position:absolute;top:64px;left:0;right:0;background:var(--bg);border-bottom:1px solid var(--border);flex-direction:column;padding:1rem 2rem;gap:1rem}
  .nav-links.open{display:flex}
  .nav-toggle{display:block}
  .hero h1{font-size:1.6rem}
  .footer-grid{grid-template-columns:1fr}
  .toolbar{gap:.35rem}
  .editor-wrap textarea,.editor-wrap{min-height:300px}
  .output-wrap{min-height:300px}
}
</style>
</head>
<body>

<nav class="nav">
  <a href="/" class="nav-logo">ANIMA</a>
  <button class="nav-toggle" onclick="document.querySelector('.nav-links').classList.toggle('open')" aria-label="Menu">&#9776;</button>
  <div class="nav-links">
    <a href="/">Home</a>
    <a href="/free-tools/">Tools</a>
    <a href="/free-tools/">Free Tools</a>
    <a href="/blog/">Blog</a>
    <a href="https://github.com/christian140903-sudo/nextool" class="nav-cta" target="_blank" rel="noopener">GitHub</a>
  </div>
</nav>

<section class="hero fade-in">
  <h1>Free <span>JSON to YAML</span> Converter</h1>
  <p class="tool-summary" style="color:#94a3b8;font-size:15px;line-height:1.6;margin-bottom:24px;max-width:700px;margin-left:auto;margin-right:auto;">Convert between JSON and YAML bidirectionally. Paste JSON on the left to get YAML on the right, or switch direction to convert YAML to JSON. Syntax highlighting, error detection with line numbers, and customizable output options. No signup, runs entirely in your browser.</p>
</section>

<div class="tool-container fade-in">
  <div class="toolbar">
    <button class="dir-toggle active" id="dirToggle" onclick="toggleDirection()" title="Toggle conversion direction">
      <span id="dirLabel">JSON</span>
      <span class="arrow" id="dirArrow">&#8594;</span>
      <span id="dirLabelTo">YAML</span>
    </button>
    <div class="sep"></div>
    <button onclick="convert()" title="Convert (Ctrl+Enter)">Convert <span class="kbd">Ctrl+Enter</span></button>
    <button onclick="loadSample()" title="Load sample data">Sample</button>
    <button onclick="clearAll()" title="Clear both panels">Clear</button>
    <div class="sep"></div>
    <select id="indentSelect" onchange="convert()" title="YAML indent size">
      <option value="2">Indent: 2</option>
      <option value="4">Indent: 4</option>
    </select>
    <select id="styleSelect" onchange="convert()" title="YAML output style">
      <option value="block">Block Style</option>
      <option value="flow">Flow Style</option>
    </select>
  </div>

  <div class="status-bar">
    <span><span class="status-dot empty" id="statusDot"></span></span>
    <span id="statusText">Paste data to begin</span>
    <span id="sizeInfo" style="margin-left:auto"></span>
  </div>

  <div class="panels">
    <div class="panel source-panel" id="leftPanel">
      <div class="panel-header">
        <span><span id="leftLabel">JSON</span><span class="source-badge" id="leftBadge">Source</span></span>
        <div class="panel-actions">
          <button onclick="copyLeft()" title="Copy">Copy</button>
          <button onclick="downloadLeft()" title="Download">Download</button>
        </div>
      </div>
      <div class="panel-body">
        <div class="editor-wrap">
          <div class="line-numbers" id="leftLines">1</div>
          <textarea id="leftInput" placeholder='Paste your JSON here...&#10;&#10;Example:&#10;{&#10;  "name": "ANIMA",&#10;  "version": "1.0"&#10;}' spellcheck="false"></textarea>
        </div>
      </div>
    </div>
    <div class="panel" id="rightPanel">
      <div class="panel-header">
        <span><span id="rightLabel">YAML</span><span class="source-badge" id="rightBadge" style="display:none">Source</span></span>
        <div class="panel-actions">
          <button onclick="copyRight()" title="Copy">Copy</button>
          <button onclick="downloadRight()" title="Download">Download</button>
        </div>
      </div>
      <div class="panel-body" id="rightBody">
        <div class="output-wrap" id="outputWrap">
          <div class="output-lines" id="rightLines"></div>
          <div class="output-content" id="outputContent"></div>
        </div>
        <div class="error-display" id="errorOutput" style="display:none"></div>
      </div>
    </div>
  </div>
</div>

<section class="cta-section fade-in">
  <h2>Need something <span>more powerful</span>?</h2>
  <p>Let us build it for you. Custom APIs, dashboards, automations &mdash; whatever you need.</p>
  <a href="/#contact" class="cta-btn">Start a Project &rarr;</a>
</section>

<!-- Cross Promo -->
<section style="max-width:900px;margin:40px auto;padding:0 24px;">
<div style="background:linear-gradient(135deg,rgba(0,212,255,0.1),rgba(168,85,247,0.08));border:1px solid rgba(0,212,255,0.15);border-radius:20px;padding:32px 28px;text-align:center;">
<div style="font-size:13px;color:#818cf8;font-weight:600;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;">Founding Member</div>
<h3 style="font-size:22px;font-weight:800;color:#fff;margin:0 0 8px;">ANIMA on GitHub</h3>
<p style="color:#94a3b8;font-size:14px;margin:0 auto 20px;max-width:500px;">248+ free tools. No signup. Open source. Built by Christian Bucher.</p>
<div style="display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap;">
<a href="/about/" style="display:inline-block;padding:12px 28px;background:linear-gradient(135deg,#00d4ff,#a855f7,#ec4899);color:#fff;border-radius:10px;font-weight:700;font-size:15px;text-decoration:none;">GitHub</a>
<a href="/free-tools/" style="color:#94a3b8;font-size:14px;text-decoration:none;">Browse 250+ Free Tools &rarr;</a>
</div>
</div>
</section>

<!-- AUTO-LINKED by ANIMA Engine -->
<div style="margin:2rem auto;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);max-width:1200px">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/json-formatter.html" style="color:var(--primary);text-decoration:none">JSON Formatter & Validator</a> · <a href="/free-tools/yaml-formatter.html" style="color:var(--primary);text-decoration:none">YAML Formatter</a> · <a href="/free-tools/yaml-json.html" style="color:var(--primary);text-decoration:none">YAML/JSON Converter</a> · <a href="/free-tools/json-editor.html" style="color:var(--primary);text-decoration:none">Visual JSON Editor</a> · <a href="/free-tools/json-to-xml.html" style="color:var(--primary);text-decoration:none">JSON to XML</a></p>
</div>


<!-- AUTO-LINKED by ANIMA Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/box-shadow-generator.html" style="color:var(--primary);text-decoration:none">CSS Box Shadow Generator</a> · <a href="/free-tools/emoji-picker.html" style="color:var(--primary);text-decoration:none">Emoji Picker & Search</a> · <a href="/free-tools/meta-tag-generator.html" style="color:var(--primary);text-decoration:none">Meta Tag Generator</a></p>
</div>

<!-- AUTO-LINKED by ANIMA Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/json-to-yaml-converter.html" style="color:var(--primary);text-decoration:none">Free JSON to YAML Converter</a> · <a href="/free-tools/git-diff-viewer.html" style="color:var(--primary);text-decoration:none">Free Git Diff Viewer</a> · <a href="/free-tools/yaml-editor.html" style="color:var(--primary);text-decoration:none">Free YAML Editor</a></p>
</div>

<!-- AUTO-LINKED by ANIMA Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/yaml-to-json.html" style="color:var(--primary);text-decoration:none">YAML to JSON Converter</a> · <a href="/free-tools/accessibility-checker.html" style="color:var(--primary);text-decoration:none">Free Accessibility Checker</a> · <a href="/free-tools/api-request-builder.html" style="color:var(--primary);text-decoration:none">Free API Request Builder</a></p>
</div>
<footer class="footer fade-in">
  <div class="footer-grid">
    <div class="footer-col">
      <h4>Products</h4>
      <a href="/free-tools/">250+ Free Tools</a>
<a href="/about/">About</a>
<a href="/docs/">Documentation</a>
    </div>
    <div class="footer-col">
      <h4>Explore</h4>
      <a href="/free-tools/">Free Tools</a><a href="/blog/">Blog</a><a href="/about/">FAQ</a><a href="/about/">About</a>
    </div>
    <div class="footer-col">
      <h4>Ecosystem</h4>
      <a href="/">ANIMA Home</a><a href="/#contact">Contact</a><a href="https://github.com/christian140903-sudo/nextool" target="_blank">GitHub</a>
    </div>
  </div>
  <div class="footer-bottom">&copy; 2026 ANIMA. AI-powered tools for everyone.</div>
</footer>

<div class="toast" id="toast"></div>

<script src="https://cdn.jsdelivr.net/npm/js-yaml@4.1.0/dist/js-yaml.min.js"></script>
<script>
/* STATE */
let direction = 'json-to-yaml'; // or 'yaml-to-json'
let lastOutputText = '';

/* DOM */
const leftInput = document.getElementById('leftInput');
const leftLines = document.getElementById('leftLines');
const rightLines = document.getElementById('rightLines');
const outputContent = document.getElementById('outputContent');
const outputWrap = document.getElementById('outputWrap');
const errorOutput = document.getElementById('errorOutput');
const statusDot = document.getElementById('statusDot');
const statusText = document.getElementById('statusText');
const sizeInfo = document.getElementById('sizeInfo');
const leftLabel = document.getElementById('leftLabel');
const rightLabel = document.getElementById('rightLabel');
const leftBadge = document.getElementById('leftBadge');
const rightBadge = document.getElementById('rightBadge');
const leftPanel = document.getElementById('leftPanel');
const rightPanel = document.getElementById('rightPanel');
const dirLabel = document.getElementById('dirLabel');
const dirLabelTo = document.getElementById('dirLabelTo');
const dirToggle = document.getElementById('dirToggle');

/* DEBOUNCE */
function debounce(fn, ms) { let t; return (...a) => { clearTimeout(t); t = setTimeout(() => fn(...a), ms); }; }

/* LINE NUMBERS */
function updateLeftLines() {
  const lines = leftInput.value.split('\n').length;
  leftLines.textContent = Array.from({length: lines}, (_, i) => i + 1).join('\n');
}

function updateRightLines(text) {
  if (!text) { rightLines.textContent = ''; return; }
  const lines = text.split('\n').length;
  rightLines.textContent = Array.from({length: lines}, (_, i) => i + 1).join('\n');
}

/* SYNC SCROLL for line numbers */
leftInput.addEventListener('scroll', () => {
  leftLines.scrollTop = leftInput.scrollTop;
});

/* AUTO-CONVERT ON INPUT */
leftInput.addEventListener('input', debounce(autoConvert, 400));
leftInput.addEventListener('input', updateLeftLines);

function autoConvert() {
  const raw = leftInput.value.trim();
  if (!raw) {
    clearOutput();
    statusDot.className = 'status-dot empty';
    statusText.textContent = 'Paste data to begin';
    sizeInfo.textContent = '';
    return;
  }
  sizeInfo.textContent = formatBytes(new Blob([raw]).size);
  convert();
}

/* CONVERT */
function convert() {
  const raw = leftInput.value.trim();
  if (!raw) return;

  try {
    if (direction === 'json-to-yaml') {
      const obj = JSON.parse(raw);
      const indent = parseInt(document.getElementById('indentSelect').value);
      const flowLevel = document.getElementById('styleSelect').value === 'flow' ? 0 : -1;
      const yamlStr = jsyaml.dump(obj, {
        indent: indent,
        lineWidth: -1,
        noRefs: true,
        flowLevel: flowLevel,
        quotingType: '"',
        forceQuotes: false
      });
      lastOutputText = yamlStr;
      outputContent.innerHTML = highlightYaml(yamlStr);
      updateRightLines(yamlStr);
      showOutput();
      statusDot.className = 'status-dot valid';
      statusText.textContent = 'Valid JSON — Converted to YAML';
    } else {
      const obj = jsyaml.load(raw);
      const indent = parseInt(document.getElementById('indentSelect').value);
      const jsonStr = JSON.stringify(obj, null, indent);
      lastOutputText = jsonStr;
      outputContent.innerHTML = highlightJson(jsonStr);
      updateRightLines(jsonStr);
      showOutput();
      statusDot.className = 'status-dot valid';
      statusText.textContent = 'Valid YAML — Converted to JSON';
    }
  } catch (e) {
    showError(e);
  }
}

/* DIRECTION TOGGLE */
function toggleDirection() {
  if (direction === 'json-to-yaml') {
    direction = 'yaml-to-json';
    leftLabel.textContent = 'YAML';
    rightLabel.textContent = 'JSON';
    dirLabel.textContent = 'YAML';
    dirLabelTo.textContent = 'JSON';
    dirToggle.classList.add('reverse');
    leftInput.placeholder = 'Paste your YAML here...\n\nExample:\nname: ANIMA\nversion: "1.0"';
    leftBadge.style.display = 'inline-block';
    rightBadge.style.display = 'none';
    leftPanel.classList.add('source-panel');
    rightPanel.classList.remove('source-panel');
  } else {
    direction = 'json-to-yaml';
    leftLabel.textContent = 'JSON';
    rightLabel.textContent = 'YAML';
    dirLabel.textContent = 'JSON';
    dirLabelTo.textContent = 'YAML';
    dirToggle.classList.remove('reverse');
    leftInput.placeholder = 'Paste your JSON here...\n\nExample:\n{\n  "name": "ANIMA",\n  "version": "1.0"\n}';
    leftBadge.style.display = 'inline-block';
    rightBadge.style.display = 'none';
    leftPanel.classList.add('source-panel');
    rightPanel.classList.remove('source-panel');
  }
  // Re-convert if there is content
  if (leftInput.value.trim()) convert();
}

/* SYNTAX HIGHLIGHTING: JSON */
function highlightJson(json) {
  return escapeHtml(json).replace(/("(\\u[\da-fA-F]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?|\bnull\b|[{}\[\],])/g, match => {
    let cls = 'hl-num';
    if (/^"/.test(match)) {
      cls = /:$/.test(match) ? 'hl-key' : 'hl-str';
    } else if (/true|false/.test(match)) {
      cls = 'hl-bool';
    } else if (/null/.test(match)) {
      cls = 'hl-null';
    } else if (/[{}\[\],]/.test(match)) {
      cls = 'hl-brace';
    }
    return '<span class="' + cls + '">' + match + '</span>';
  });
}

/* SYNTAX HIGHLIGHTING: YAML */
function highlightYaml(yaml) {
  const lines = yaml.split('\n');
  return lines.map(line => {
    let escaped = escapeHtml(line);
    // Comments
    if (/^\s*#/.test(escaped)) {
      return '<span class="yl-comment">' + escaped + '</span>';
    }
    // Key-value pairs
    if (/^(\s*)([^:\-\s#][^:]*?)(:)(.*)$/.test(escaped)) {
      return escaped.replace(/^(\s*)([^:\-\s#][^:]*?)(:)(.*)$/, function(m, indent, key, colon, val) {
        return indent + '<span class="yl-key">' + key + '</span>' + colon + highlightYamlValue(val);
      });
    }
    // List items
    if (/^(\s*)(- )(.*)$/.test(escaped)) {
      return escaped.replace(/^(\s*)(- )(.*)$/, function(m, indent, dash, val) {
        // Check if the rest is a key: value
        if (/^([^:]+?):(.*)$/.test(val)) {
          return indent + '<span class="yl-dash">' + dash + '</span>' + val.replace(/^([^:]+?):(.*)$/, function(mm, k, v) {
            return '<span class="yl-key">' + k + '</span>:' + highlightYamlValue(v);
          });
        }
        return indent + '<span class="yl-dash">' + dash + '</span>' + highlightYamlValue(val);
      });
    }
    return escaped;
  }).join('\n');
}

function highlightYamlValue(val) {
  val = val.trim();
  if (!val) return '';
  let prefix = val.startsWith(' ') ? ' ' : ' ';
  let v = val.trim();
  if (v === 'true' || v === 'false') return prefix + '<span class="yl-bool">' + v + '</span>';
  if (v === 'null' || v === '~') return prefix + '<span class="yl-null">' + v + '</span>';
  if (/^-?\d+(\.\d+)?([eE][+-]?\d+)?$/.test(v)) return prefix + '<span class="yl-num">' + v + '</span>';
  if (/^["']/.test(v)) return prefix + '<span class="yl-str">' + v + '</span>';
  if (/^[{[]/.test(v)) return prefix + '<span class="hl-brace">' + v + '</span>';
  if (/^\*/.test(v) || /^&/.test(v)) return prefix + '<span class="yl-anchor">' + v + '</span>';
  // Unquoted strings
  if (v.length > 0) return ' <span class="yl-str">' + v + '</span>';
  return ' ' + v;
}

/* ERROR */
function showError(e) {
  const msg = e.message || String(e);
  let html = '<strong>Conversion Error</strong>\n\n';
  html += '<div class="error-line">' + escapeHtml(msg) + '</div>';

  // Try to extract line info
  const lineMatch = msg.match(/line (\d+)/i);
  if (lineMatch) {
    const lineNum = parseInt(lineMatch[1]);
    const lines = leftInput.value.split('\n');
    const start = Math.max(0, lineNum - 3);
    const end = Math.min(lines.length, lineNum + 2);
    html += '\n\nNear line ' + lineNum + ':\n';
    for (let i = start; i < end; i++) {
      const marker = i === lineNum - 1 ? ' >>> ' : '     ';
      html += '<span style="color:' + (i === lineNum - 1 ? 'var(--red)' : 'var(--text2)') + '">' + marker + (i + 1) + ' | ' + escapeHtml(lines[i]) + '</span>\n';
    }
  }

  errorOutput.innerHTML = html;
  errorOutput.style.display = '';
  outputWrap.style.display = 'none';
  statusDot.className = 'status-dot invalid';
  statusText.textContent = direction === 'json-to-yaml' ? 'Invalid JSON' : 'Invalid YAML';
  lastOutputText = '';
}

function showOutput() {
  outputWrap.style.display = '';
  errorOutput.style.display = 'none';
}

function clearOutput() {
  outputContent.innerHTML = '';
  rightLines.textContent = '';
  errorOutput.innerHTML = '';
  errorOutput.style.display = 'none';
  outputWrap.style.display = '';
  lastOutputText = '';
}

function escapeHtml(s) { return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

/* COPY */
function copyLeft() {
  const text = leftInput.value;
  if (!text) { showToast('Nothing to copy'); return; }
  navigator.clipboard.writeText(text).then(() => showToast('Copied input'));
}

function copyRight() {
  if (!lastOutputText) { showToast('Nothing to copy'); return; }
  navigator.clipboard.writeText(lastOutputText).then(() => showToast('Copied output'));
}

/* DOWNLOAD */
function downloadLeft() {
  const text = leftInput.value;
  if (!text.trim()) { showToast('Nothing to download'); return; }
  const ext = direction === 'json-to-yaml' ? 'json' : 'yaml';
  const mime = direction === 'json-to-yaml' ? 'application/json' : 'text/yaml';
  downloadFile(text, 'input.' + ext, mime);
}

function downloadRight() {
  if (!lastOutputText) { showToast('Nothing to download'); return; }
  const ext = direction === 'json-to-yaml' ? 'yaml' : 'json';
  const mime = direction === 'json-to-yaml' ? 'text/yaml' : 'application/json';
  downloadFile(lastOutputText, 'output.' + ext, mime);
}

function downloadFile(content, filename, mime) {
  const blob = new Blob([content], { type: mime });
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = filename;
  a.click();
  URL.revokeObjectURL(a.href);
  showToast('Downloaded ' + filename);
}

/* SAMPLE DATA */
function loadSample() {
  const sampleJson = {
    "name": "ANIMA",
    "version": "2.0.0",
    "description": "AI-powered developer tools",
    "features": {
      "json_converter": true,
      "yaml_support": true,
      "syntax_highlighting": true,
      "bidirectional": true
    },
    "services": [
      "Websites",
      "Chatbots",
      "Automation",
      "Content",
      "Video",
      "Data"
    ],
    "pricing": {
      "starter": 5,
      "pro": 149,
      "enterprise": 499,
      "currency": "USD"
    },
    "metadata": {
      "founded": 2026,
      "open_source": false,
      "maintainers": null,
      "tags": ["AI", "automation", "no-code", "tools"],
      "multiline_example": "This is a longer description\nthat spans multiple lines\nto test YAML multiline handling."
    },
    "active": true
  };

  if (direction === 'json-to-yaml') {
    leftInput.value = JSON.stringify(sampleJson, null, 2);
  } else {
    const indent = parseInt(document.getElementById('indentSelect').value);
    leftInput.value = jsyaml.dump(sampleJson, { indent: indent, lineWidth: -1, noRefs: true });
  }
  updateLeftLines();
  convert();
}

/* CLEAR */
function clearAll() {
  leftInput.value = '';
  clearOutput();
  updateLeftLines();
  statusDot.className = 'status-dot empty';
  statusText.textContent = 'Paste data to begin';
  sizeInfo.textContent = '';
}

/* UTILS */
function formatBytes(bytes) {
  if (bytes === 0) return '0 B';
  const k = 1024, sizes = ['B', 'KB', 'MB'];
  const i = Math.floor(Math.log(bytes) / Math.log(k));
  return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];
}

function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2000);
}

/* TAB KEY */
leftInput.addEventListener('keydown', e => {
  if (e.key === 'Tab') {
    e.preventDefault();
    const start = leftInput.selectionStart, end = leftInput.selectionEnd;
    leftInput.value = leftInput.value.substring(0, start) + '  ' + leftInput.value.substring(end);
    leftInput.selectionStart = leftInput.selectionEnd = start + 2;
    updateLeftLines();
  }
  // Ctrl+Enter to convert
  if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
    e.preventDefault();
    convert();
  }
});

/* GLOBAL KEYBOARD SHORTCUT */
document.addEventListener('keydown', e => {
  if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
    e.preventDefault();
    convert();
  }
});

/* INIT LINE NUMBERS */
updateLeftLines();

/* IntersectionObserver fade-in */
const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('visible'); observer.unobserve(entry.target); }});
}, { threshold: 0.1 });
document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
</script>
<script src="/js/analytics-lite.js" defer></script>
<script src="/js/revenue.js" defer></script>
<script src="/js/lead-capture.js" defer></script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "How do I convert JSON to YAML?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Paste your JSON into the left panel of ANIMA's JSON to YAML Converter. The tool automatically converts it to valid YAML in the right panel with proper indentation, key formatting, and data type handling. You can customize indent size and choose between block or flow style output."
      }
    },
    {
      "@type": "Question",
      "name": "Can I convert YAML to JSON with this tool?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, the converter is fully bidirectional. Click the direction toggle button to switch from JSON-to-YAML mode to YAML-to-JSON mode. Paste your YAML and get properly formatted JSON output instantly."
      }
    },
    {
      "@type": "Question",
      "name": "Is this JSON to YAML converter free?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, ANIMA's JSON to YAML converter is completely free with no signup required. It runs entirely in your browser, so your data never leaves your device. There are no usage limits or file size restrictions."
      }
    },
    {
      "@type": "Question",
      "name": "What is the difference between JSON and YAML?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "JSON (JavaScript Object Notation) uses braces and brackets with strict syntax, while YAML (YAML Ain't Markup Language) uses indentation and is more human-readable. YAML supports comments, multiline strings, and anchors. JSON is preferred for APIs and data interchange, while YAML is popular for configuration files like Docker Compose, Kubernetes, and CI/CD pipelines."
      }
    }
  ]
}
</script>
</body>
</html>
