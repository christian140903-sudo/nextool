<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Barcode Generator — Free Online Code 128, EAN, UPC Generator | NexTool</title>
<meta name="description" content="Free barcode generator. Create Code 128, Code 39, EAN-13, EAN-8, UPC-A barcodes. Download as PNG or SVG. Bulk generation supported.">
<meta property="og:title" content="Barcode Generator — NexTool">
<meta property="og:description" content="Generate Code 128, Code 39, EAN-13, EAN-8, UPC-A barcodes. Download PNG/SVG. Free, no signup.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://nextool.app/free-tools/barcode-generator.html">
<meta property="og:image" content="https://nextool.app/assets/og-default.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Barcode Generator — NexTool">
<meta name="twitter:description" content="Generate Code 128, Code 39, EAN-13, EAN-8, UPC-A barcodes. Download PNG/SVG. Free, no signup.">
<link rel="canonical" href="https://nextool.app/free-tools/barcode-generator.html">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"SoftwareApplication","name":"Barcode Generator","applicationCategory":"UtilitiesApplication","operatingSystem":"Web","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"description":"Free online barcode generator supporting Code 128, Code 39, EAN-13, EAN-8, UPC-A formats.","url":"https://nextool.app/free-tools/barcode-generator.html"}
</script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#050508;--surface:#111118;--surface2:#1a1a24;--primary:#6366f1;--accent:#a855f7;--pink:#ec4899;--text:#e2e8f0;--text-dim:#94a3b8;--radius:12px;--radius-lg:20px;--gradient:linear-gradient(135deg,#6366f1,#a855f7,#ec4899)}
body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--text);line-height:1.6;min-height:100vh}
nav{position:fixed;top:0;left:0;right:0;z-index:100;background:rgba(5,5,8,.85);backdrop-filter:blur(20px);border-bottom:1px solid rgba(99,102,241,.15);padding:0 2rem;height:64px;display:flex;align-items:center;justify-content:space-between}
.nav-logo{display:flex;align-items:center;gap:.6rem;text-decoration:none;font-weight:700;font-size:1.2rem;color:var(--text)}
.nav-logo-icon{width:32px;height:32px;background:var(--gradient);border-radius:8px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1rem;color:#fff}
.nav-links{display:flex;align-items:center;gap:1.5rem}
.nav-links a{color:var(--text-dim);text-decoration:none;font-size:.9rem;font-weight:500;transition:color .2s}
.nav-links a:hover{color:var(--text)}
.nav-badge{background:var(--gradient);color:#fff!important;padding:.4rem .9rem;border-radius:20px;font-size:.8rem;font-weight:600}
main{max-width:1100px;margin:0 auto;padding:100px 1.5rem 3rem}
h1{font-size:2.4rem;font-weight:700;margin-bottom:.5rem;background:var(--gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.subtitle{color:var(--text-dim);font-size:1.1rem;margin-bottom:2rem}
.tool-card{background:var(--surface);border:1px solid rgba(99,102,241,.12);border-radius:var(--radius-lg);padding:2rem;margin-bottom:1.5rem}
.tool-card h3{font-size:1rem;margin-bottom:1rem}
.form-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1rem;margin-bottom:1.5rem}
.field{display:flex;flex-direction:column;gap:.35rem}
.field label{font-size:.8rem;color:var(--text-dim);font-weight:600}
.field input,.field select{background:var(--surface2);border:1px solid rgba(99,102,241,.2);border-radius:var(--radius);padding:.6rem .75rem;color:var(--text);font-family:'Inter',sans-serif;font-size:.9rem;outline:none;transition:border-color .2s}
.field input:focus,.field select:focus{border-color:var(--primary)}
.field input[type="color"]{height:38px;padding:2px;cursor:pointer}
.toggle-row{display:flex;align-items:center;gap:.5rem;margin-bottom:1rem}
.toggle{position:relative;width:44px;height:24px;cursor:pointer}
.toggle input{display:none}
.toggle-track{position:absolute;inset:0;background:var(--surface2);border-radius:12px;border:1px solid rgba(99,102,241,.2);transition:background .2s}
.toggle input:checked+.toggle-track{background:var(--primary);border-color:var(--primary)}
.toggle-thumb{position:absolute;top:3px;left:3px;width:18px;height:18px;background:#fff;border-radius:50%;transition:transform .2s}
.toggle input:checked~.toggle-thumb{transform:translateX(20px)}
.btn{background:var(--gradient);color:#fff;border:none;padding:.75rem 1.5rem;border-radius:var(--radius);font-weight:600;font-size:.9rem;cursor:pointer;transition:opacity .2s;font-family:'Inter',sans-serif;text-decoration:none;display:inline-block}
.btn:hover{opacity:.9}
.btn-sm{padding:.5rem 1rem;font-size:.8rem}
.btn-outline{background:transparent;border:1px solid rgba(99,102,241,.3);color:var(--primary)}
.btn-outline:hover{background:rgba(99,102,241,.1);opacity:1}
.btn-row{display:flex;gap:.5rem;flex-wrap:wrap;margin-top:1rem}
.barcode-preview{display:flex;justify-content:center;align-items:center;background:#fff;border-radius:var(--radius);padding:2rem;margin:1.5rem 0;min-height:150px}
.barcode-preview canvas{max-width:100%}
.error-msg{color:#f87171;font-size:.85rem;margin-top:.5rem}
textarea{width:100%;background:var(--surface2);border:1px solid rgba(99,102,241,.2);border-radius:var(--radius);padding:.75rem 1rem;color:var(--text);font-family:'JetBrains Mono',monospace;font-size:.85rem;outline:none;resize:vertical;min-height:80px}
.bulk-results{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem;margin-top:1rem}
.bulk-item{background:#fff;border-radius:var(--radius);padding:1rem;text-align:center}
.bulk-item canvas{max-width:100%}
.bulk-item p{margin-top:.5rem;font-size:.8rem;color:#333;font-family:'JetBrains Mono',monospace}
.cta-section{background:var(--surface);border:1px solid rgba(99,102,241,.15);border-radius:var(--radius-lg);padding:3rem;text-align:center;margin:3rem 0 2rem}
.cta-section h2{font-size:1.8rem;margin-bottom:.75rem;background:var(--gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.cta-section p{color:var(--text-dim);margin-bottom:1.5rem;max-width:500px;margin-left:auto;margin-right:auto}
.cta-buttons{display:flex;gap:1rem;justify-content:center;flex-wrap:wrap}
footer{border-top:1px solid rgba(99,102,241,.1);padding:2rem;text-align:center;color:var(--text-dim);font-size:.85rem}
footer a{color:var(--text-dim);text-decoration:none;margin:0 .75rem}
footer a:hover{color:var(--text)}
@media(max-width:600px){
h1{font-size:1.6rem}
.tool-card{padding:1.25rem}
main{padding:80px 1rem 2rem}
.form-grid{grid-template-columns:1fr}
nav{padding:0 1rem}
.nav-links{gap:.75rem}
.nav-links a:not(.nav-badge){display:none}
.bulk-results{grid-template-columns:1fr}
}
</style>
</head>
<body>
<nav>
<a href="/" class="nav-logo"><div class="nav-logo-icon">N</div>NexTool</a>
<div class="nav-links">
<a href="/">Home</a>
<a href="/free-tools/">Free Tools</a>
<a href="/pro.html" class="nav-badge">Get Pro</a>
</div>
</nav>
<main>
<h1>Barcode Generator</h1>
<p class="subtitle">Generate Code 128, Code 39, EAN-13, EAN-8, and UPC-A barcodes. Download as PNG or SVG.</p>

<div class="tool-card">
<h3>Single Barcode</h3>
<div class="form-grid">
<div class="field">
<label>Barcode Format</label>
<select id="barcodeFormat" onchange="updateValidation()">
<option value="code128">Code 128</option>
<option value="code39">Code 39</option>
<option value="ean13">EAN-13</option>
<option value="ean8">EAN-8</option>
<option value="upca">UPC-A</option>
</select>
</div>
<div class="field">
<label>Data / Value</label>
<input type="text" id="barcodeData" placeholder="Enter barcode data" oninput="scheduleGenerate()">
</div>
<div class="field">
<label>Bar Width (px)</label>
<input type="number" id="barWidth" value="2" min="1" max="6" oninput="scheduleGenerate()">
</div>
<div class="field">
<label>Height (px)</label>
<input type="number" id="barHeight" value="80" min="20" max="300" oninput="scheduleGenerate()">
</div>
<div class="field">
<label>Bar Color</label>
<input type="color" id="barColor" value="#000000" oninput="scheduleGenerate()">
</div>
<div class="field">
<label>Background</label>
<input type="color" id="bgColor" value="#ffffff" oninput="scheduleGenerate()">
</div>
</div>
<div class="toggle-row">
<label class="toggle"><input type="checkbox" id="showText" checked onchange="scheduleGenerate()"><span class="toggle-track"></span><span class="toggle-thumb"></span></label>
<span style="font-size:.85rem">Show text below barcode</span>
</div>
<div id="errorMsg" class="error-msg"></div>
<div class="barcode-preview"><canvas id="barcodeCanvas"></canvas></div>
<div class="btn-row">
<button class="btn btn-sm" onclick="downloadPNG()">Download PNG</button>
<button class="btn btn-sm btn-outline" onclick="downloadSVG()">Download SVG</button>
<button class="btn btn-sm btn-outline" onclick="printBarcode()">Print</button>
</div>
</div>

<div class="tool-card">
<h3>Bulk Generation</h3>
<p style="font-size:.85rem;color:var(--text-dim);margin-bottom:.75rem">Enter one value per line. Uses the format selected above.</p>
<textarea id="bulkData" placeholder="ABC-001&#10;ABC-002&#10;ABC-003"></textarea>
<div class="btn-row"><button class="btn" onclick="bulkGenerate()">Generate All</button></div>
<div class="bulk-results" id="bulkResults"></div>
</div>

<div class="tool-card">
<h3>Check Digit Calculator</h3>
<div class="form-grid">
<div class="field">
<label>Format</label>
<select id="checkFormat">
<option value="ean13">EAN-13 (enter 12 digits)</option>
<option value="ean8">EAN-8 (enter 7 digits)</option>
<option value="upca">UPC-A (enter 11 digits)</option>
</select>
</div>
<div class="field">
<label>Digits (without check digit)</label>
<input type="text" id="checkInput" placeholder="Enter digits">
</div>
</div>
<div class="btn-row"><button class="btn btn-sm" onclick="calcCheckDigit()">Calculate</button></div>
<p id="checkResult" style="margin-top:.75rem;font-family:'JetBrains Mono',monospace;font-size:.9rem"></p>
</div>

<div class="cta-section">
<h2>Want More Power Tools?</h2>
<p>Get 100+ premium tools in the NexTool Ultimate Bundle. One payment, lifetime access, no subscriptions.</p>
<div class="cta-buttons">
<a href="/pro.html" class="btn">Get NexTool Pro — $29</a>
<a href="/free-tools/" class="btn btn-outline">Browse 220+ Free Tools &rarr;</a>
</div>
</div>
</main>

<!-- AUTO-LINKED by NexTool Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/box-shadow-generator.html" style="color:var(--primary);text-decoration:none">CSS Box Shadow Generator</a> · <a href="/free-tools/emoji-picker.html" style="color:var(--primary);text-decoration:none">Emoji Picker & Search</a> · <a href="/free-tools/meta-tag-generator.html" style="color:var(--primary);text-decoration:none">Meta Tag Generator</a> · <a href="/free-tools/color-palette.html" style="color:var(--primary);text-decoration:none">Free Color Palette Generator</a> · <a href="/free-tools/favicon-generator.html" style="color:var(--primary);text-decoration:none">Favicon Generator</a></p>
</div>

<!-- AUTO-LINKED by NexTool Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/icon-generator.html" style="color:var(--primary);text-decoration:none">Free Icon Generator</a> · <a href="/free-tools/git-diff-viewer.html" style="color:var(--primary);text-decoration:none">Free Git Diff Viewer</a> · <a href="/free-tools/hash-generator.html" style="color:var(--primary);text-decoration:none">Hash Generator</a></p>
</div>
<footer>
<a href="/">Home</a>
<a href="/free-tools/">Tools</a>
<a href="/blog/">Blog</a>
<a href="/pro.html">Pro</a>
<a href="/#contact">Contact</a>
<p style="margin-top:1rem">&copy; 2026 NexTool. All rights reserved.</p>
</footer>
<script>
let genTimer=null;
function scheduleGenerate(){clearTimeout(genTimer);genTimer=setTimeout(generateBarcode,200);}
function updateValidation(){document.getElementById('errorMsg').textContent='';scheduleGenerate();}

/* ============ CODE 128 ENCODER ============ */
const C128={
START_B:104,STOP:106,FNC1:102,
TABLE:[
'11011001100','11001101100','11001100110','10010011000','10010001100',
'10001001100','10011001000','10011000100','10001100100','11001001000',
'11001000100','11000100100','10110011100','10011011100','10011001110',
'10111001100','10011101100','10011100110','11001110010','11001011100',
'11001001110','11011100100','11001110100','11100110100','11100100110',
'11101100100','11100110010','11011011000','11011000110','11000110110',
'10100011000','10001011000','10001000110','10110001000','10001101000',
'10001100010','11010001000','11000101000','11000100010','10110111000',
'10110001110','10001101110','10111011000','10111000110','10001110110',
'11101110110','11010001110','11000101110','11011101000','11011100010',
'11011101110','11101011000','11101000110','11100010110','11101101000',
'11101100010','11100011010','11101111010','11001000010','11110001010',
'10100110000','10100001100','10010110000','10010000110','10000101100',
'10000100110','10110010000','10110000100','10011010000','10011000010',
'10000110100','10000110010','11000010010','11001010000','11110111010',
'11000010100','10001111010','10100111100','10010111100','10010011110',
'10111100100','10011110100','10011110010','11110100100','11110010100',
'11110010010','11011011110','11011110110','11110110110','10101111000',
'10100011110','10001011110','10111101000','10111100010','11110101000',
'11110100010','10111011110','10111101110','11101011110','11110101110',
'11010000100','11010010000','11010011100','1100011101011'
],
encode(text){
let codes=[this.START_B];
for(let i=0;i<text.length;i++){
const c=text.charCodeAt(i)-32;
if(c<0||c>95) return null;
codes.push(c);
}
let checksum=codes[0];
for(let i=1;i<codes.length;i++) checksum+=codes[i]*i;
codes.push(checksum%103);
codes.push(this.STOP);
return codes.map(c=>this.TABLE[c]).join('');
}
};

/* ============ CODE 39 ENCODER ============ */
const C39={
CHARS:'0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%*',
PATTERNS:[
'101001101101','110100101011','101100101011','110110010101','101001101011',
'110100110101','101100110101','101001011011','110100101101','101100101101',
'110101001011','101101001011','110110100101','101011001011','110101100101',
'101101100101','101010011011','110101001101','101101001101','101011001101',
'110101010011','101101010011','110110101001','101011010011','110101101001',
'101101101001','101010110011','110101011001','101101011001','101011011001',
'110010101011','100110101011','110011010101','100101101011','110010110101',
'100110110101','100101011011','110010101101','100110101101','100100100101',
'100100101001','100101001001','101001001001','100101101101'
],
encode(text){
text=text.toUpperCase();
let bits=this.PATTERNS[43]+'0'; // Start *
for(let i=0;i<text.length;i++){
const idx=this.CHARS.indexOf(text[i]);
if(idx<0) return null;
bits+=this.PATTERNS[idx]+'0';
}
bits+=this.PATTERNS[43]; // Stop *
return bits;
}
};

/* ============ EAN/UPC ENCODER ============ */
const EAN={
L:['0001101','0011001','0010011','0111101','0100011','0110001','0101111','0111011','0110111','0001011'],
G:['0100111','0110011','0011011','0100001','0011101','0111001','0000101','0010001','0001001','0010111'],
R:['1110010','1100110','1101100','1000010','1011100','1001110','1010000','1000100','1001000','1110100'],
PARITY:['LLLLLL','LLGLGG','LLGGLG','LLGGGL','LGLLGG','LGGLLG','LGGGLL','LGLGLG','LGLGGL','LGGLGL'],
checkDigit(digits){
let sum=0;
for(let i=0;i<digits.length;i++){
sum+=parseInt(digits[i])*(i%2===0?1:3);
}
return(10-(sum%10))%10;
},
checkDigitUPC(digits){
let sum=0;
for(let i=0;i<digits.length;i++){
sum+=parseInt(digits[i])*(i%2===0?3:1);
}
return(10-(sum%10))%10;
},
encodeEAN13(digits){
if(digits.length!==13) return null;
const parity=this.PARITY[parseInt(digits[0])];
let bits='101'; // Start
for(let i=1;i<=6;i++){
const d=parseInt(digits[i]);
bits+=parity[i-1]==='L'?this.L[d]:this.G[d];
}
bits+='01010'; // Center
for(let i=7;i<=12;i++){
bits+=this.R[parseInt(digits[i])];
}
bits+='101'; // End
return bits;
},
encodeEAN8(digits){
if(digits.length!==8) return null;
let bits='101';
for(let i=0;i<4;i++) bits+=this.L[parseInt(digits[i])];
bits+='01010';
for(let i=4;i<8;i++) bits+=this.R[parseInt(digits[i])];
bits+='101';
return bits;
},
encodeUPCA(digits){
if(digits.length!==12) return null;
let bits='101';
for(let i=0;i<6;i++) bits+=this.L[parseInt(digits[i])];
bits+='01010';
for(let i=6;i<12;i++) bits+=this.R[parseInt(digits[i])];
bits+='101';
return bits;
}
};

function generateBarcode(){
const format=document.getElementById('barcodeFormat').value;
const data=document.getElementById('barcodeData').value;
const barW=parseInt(document.getElementById('barWidth').value)||2;
const barH=parseInt(document.getElementById('barHeight').value)||80;
const barColor=document.getElementById('barColor').value;
const bgColor=document.getElementById('bgColor').value;
const showText=document.getElementById('showText').checked;
const errEl=document.getElementById('errorMsg');
errEl.textContent='';
if(!data){renderEmpty();return;}

let bits=null;
let displayText=data;

if(format==='code128'){
bits=C128.encode(data);
if(!bits) errEl.textContent='Invalid characters for Code 128 (ASCII 32-127 supported).';
}else if(format==='code39'){
bits=C39.encode(data);
if(!bits) errEl.textContent='Invalid characters for Code 39 (0-9, A-Z, -, ., space, $, /, +, %).';
displayText='*'+data.toUpperCase()+'*';
}else if(format==='ean13'){
let d=data.replace(/\D/g,'');
if(d.length===12) d+=EAN.checkDigit(d);
if(d.length!==13){errEl.textContent='EAN-13 requires exactly 12 or 13 digits.';renderEmpty();return;}
const expected=EAN.checkDigit(d.slice(0,12));
if(parseInt(d[12])!==expected){errEl.textContent=`Check digit mismatch. Expected: ${expected}`;renderEmpty();return;}
bits=EAN.encodeEAN13(d);displayText=d;
}else if(format==='ean8'){
let d=data.replace(/\D/g,'');
if(d.length===7) d+=EAN.checkDigitUPC(d);
if(d.length!==8){errEl.textContent='EAN-8 requires exactly 7 or 8 digits.';renderEmpty();return;}
bits=EAN.encodeEAN8(d);displayText=d;
}else if(format==='upca'){
let d=data.replace(/\D/g,'');
if(d.length===11) d+=EAN.checkDigitUPC(d);
if(d.length!==12){errEl.textContent='UPC-A requires exactly 11 or 12 digits.';renderEmpty();return;}
bits=EAN.encodeUPCA(d);displayText=d;
}
if(!bits){renderEmpty();return;}
renderBarcode(document.getElementById('barcodeCanvas'),bits,displayText,barW,barH,barColor,bgColor,showText);
}

function renderBarcode(canvas,bits,text,barW,barH,barColor,bgColor,showText){
const textH=showText?24:0;
const padding=20;
const width=bits.length*barW+padding*2;
const height=barH+textH+padding*2;
canvas.width=width;canvas.height=height;
const ctx=canvas.getContext('2d');
ctx.fillStyle=bgColor;ctx.fillRect(0,0,width,height);
ctx.fillStyle=barColor;
for(let i=0;i<bits.length;i++){
if(bits[i]==='1') ctx.fillRect(padding+i*barW,padding,barW,barH);
}
if(showText&&text){
ctx.fillStyle=barColor;
ctx.font=`500 ${Math.min(14,barW*6)}px "JetBrains Mono", monospace`;
ctx.textAlign='center';
ctx.textBaseline='top';
ctx.fillText(text,width/2,padding+barH+4);
}
}

function renderEmpty(){
const c=document.getElementById('barcodeCanvas');
c.width=400;c.height=150;
const ctx=c.getContext('2d');
ctx.fillStyle='#ffffff';ctx.fillRect(0,0,400,150);
ctx.fillStyle='#94a3b8';ctx.font='500 14px Inter, sans-serif';
ctx.textAlign='center';ctx.textBaseline='middle';
ctx.fillText('Enter data to generate barcode',200,75);
}

function downloadPNG(){
const c=document.getElementById('barcodeCanvas');
if(!c.width) return;
const a=document.createElement('a');a.download='barcode.png';a.href=c.toDataURL('image/png');
document.body.appendChild(a);a.click();document.body.removeChild(a);
}

function downloadSVG(){
const c=document.getElementById('barcodeCanvas');
if(!c.width) return;
const format=document.getElementById('barcodeFormat').value;
const data=document.getElementById('barcodeData').value;
const barW=parseInt(document.getElementById('barWidth').value)||2;
const barH=parseInt(document.getElementById('barHeight').value)||80;
const barColor=document.getElementById('barColor').value;
const bgColor=document.getElementById('bgColor').value;
const showText=document.getElementById('showText').checked;
let bits=null,displayText=data;
if(format==='code128') bits=C128.encode(data);
else if(format==='code39'){bits=C39.encode(data);displayText='*'+data.toUpperCase()+'*';}
else if(format==='ean13'){let d=data.replace(/\D/g,'');if(d.length===12)d+=EAN.checkDigit(d);bits=EAN.encodeEAN13(d);displayText=d;}
else if(format==='ean8'){let d=data.replace(/\D/g,'');if(d.length===7)d+=EAN.checkDigitUPC(d);bits=EAN.encodeEAN8(d);displayText=d;}
else if(format==='upca'){let d=data.replace(/\D/g,'');if(d.length===11)d+=EAN.checkDigitUPC(d);bits=EAN.encodeUPCA(d);displayText=d;}
if(!bits) return;
const pad=20;const textH=showText?24:0;
const w=bits.length*barW+pad*2;const h=barH+textH+pad*2;
let svg=`<svg xmlns="http://www.w3.org/2000/svg" width="${w}" height="${h}"><rect width="${w}" height="${h}" fill="${bgColor}"/>`;
for(let i=0;i<bits.length;i++){
if(bits[i]==='1') svg+=`<rect x="${pad+i*barW}" y="${pad}" width="${barW}" height="${barH}" fill="${barColor}"/>`;
}
if(showText) svg+=`<text x="${w/2}" y="${pad+barH+16}" text-anchor="middle" font-family="monospace" font-size="14" fill="${barColor}">${displayText}</text>`;
svg+=`</svg>`;
const blob=new Blob([svg],{type:'image/svg+xml'});
const url=URL.createObjectURL(blob);
const a=document.createElement('a');a.download='barcode.svg';a.href=url;document.body.appendChild(a);a.click();
setTimeout(()=>{document.body.removeChild(a);URL.revokeObjectURL(url);},100);
}

function printBarcode(){
const c=document.getElementById('barcodeCanvas');
const w=window.open('','_blank');
w.document.write(`<!DOCTYPE html><html><head><title>Print Barcode</title><style>body{display:flex;justify-content:center;align-items:center;min-height:100vh;margin:0}@media print{body{padding:0}}</style></head><body><img src="${c.toDataURL('image/png')}"><script>window.onload=function(){window.print();}<\/script></body></html>`);
w.document.close();
}

function bulkGenerate(){
const lines=document.getElementById('bulkData').value.split('\n').map(l=>l.trim()).filter(Boolean);
if(!lines.length) return;
const format=document.getElementById('barcodeFormat').value;
const barW=parseInt(document.getElementById('barWidth').value)||2;
const barH=parseInt(document.getElementById('barHeight').value)||80;
const barColor=document.getElementById('barColor').value;
const bgColor=document.getElementById('bgColor').value;
const showText=document.getElementById('showText').checked;
const container=document.getElementById('bulkResults');
container.innerHTML='';
lines.forEach(val=>{
let bits=null,displayText=val;
if(format==='code128') bits=C128.encode(val);
else if(format==='code39'){bits=C39.encode(val);displayText='*'+val.toUpperCase()+'*';}
else if(format==='ean13'){let d=val.replace(/\D/g,'');if(d.length===12)d+=EAN.checkDigit(d);if(d.length===13)bits=EAN.encodeEAN13(d);displayText=d;}
else if(format==='ean8'){let d=val.replace(/\D/g,'');if(d.length===7)d+=EAN.checkDigitUPC(d);if(d.length===8)bits=EAN.encodeEAN8(d);displayText=d;}
else if(format==='upca'){let d=val.replace(/\D/g,'');if(d.length===11)d+=EAN.checkDigitUPC(d);if(d.length===12)bits=EAN.encodeUPCA(d);displayText=d;}
const item=document.createElement('div');item.className='bulk-item';
const canvas=document.createElement('canvas');
if(bits){renderBarcode(canvas,bits,displayText,barW,barH,barColor,bgColor,showText);}
else{canvas.width=200;canvas.height=50;const ctx=canvas.getContext('2d');ctx.fillStyle='#f87171';ctx.font='12px sans-serif';ctx.fillText('Invalid: '+val,10,30);}
item.appendChild(canvas);
const p=document.createElement('p');p.textContent=val;item.appendChild(p);
container.appendChild(item);
});
}

function calcCheckDigit(){
const format=document.getElementById('checkFormat').value;
const input=document.getElementById('checkInput').value.replace(/\D/g,'');
const result=document.getElementById('checkResult');
let expected,full;
if(format==='ean13'){
if(input.length!==12){result.textContent='EAN-13 needs exactly 12 digits.';return;}
const cd=EAN.checkDigit(input);full=input+cd;
result.innerHTML=`Check digit: <strong>${cd}</strong> &mdash; Full code: <strong>${full}</strong>`;
}else if(format==='ean8'){
if(input.length!==7){result.textContent='EAN-8 needs exactly 7 digits.';return;}
const cd=EAN.checkDigitUPC(input);full=input+cd;
result.innerHTML=`Check digit: <strong>${cd}</strong> &mdash; Full code: <strong>${full}</strong>`;
}else{
if(input.length!==11){result.textContent='UPC-A needs exactly 11 digits.';return;}
const cd=EAN.checkDigitUPC(input);full=input+cd;
result.innerHTML=`Check digit: <strong>${cd}</strong> &mdash; Full code: <strong>${full}</strong>`;
}
}

renderEmpty();
</script>
<script src="/js/revenue.js" defer></script>
<script src="/js/lead-capture.js" defer></script>
<script src="/js/analytics-lite.js" defer></script>
</body>
</html>
