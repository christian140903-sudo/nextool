<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Text Diff Checker — Compare Text Side by Side | NexTool</title>
<meta name="description" content="Compare two texts and see differences highlighted. Side-by-side and inline diff views with line numbers and statistics. Free online tool by NexTool.">
<meta name="keywords" content="diff checker, text compare, text diff, side by side diff, inline diff, compare files, NexTool">
<meta property="og:title" content="Free Text Diff Checker | NexTool">
<meta property="og:description" content="Compare two texts and see differences highlighted. Side-by-side and inline diff with statistics.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://nextool.app/free-tools/diff-checker.html">
<meta property="og:image" content="https://nextool.app/assets/og-default.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<link rel="canonical" href="https://nextool.app/free-tools/diff-checker.html">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Free Text Diff Checker | NexTool">
<meta name="twitter:description" content="Compare two texts side by side with highlighted differences. Free online tool.">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"SoftwareApplication","name":"NexTool Text Diff Checker","applicationCategory":"DeveloperApplication","operatingSystem":"Web","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"description":"Compare two texts and see differences highlighted with side-by-side and inline diff views."}
</script>
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#050508;--surface:#111118;--surface2:#1a1a24;--border:#252533;--primary:#6366f1;--accent:#a855f7;--pink:#ec4899;--text:#e2e8f0;--text2:#94a3b8;--radius:12px;--glass:rgba(17,17,24,.7);--added-bg:rgba(34,197,94,.12);--added-text:#4ade80;--added-border:#166534;--deleted-bg:rgba(239,68,68,.12);--deleted-text:#f87171;--deleted-border:#991b1b;--changed-bg:rgba(250,204,21,.08);--changed-text:#fbbf24}
html{scroll-behavior:smooth}
body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);line-height:1.6;overflow-x:hidden}
a{color:var(--primary);text-decoration:none}
.nav{position:sticky;top:0;z-index:100;backdrop-filter:blur(20px);background:rgba(5,5,8,.85);border-bottom:1px solid var(--border);padding:0 24px}
.nav-inner{max-width:1200px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;height:64px}
.logo{font-weight:800;font-size:1.35rem;background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.nav-links{display:flex;gap:28px;align-items:center}
.nav-links a{color:var(--text2);font-size:.9rem;font-weight:500;transition:color .2s}
.nav-links a:hover{color:var(--text)}
.nav-links a.active{color:var(--primary)}
.btn-cta{background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;padding:9px 22px;border-radius:8px;font-weight:600;font-size:.85rem;border:none;cursor:pointer;transition:transform .2s,box-shadow .2s}
.btn-cta:hover{transform:translateY(-1px);box-shadow:0 4px 20px rgba(99,102,241,.4)}
.mobile-toggle{display:none;background:none;border:none;color:var(--text);font-size:1.5rem;cursor:pointer}
.hero{text-align:center;padding:80px 24px 40px;max-width:800px;margin:0 auto}
.hero .badge{display:inline-block;padding:6px 16px;border-radius:20px;background:var(--surface);border:1px solid var(--border);font-size:.8rem;color:var(--accent);font-weight:600;margin-bottom:20px}
.hero h1{font-size:clamp(2rem,5vw,3rem);font-weight:800;line-height:1.15;margin-bottom:16px}
.hero h1 .grad{background:linear-gradient(135deg,var(--primary),var(--accent),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hero p{color:var(--text2);font-size:1.05rem;max-width:560px;margin:0 auto}
.tool-section{max-width:1200px;margin:0 auto;padding:0 24px 60px}
.glass-card{background:var(--glass);backdrop-filter:blur(16px);border:1px solid var(--border);border-radius:var(--radius);padding:32px;transition:transform .3s,box-shadow .3s;margin-bottom:24px}
.glass-card:hover{box-shadow:0 8px 40px rgba(99,102,241,.1)}
/* Input grid */
.input-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px}
.input-pane label{display:flex;justify-content:space-between;align-items:center;font-weight:600;font-size:.82rem;margin-bottom:8px;color:var(--text2)}
.label-btn{background:none;border:none;color:var(--text2);cursor:pointer;font-size:.78rem;font-weight:600;font-family:inherit;padding:2px 6px;border-radius:4px;transition:color .2s}
.label-btn:hover{color:var(--primary)}
textarea.diff-input{width:100%;min-height:240px;background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:14px;color:var(--text);font-size:.84rem;font-family:'SF Mono','Fira Code','Cascadia Code',Consolas,monospace;line-height:1.6;resize:vertical;tab-size:2;transition:border-color .2s}
textarea.diff-input:focus{outline:none;border-color:var(--primary)}
/* Controls */
.controls{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-bottom:20px}
.controls .action-btn{padding:10px 22px;border-radius:8px;font-weight:600;font-size:.85rem;cursor:pointer;border:1px solid var(--border);background:var(--surface2);color:var(--text);transition:all .2s;font-family:inherit}
.controls .action-btn:hover{border-color:var(--primary);color:var(--primary)}
.controls .action-btn.primary{background:linear-gradient(135deg,var(--primary),var(--accent));border:none;color:#fff}
.controls .action-btn.primary:hover{transform:translateY(-1px);box-shadow:0 4px 16px rgba(99,102,241,.35)}
.controls .spacer{flex:1}
.view-toggle{display:flex;gap:4px;background:var(--surface2);border-radius:8px;padding:3px}
.view-btn{padding:7px 16px;border-radius:6px;background:none;border:none;color:var(--text2);font-size:.8rem;font-weight:600;cursor:pointer;font-family:inherit;transition:all .2s}
.view-btn.active{background:var(--primary);color:#fff}
/* Stats */
.diff-stats{display:flex;gap:20px;padding:14px 20px;background:var(--surface2);border-radius:8px;margin-bottom:20px;flex-wrap:wrap}
.stat-item{display:flex;align-items:center;gap:6px;font-size:.85rem;font-weight:600}
.stat-dot{width:10px;height:10px;border-radius:50%}
.stat-dot.added{background:var(--added-text)}
.stat-dot.deleted{background:var(--deleted-text)}
.stat-dot.changed{background:var(--changed-text)}
.stat-dot.unchanged{background:var(--text2)}
/* Diff output */
.diff-output{background:var(--surface2);border:1px solid var(--border);border-radius:8px;overflow:auto;max-height:600px;font-family:'SF Mono','Fira Code','Cascadia Code',Consolas,monospace;font-size:.82rem;line-height:1.7}
.diff-output:empty{min-height:100px;display:flex;align-items:center;justify-content:center}
.diff-output:empty::after{content:'Click "Compare" to see differences';color:var(--text2);font-family:inherit;font-style:italic;font-size:.85rem}
/* Side-by-side view */
.sbs-table{width:100%;border-collapse:collapse}
.sbs-table td{padding:0 12px;vertical-align:top;white-space:pre-wrap;word-break:break-all}
.sbs-table .ln{width:42px;min-width:42px;text-align:right;color:var(--text2);opacity:.5;user-select:none;padding-right:8px;border-right:1px solid var(--border)}
.sbs-table .code{padding-left:12px}
.sbs-table .divider{width:1px;background:var(--border);padding:0}
.sbs-table tr.added td{background:var(--added-bg)}
.sbs-table tr.added .code{color:var(--added-text)}
.sbs-table tr.deleted td{background:var(--deleted-bg)}
.sbs-table tr.deleted .code{color:var(--deleted-text)}
.sbs-table tr.changed td.left-side{background:var(--deleted-bg)}
.sbs-table tr.changed td.right-side{background:var(--added-bg)}
.sbs-table tr.changed td.left-side .code-inner{color:var(--deleted-text)}
.sbs-table tr.changed td.right-side .code-inner{color:var(--added-text)}
/* Inline view */
.inline-table{width:100%;border-collapse:collapse}
.inline-table td{padding:0 12px;vertical-align:top;white-space:pre-wrap;word-break:break-all}
.inline-table .ln{width:42px;min-width:42px;text-align:right;color:var(--text2);opacity:.5;user-select:none;padding-right:8px;border-right:1px solid var(--border)}
.inline-table .marker{width:20px;text-align:center;font-weight:700;user-select:none}
.inline-table .code{padding-left:8px}
.inline-table tr.added{background:var(--added-bg)}
.inline-table tr.added .code{color:var(--added-text)}
.inline-table tr.added .marker{color:var(--added-text)}
.inline-table tr.deleted{background:var(--deleted-bg)}
.inline-table tr.deleted .code{color:var(--deleted-text)}
.inline-table tr.deleted .marker{color:var(--deleted-text)}
/* Word-level highlights */
.hl-add{background:rgba(34,197,94,.25);border-radius:2px;padding:0 1px}
.hl-del{background:rgba(239,68,68,.25);border-radius:2px;padding:0 1px;text-decoration:line-through;opacity:.8}
/* CTA */
.cta-bottom{text-align:center;padding:80px 24px;max-width:700px;margin:0 auto}
.cta-bottom h2{font-size:clamp(1.5rem,3.5vw,2.2rem);font-weight:800;margin-bottom:14px}
.cta-bottom h2 .grad{background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.cta-bottom p{color:var(--text2);margin-bottom:28px;font-size:1rem}
/* FOOTER */
footer{border-top:1px solid var(--border);padding:60px 24px 32px;max-width:1200px;margin:0 auto}
.footer-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:40px;margin-bottom:40px}
.footer-col h4{font-size:.85rem;font-weight:700;margin-bottom:16px;color:var(--text)}
.footer-col a{display:block;color:var(--text2);font-size:.85rem;margin-bottom:10px;transition:color .2s}
.footer-col a:hover{color:var(--primary)}
.footer-bottom{text-align:center;color:var(--text2);font-size:.8rem;padding-top:24px;border-top:1px solid var(--border)}
@keyframes fadeUp{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
.fade-in{opacity:0;transform:translateY(24px);transition:opacity .6s,transform .6s}.fade-in.visible{opacity:1;transform:translateY(0)}
.toast{position:fixed;bottom:32px;left:50%;transform:translateX(-50%) translateY(80px);background:var(--primary);color:#fff;padding:12px 28px;border-radius:10px;font-weight:600;font-size:.9rem;z-index:200;transition:transform .35s cubic-bezier(.4,0,.2,1);pointer-events:none}
.toast.show{transform:translateX(-50%) translateY(0)}
@media(max-width:768px){
  .nav-links{display:none;position:absolute;top:64px;left:0;right:0;background:var(--surface);flex-direction:column;padding:20px;gap:16px;border-bottom:1px solid var(--border)}
  .nav-links.open{display:flex}
  .mobile-toggle{display:block}
  .input-grid{grid-template-columns:1fr}
  .footer-grid{grid-template-columns:1fr 1fr}
  .glass-card{padding:24px 18px}
  .controls{flex-direction:column;align-items:stretch}
  .controls .spacer{display:none}
  .diff-stats{justify-content:center}
}
</style>
</head>
<body>
<nav class="nav"><div class="nav-inner">
  <a href="/" class="logo">NexTool</a>
  <button class="mobile-toggle" onclick="document.querySelector('.nav-links').classList.toggle('open')" aria-label="Menu">&#9776;</button>
  <div class="nav-links">
    <a href="/">Home</a><a href="/free-tools/">Tools</a><a href="/free-tools/" class="active">Free Tools</a><a href="/blog/">Blog</a>
    <a href="#contact" class="btn-cta">Get Pro — $29</a>
  </div>
</div></nav>

<section class="hero fade-in">
  <div class="badge">Free Tool</div>
  <h1>Text <span class="grad">Diff Checker</span></h1>
  <p class="tool-summary" style="color:#94a3b8;font-size:15px;line-height:1.6;margin-bottom:24px;max-width:700px;margin-left:auto;margin-right:auto;">Compare two blocks of text and instantly see every difference highlighted. Features side-by-side and inline diff views with line numbers, word-level change detection, and statistics for added, deleted, changed, and unchanged lines. Uses a Myers diff algorithm for accurate results.</p>
  <p>Compare two texts side by side and see every addition, deletion, and change highlighted with line numbers and statistics.</p>
</section>

<section class="tool-section">
  <div class="glass-card fade-in">
    <div class="input-grid">
      <div class="input-pane">
        <label>Original Text <div><button class="label-btn" onclick="loadSample()">Sample</button><button class="label-btn" onclick="document.getElementById('left').value=''">Clear</button></div></label>
        <textarea class="diff-input" id="left" placeholder="Paste original text here..." spellcheck="false"></textarea>
      </div>
      <div class="input-pane">
        <label>Modified Text <div><button class="label-btn" onclick="swapTexts()">Swap</button><button class="label-btn" onclick="document.getElementById('right').value=''">Clear</button></div></label>
        <textarea class="diff-input" id="right" placeholder="Paste modified text here..." spellcheck="false"></textarea>
      </div>
    </div>
    <div class="controls">
      <button class="action-btn primary" onclick="runDiff()">Compare</button>
      <button class="action-btn" onclick="clearAll()">Clear All</button>
      <div class="spacer"></div>
      <div class="view-toggle">
        <button class="view-btn active" data-view="sbs" onclick="setView('sbs')">Side by Side</button>
        <button class="view-btn" data-view="inline" onclick="setView('inline')">Inline</button>
      </div>
    </div>
  </div>

  <div id="stats-container" style="display:none">
    <div class="diff-stats fade-in" id="diff-stats">
      <div class="stat-item"><span class="stat-dot added"></span> <span id="stat-added">0</span> added</div>
      <div class="stat-item"><span class="stat-dot deleted"></span> <span id="stat-deleted">0</span> deleted</div>
      <div class="stat-item"><span class="stat-dot changed"></span> <span id="stat-changed">0</span> changed</div>
      <div class="stat-item"><span class="stat-dot unchanged"></span> <span id="stat-unchanged">0</span> unchanged</div>
    </div>
  </div>

  <div class="diff-output fade-in" id="diff-output"></div>
</section>

<section class="cta-bottom fade-in">
  <h2>Need something <span class="grad">more powerful</span>?</h2>
  <p>Let us build custom automation, bots, websites, and AI tools tailored to your business.</p>
  <a href="#contact" class="btn-cta" style="display:inline-block;padding:14px 36px;font-size:1rem">Get Pro — $29</a>
</section>

<!-- Cross Promo -->n<section style="max-width:900px;margin:40px auto;padding:0 24px;">n<div style="background:linear-gradient(135deg,rgba(99,102,241,0.1),rgba(168,85,247,0.08));border:1px solid rgba(99,102,241,0.15);border-radius:20px;padding:32px 28px;text-align:center;">n<div style="font-size:13px;color:#818cf8;font-weight:600;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;">Founding Member</div>n<h3 style="font-size:22px;font-weight:800;color:#fff;margin:0 0 8px;">Get NexTool Pro</h3>n<p style="color:#94a3b8;font-size:14px;margin:0 auto 20px;max-width:500px;">No banners, clean output, enhanced features on all 150+ tools. One-time payment.</p>n<div style="display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap;">n<a href="/pro.html" style="display:inline-block;padding:12px 28px;background:linear-gradient(135deg,#6366f1,#a855f7,#ec4899);color:#fff;border-radius:10px;font-weight:700;font-size:15px;text-decoration:none;transition:transform 0.2s;" onmouseenter="this.style.transform='translateY(-2px)'" onmouseleave="this.style.transform='translateY(0)'">$29 — Get Pro</a>n<a href="/free-tools/" style="color:#94a3b8;font-size:14px;text-decoration:none;transition:color 0.2s;" onmouseenter="this.style.color='#e2e8f0'" onmouseleave="this.style.color='#94a3b8'">Browse 150+ Free Tools →</a>n</div>n</div>n</section>

<!-- AUTO-LINKED by NexTool Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/box-shadow-generator.html" style="color:var(--primary);text-decoration:none">CSS Box Shadow Generator</a> · <a href="/free-tools/emoji-picker.html" style="color:var(--primary);text-decoration:none">Emoji Picker & Search</a> · <a href="/free-tools/meta-tag-generator.html" style="color:var(--primary);text-decoration:none">Meta Tag Generator</a> · <a href="/free-tools/favicon-generator.html" style="color:var(--primary);text-decoration:none">Favicon Generator</a> · <a href="/free-tools/base64.html" style="color:var(--primary);text-decoration:none">Free Base64 Encoder/Decoder</a></p>
</div>
<footer>
  <div class="footer-grid">
    <div class="footer-col"><h4>Products</h4>
      <a href="/free-tools/">150+ Free Tools</a><a href="/pro.html">NexTool Pro — $29</a><a href="/workspace.html">Workspace</a><a href="/free-tools/">Video</a><a href="/free-tools/">Data</a>
    </div>
    <div class="footer-col"><h4>Free Tools</h4>
      <a href="/free-tools/qr-generator.html">QR Code Generator</a><a href="/free-tools/css-formatter.html">CSS Formatter</a><a href="/free-tools/hash-generator.html">Hash Generator</a><a href="/free-tools/timestamp-converter.html">Timestamp Converter</a><a href="/free-tools/diff-checker.html">Diff Checker</a>
    </div>
    <div class="footer-col"><h4>Explore</h4>
      <a href="/free-tools/">All Free Tools</a><a href="/blog/">Blog</a><a href="#contact">Contact</a>
    </div>
    <div class="footer-col"><h4>Legal</h4>
      <a href="/terms.html">Privacy Policy</a><a href="/terms.html">Terms of Service</a><a href="/imprint/">Imprint</a>
    </div>
  </div>
  <div class="footer-bottom">&copy; 2026 NexTool. All rights reserved.</div>
</footer>

<div class="toast" id="toast">Copied!</div>

<script>
// ========== STATE ==========
let currentView='sbs';
let lastDiff=null;

// ========== LCS-BASED DIFF ALGORITHM ==========
// Myers diff algorithm (simplified) for line-level diff
function diffLines(a,b){
  const n=a.length,m=b.length;
  if(n===0&&m===0) return[];
  if(n===0) return b.map(l=>({type:'add',value:l}));
  if(m===0) return a.map(l=>({type:'del',value:l}));

  // Build LCS table
  const max=n+m;
  const v=new Array(2*max+1);
  const trace=[];

  for(let d=0;d<=max;d++){
    const newV=new Array(2*max+1);
    for(let k=-d;k<=d;k+=2){
      let x;
      if(k===-d||(k!==d&&(v[k-1+max]||0)<(v[k+1+max]||0))){
        x=(v[k+1+max]||0);
      }else{
        x=(v[k-1+max]||0)+1;
      }
      let y=x-k;
      while(x<n&&y<m&&a[x]===b[y]){x++;y++}
      newV[k+max]=x;
      if(x>=n&&y>=m){
        trace.push(newV);
        return backtrack(trace,max,a,b);
      }
    }
    trace.push(newV.slice());
    for(let k=-d;k<=d;k+=2) v[k+max]=newV[k+max];
  }
  return [];
}

function backtrack(trace,max,a,b){
  const n=a.length,m=b.length;
  let x=n,y=m;
  const edits=[];
  for(let d=trace.length-1;d>=0;d--){
    const v=trace[d];
    const k=x-y;
    let prevK;
    if(k===-d||(k!==d&&(d>0?(trace[d-1][k-1+max]||0):-1)<(d>0?(trace[d-1][k+1+max]||0):-1))){
      prevK=k+1;
    }else{
      prevK=k-1;
    }
    const prevX=d>0?(trace[d-1][prevK+max]||0):0;
    const prevY=prevX-prevK;

    // Diagonal moves (equal)
    while(x>prevX&&y>prevY){
      x--;y--;
      edits.unshift({type:'eq',value:a[x]});
    }
    if(d>0){
      if(x===prevX){
        // insertion
        y--;
        edits.unshift({type:'add',value:b[y]});
      }else{
        // deletion
        x--;
        edits.unshift({type:'del',value:a[x]});
      }
    }
  }
  return edits;
}

// ========== WORD-LEVEL DIFF ==========
function diffWords(a,b){
  const wa=a.split(/(\s+)/);
  const wb=b.split(/(\s+)/);
  const edits=diffLines(wa,wb);
  return edits;
}

function highlightWordDiff(oldLine,newLine){
  const edits=diffWords(oldLine,newLine);
  let oldHtml='',newHtml='';
  for(const e of edits){
    const v=esc(e.value);
    if(e.type==='eq'){oldHtml+=v;newHtml+=v}
    else if(e.type==='del'){oldHtml+='<span class="hl-del">'+v+'</span>'}
    else if(e.type==='add'){newHtml+='<span class="hl-add">'+v+'</span>'}
  }
  return{oldHtml,newHtml};
}

// ========== RENDER DIFF ==========
function runDiff(){
  const leftText=document.getElementById('left').value;
  const rightText=document.getElementById('right').value;

  if(!leftText&&!rightText){showToast('Paste text to compare');return}

  const leftLines=leftText.split('\n');
  const rightLines=rightText.split('\n');

  const edits=diffLines(leftLines,rightLines);

  // Merge adjacent del+add into "changed" pairs
  lastDiff=[];
  let i=0;
  while(i<edits.length){
    if(edits[i].type==='del'){
      // Look ahead for matching adds
      let delCount=0;
      let j=i;
      while(j<edits.length&&edits[j].type==='del'){delCount++;j++}
      let addCount=0;
      let k=j;
      while(k<edits.length&&edits[k].type==='add'){addCount++;k++}
      if(addCount>0){
        // Pair them up as changed
        const maxPairs=Math.min(delCount,addCount);
        for(let p=0;p<maxPairs;p++){
          lastDiff.push({type:'changed',oldValue:edits[i+p].value,newValue:edits[j+p].value});
        }
        // Remaining dels
        for(let p=maxPairs;p<delCount;p++){
          lastDiff.push({type:'del',value:edits[i+p].value});
        }
        // Remaining adds
        for(let p=maxPairs;p<addCount;p++){
          lastDiff.push({type:'add',value:edits[j+p].value});
        }
        i=k;
      }else{
        for(let p=0;p<delCount;p++) lastDiff.push(edits[i+p]);
        i=j;
      }
    }else{
      lastDiff.push(edits[i]);
      i++;
    }
  }

  // Stats
  let added=0,deleted=0,changed=0,unchanged=0;
  for(const e of lastDiff){
    if(e.type==='eq') unchanged++;
    else if(e.type==='add') added++;
    else if(e.type==='del') deleted++;
    else if(e.type==='changed') changed++;
  }
  document.getElementById('stat-added').textContent=added;
  document.getElementById('stat-deleted').textContent=deleted;
  document.getElementById('stat-changed').textContent=changed;
  document.getElementById('stat-unchanged').textContent=unchanged;
  document.getElementById('stats-container').style.display='';

  renderDiff();
}

function renderDiff(){
  if(!lastDiff) return;
  if(currentView==='sbs') renderSideBySide();
  else renderInline();
}

function renderSideBySide(){
  const output=document.getElementById('diff-output');
  let leftNum=0,rightNum=0;
  let html='<table class="sbs-table">';
  for(const e of lastDiff){
    if(e.type==='eq'){
      leftNum++;rightNum++;
      html+=`<tr><td class="ln">${leftNum}</td><td class="code">${esc(e.value)}</td><td class="divider"></td><td class="ln">${rightNum}</td><td class="code">${esc(e.value)}</td></tr>`;
    }else if(e.type==='del'){
      leftNum++;
      html+=`<tr class="deleted"><td class="ln">${leftNum}</td><td class="code">${esc(e.value)}</td><td class="divider"></td><td class="ln"></td><td class="code"></td></tr>`;
    }else if(e.type==='add'){
      rightNum++;
      html+=`<tr class="added"><td class="ln"></td><td class="code"></td><td class="divider"></td><td class="ln">${rightNum}</td><td class="code">${esc(e.value)}</td></tr>`;
    }else if(e.type==='changed'){
      leftNum++;rightNum++;
      const wd=highlightWordDiff(e.oldValue,e.newValue);
      html+=`<tr class="changed"><td class="ln left-side">${leftNum}</td><td class="code left-side"><span class="code-inner">${wd.oldHtml}</span></td><td class="divider"></td><td class="ln right-side">${rightNum}</td><td class="code right-side"><span class="code-inner">${wd.newHtml}</span></td></tr>`;
    }
  }
  html+='</table>';
  output.innerHTML=html;
}

function renderInline(){
  const output=document.getElementById('diff-output');
  let leftNum=0,rightNum=0;
  let html='<table class="inline-table">';
  for(const e of lastDiff){
    if(e.type==='eq'){
      leftNum++;rightNum++;
      html+=`<tr><td class="ln">${leftNum}</td><td class="ln">${rightNum}</td><td class="marker"></td><td class="code">${esc(e.value)}</td></tr>`;
    }else if(e.type==='del'){
      leftNum++;
      html+=`<tr class="deleted"><td class="ln">${leftNum}</td><td class="ln"></td><td class="marker">-</td><td class="code">${esc(e.value)}</td></tr>`;
    }else if(e.type==='add'){
      rightNum++;
      html+=`<tr class="added"><td class="ln"></td><td class="ln">${rightNum}</td><td class="marker">+</td><td class="code">${esc(e.value)}</td></tr>`;
    }else if(e.type==='changed'){
      leftNum++;rightNum++;
      const wd=highlightWordDiff(e.oldValue,e.newValue);
      html+=`<tr class="deleted"><td class="ln">${leftNum}</td><td class="ln"></td><td class="marker">-</td><td class="code">${wd.oldHtml}</td></tr>`;
      html+=`<tr class="added"><td class="ln"></td><td class="ln">${rightNum}</td><td class="marker">+</td><td class="code">${wd.newHtml}</td></tr>`;
    }
  }
  html+='</table>';
  output.innerHTML=html;
}

function esc(s){
  if(!s) return '';
  return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
}

// ========== VIEW TOGGLE ==========
function setView(v){
  currentView=v;
  document.querySelectorAll('.view-btn').forEach(b=>b.classList.toggle('active',b.dataset.view===v));
  if(lastDiff) renderDiff();
}

// ========== UTILITIES ==========
function swapTexts(){
  const l=document.getElementById('left');
  const r=document.getElementById('right');
  const tmp=l.value;l.value=r.value;r.value=tmp;
}

function clearAll(){
  document.getElementById('left').value='';
  document.getElementById('right').value='';
  document.getElementById('diff-output').innerHTML='';
  document.getElementById('stats-container').style.display='none';
  lastDiff=null;
}

function loadSample(){
  document.getElementById('left').value=`function greet(name) {
  console.log("Hello, " + name);
  return true;
}

const users = ["Alice", "Bob", "Charlie"];

for (let i = 0; i < users.length; i++) {
  greet(users[i]);
}

// End of script`;
  document.getElementById('right').value=`function greet(name, greeting = "Hello") {
  console.log(greeting + ", " + name + "!");
  return { success: true, name };
}

const users = ["Alice", "Bob", "Charlie", "Diana"];

for (const user of users) {
  greet(user);
}

greet("World", "Hi");

// End of script`;
  runDiff();
}

function showToast(msg){
  const t=document.getElementById('toast');
  t.textContent=msg;t.classList.add('show');
  setTimeout(()=>t.classList.remove('show'),2000);
}

// IntersectionObserver
const obs=new IntersectionObserver(entries=>{entries.forEach(e=>{if(e.isIntersecting){e.target.classList.add('visible');obs.unobserve(e.target)}})},{threshold:.15});
document.querySelectorAll('.fade-in').forEach(el=>obs.observe(el));
</script>
<script src="/js/analytics-lite.js" defer></script>
<script src="/js/revenue.js" defer></script>
<script src="/js/lead-capture.js" defer></script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "How does the text diff checker work?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "The tool uses the Myers diff algorithm to compare two texts line by line. It identifies additions, deletions, and changes, then highlights differences at both line and word level. Adjacent deletions and additions are automatically paired as 'changed' lines for clearer visualization."
      }
    },
    {
      "@type": "Question",
      "name": "What is the difference between side-by-side and inline diff views?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Side-by-side view shows the original and modified text in parallel columns, making it easy to compare corresponding lines. Inline view shows all changes in a single column with + and - markers, similar to git diff output. Both views include line numbers and word-level highlighting."
      }
    },
    {
      "@type": "Question",
      "name": "Can I compare code files with this diff checker?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes. The diff checker uses a monospace font and preserves whitespace, making it suitable for comparing code, configuration files, JSON, CSV, and any other text format. It includes a sample comparison feature with JavaScript code to demonstrate the tool."
      }
    }
  ]
}
</script>
</body>
</html>