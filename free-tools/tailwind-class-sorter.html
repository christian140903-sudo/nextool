<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Free Tailwind CSS Class Sorter — Sort & Organize Classes | NexTool</title>
<meta name="description" content="Free Tailwind CSS class sorter that organizes utility classes in the official recommended order. Remove duplicates, sort HTML or class strings, highlight changes.">
<meta name="keywords" content="Tailwind CSS class sorter, Tailwind class order, sort Tailwind classes, Tailwind prettier, organize CSS classes, NexTool">
<meta property="og:title" content="Free Tailwind CSS Class Sorter | NexTool">
<meta property="og:description" content="Sort Tailwind CSS classes in the official recommended order. Remove duplicates, highlight changes, copy sorted output. 100% free.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://nextool.app/free-tools/tailwind-class-sorter.html">
<meta property="og:image" content="https://nextool.app/assets/og-default.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<link rel="canonical" href="https://nextool.app/free-tools/tailwind-class-sorter.html">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Free Tailwind CSS Class Sorter | NexTool">
<meta name="twitter:description" content="Sort Tailwind CSS utility classes in the official recommended order. Free online tool by NexTool.">
<meta name="robots" content="index, follow">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"SoftwareApplication","name":"NexTool Tailwind CSS Class Sorter","applicationCategory":"DeveloperApplication","operatingSystem":"Web","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"description":"Free online Tailwind CSS class sorter that organizes utility classes in the official recommended order with duplicate removal and change highlighting."}
</script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#050508;--surface:#111118;--surface2:#1a1a24;--border:#2a2a3a;--text:#e4e4eb;--text2:#9494a8;--primary:#6366f1;--accent:#a855f7;--pink:#ec4899;--green:#22c55e;--red:#ef4444;--cyan:#22d3ee;--yellow:#eab308;--orange:#f97316;--radius:12px;--glass:rgba(17,17,24,0.7)}
html{scroll-behavior:smooth}
body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);line-height:1.6;min-height:100vh;overflow-x:hidden}
/* NAV */
.nav{position:sticky;top:0;z-index:100;background:rgba(5,5,8,0.85);backdrop-filter:blur(20px);border-bottom:1px solid var(--border);padding:0 2rem;height:64px;display:flex;align-items:center;justify-content:space-between}
.nav-logo{font-size:1.4rem;font-weight:800;background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-decoration:none}
.nav-links{display:flex;align-items:center;gap:1.5rem}
.nav-links a{color:var(--text2);text-decoration:none;font-size:.875rem;font-weight:500;transition:color .2s}
.nav-links a:hover{color:var(--text)}
.nav-cta{background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff!important;padding:.5rem 1.2rem;border-radius:8px;font-weight:600;-webkit-text-fill-color:#fff!important}
.nav-cta:hover{opacity:.9}
.nav-toggle{display:none;background:none;border:none;color:var(--text);font-size:1.5rem;cursor:pointer}
/* HERO */
.hero{text-align:center;padding:3rem 1.5rem 2rem;max-width:700px;margin:0 auto}
.hero h1{font-size:2.2rem;font-weight:800;line-height:1.2;margin-bottom:.75rem}
.hero h1 span{background:linear-gradient(135deg,var(--primary),var(--accent),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hero p{color:var(--text2);font-size:1rem}
/* TOOL */
.tool-container{max-width:1200px;margin:0 auto;padding:0 1.5rem 3rem}
.toolbar{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1rem;align-items:center}
.toolbar button{background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.45rem .9rem;border-radius:8px;font-size:.8rem;font-weight:500;cursor:pointer;transition:all .2s;font-family:inherit}
.toolbar button:hover{border-color:var(--primary);background:rgba(99,102,241,.12)}
.toolbar button.active{background:linear-gradient(135deg,var(--primary),var(--accent));border-color:transparent;color:#fff}
/* STATS */
.stats-bar{display:flex;flex-wrap:wrap;gap:1rem;margin-bottom:1rem;padding:.75rem 1rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)}
.stat-item{display:flex;align-items:center;gap:.4rem;font-size:.8rem;color:var(--text2)}
.stat-item .stat-val{color:var(--text);font-weight:600}
.stat-item.green .stat-val{color:var(--green)}
.stat-item.red .stat-val{color:var(--red)}
.stat-item.cyan .stat-val{color:var(--cyan)}
.stat-item.orange .stat-val{color:var(--orange)}
/* PANELS */
.panels{display:grid;grid-template-columns:1fr 1fr;gap:1rem;min-height:500px}
.panel{background:var(--glass);backdrop-filter:blur(16px);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;display:flex;flex-direction:column}
.panel-header{padding:.6rem 1rem;border-bottom:1px solid var(--border);font-size:.8rem;font-weight:600;color:var(--text2);display:flex;justify-content:space-between;align-items:center;background:rgba(26,26,36,0.5)}
.panel-body{flex:1;position:relative;overflow:auto}
#inputArea{width:100%;height:100%;min-height:400px;background:transparent;border:none;color:var(--text);font-family:'Courier New',monospace;font-size:.85rem;padding:1rem;resize:none;outline:none;line-height:1.7;tab-size:2}
#inputArea::placeholder{color:var(--text2);opacity:.5}
.output-area{padding:1rem;font-family:'Courier New',monospace;font-size:.85rem;line-height:1.7;white-space:pre-wrap;word-break:break-all;min-height:400px}
/* HIGHLIGHT CLASSES */
.cls-moved{background:rgba(99,102,241,.15);border-radius:3px;padding:1px 2px}
.cls-removed{background:rgba(239,68,68,.15);color:var(--red);text-decoration:line-through;border-radius:3px;padding:1px 2px}
.cls-custom{color:var(--yellow);border-radius:3px;padding:1px 2px}
.cls-normal{color:var(--green)}
/* CATEGORY LEGEND */
.cat-legend{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1rem}
.cat-pill{display:inline-flex;align-items:center;gap:.3rem;padding:.25rem .6rem;border-radius:6px;font-size:.7rem;font-weight:600;background:var(--surface);border:1px solid var(--border)}
.cat-pill .cat-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0}
/* CTA */
.cta-section{text-align:center;padding:4rem 1.5rem;max-width:700px;margin:0 auto}
.cta-section h2{font-size:1.8rem;font-weight:800;margin-bottom:.75rem}
.cta-section h2 span{background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.cta-section p{color:var(--text2);margin-bottom:1.5rem}
.cta-btn{display:inline-block;background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;padding:.75rem 2rem;border-radius:10px;font-weight:700;text-decoration:none;font-size:1rem;transition:transform .2s,box-shadow .2s}
.cta-btn:hover{transform:translateY(-2px);box-shadow:0 8px 30px rgba(99,102,241,.3)}
/* FOOTER */
.footer{border-top:1px solid var(--border);padding:3rem 2rem 2rem;max-width:1200px;margin:0 auto}
.footer-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;margin-bottom:2rem}
.footer-col h4{font-size:.85rem;font-weight:700;margin-bottom:.75rem;color:var(--text)}
.footer-col a{display:block;color:var(--text2);text-decoration:none;font-size:.8rem;margin-bottom:.4rem;transition:color .2s}
.footer-col a:hover{color:var(--primary)}
.footer-bottom{text-align:center;color:var(--text2);font-size:.75rem;padding-top:1.5rem;border-top:1px solid var(--border)}
/* FADE IN */
.fade-in{opacity:0;transform:translateY(20px);transition:opacity .6s,transform .6s}
.fade-in.visible{opacity:1;transform:translateY(0)}
/* TOAST */
.toast{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%) translateY(80px);background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.6rem 1.2rem;border-radius:10px;font-size:.85rem;font-weight:500;z-index:200;transition:transform .3s;pointer-events:none}
.toast.show{transform:translateX(-50%) translateY(0)}
/* RESPONSIVE */
@media(max-width:768px){
  .panels{grid-template-columns:1fr}
  .nav-links{display:none;position:absolute;top:64px;left:0;right:0;background:var(--bg);border-bottom:1px solid var(--border);flex-direction:column;padding:1rem 2rem;gap:1rem}
  .nav-links.open{display:flex}
  .nav-toggle{display:block}
  .hero h1{font-size:1.6rem}
  .footer-grid{grid-template-columns:1fr}
  .toolbar{gap:.35rem}
  .stats-bar{gap:.6rem}
}
</style>
</head>
<body>

<nav class="nav">
  <a href="/" class="nav-logo">NexTool</a>
  <button class="nav-toggle" onclick="document.querySelector('.nav-links').classList.toggle('open')" aria-label="Menu">&#9776;</button>
  <div class="nav-links">
    <a href="/">Home</a>
    <a href="/free-tools/">Tools</a>
    <a href="/free-tools/">Free Tools</a>
    <a href="/blog/">Blog</a>
    <a href="/pro.html" class="nav-cta">Get Pro — $29</a>
  </div>
</nav>

<section class="hero fade-in">
  <h1>Free <span>Tailwind CSS Class Sorter</span></h1>
  <p class="tool-summary" style="color:#94a3b8;font-size:15px;line-height:1.6;margin-bottom:24px;max-width:700px;margin-left:auto;margin-right:auto;">Sort your Tailwind CSS utility classes in the official recommended order. Paste a class string or full HTML, remove duplicates, see highlighted changes, and copy the clean output. Runs entirely in your browser.</p>
</section>

<div class="tool-container fade-in">
  <div class="toolbar">
    <button onclick="sortClasses()" title="Sort classes in Tailwind order">Sort Classes</button>
    <button onclick="sortAndDedupe()" title="Sort and remove duplicates">Sort + Dedupe</button>
    <button onclick="copyOutput()" title="Copy sorted output">Copy</button>
    <button onclick="clearAll()" title="Clear everything">Clear</button>
    <button onclick="loadSample()" title="Load sample HTML">Sample</button>
    <button id="highlightToggle" onclick="toggleHighlight()" class="active" title="Toggle change highlighting">Highlights</button>
  </div>

  <div class="stats-bar" id="statsBar">
    <div class="stat-item"><span>Total classes:</span> <span class="stat-val" id="statTotal">0</span></div>
    <div class="stat-item green"><span>Sorted:</span> <span class="stat-val" id="statSorted">0</span></div>
    <div class="stat-item red"><span>Duplicates removed:</span> <span class="stat-val" id="statDupes">0</span></div>
    <div class="stat-item cyan"><span>Categories:</span> <span class="stat-val" id="statCats">0</span></div>
    <div class="stat-item orange"><span>Custom classes:</span> <span class="stat-val" id="statCustom">0</span></div>
  </div>

  <div class="panels">
    <div class="panel">
      <div class="panel-header"><span>Input</span><span id="inputInfo"></span></div>
      <div class="panel-body">
        <textarea id="inputArea" placeholder='Paste Tailwind classes or full HTML here...

Examples:

Class string:
mt-4 flex text-white bg-blue-500 p-2 rounded-lg items-center hover:bg-blue-600

Full HTML:
<div class="mt-4 flex text-white bg-blue-500 p-2 rounded-lg items-center hover:bg-blue-600">
  <p class="text-lg font-bold mb-2 text-center">Hello</p>
</div>' spellcheck="false"></textarea>
      </div>
    </div>
    <div class="panel">
      <div class="panel-header"><span>Sorted Output</span><span id="outputInfo"></span></div>
      <div class="panel-body" id="outputPanel">
        <div class="output-area" id="sortedOutput"></div>
      </div>
    </div>
  </div>
</div>

<section class="cta-section fade-in">
  <h2>Need something <span>more powerful</span>?</h2>
  <p>Let us build it for you. Custom APIs, dashboards, automations &mdash; whatever you need.</p>
  <a href="/#contact" class="cta-btn">Start a Project &rarr;</a>
</section>

<!-- Cross Promo -->
<section style="max-width:900px;margin:40px auto;padding:0 24px;">
<div style="background:linear-gradient(135deg,rgba(99,102,241,0.1),rgba(168,85,247,0.08));border:1px solid rgba(99,102,241,0.15);border-radius:20px;padding:32px 28px;text-align:center;">
<div style="font-size:13px;color:#818cf8;font-weight:600;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;">Founding Member</div>
<h3 style="font-size:22px;font-weight:800;color:#fff;margin:0 0 8px;">Get NexTool Pro</h3>
<p style="color:#94a3b8;font-size:14px;margin:0 auto 20px;max-width:500px;">No banners, clean output, enhanced features on all 245+ tools. One-time payment.</p>
<div style="display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap;">
<a href="/pro.html" style="display:inline-block;padding:12px 28px;background:linear-gradient(135deg,#6366f1,#a855f7,#ec4899);color:#fff;border-radius:10px;font-weight:700;font-size:15px;text-decoration:none;">$29 — Get Pro</a>
<a href="/free-tools/" style="color:#94a3b8;font-size:14px;text-decoration:none;">Browse 245+ Free Tools &rarr;</a>
</div>
</div>
</section>


<!-- AUTO-LINKED by NexTool Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/box-shadow-generator.html" style="color:var(--primary);text-decoration:none">CSS Box Shadow Generator</a> · <a href="/free-tools/emoji-picker.html" style="color:var(--primary);text-decoration:none">Emoji Picker & Search</a> · <a href="/free-tools/meta-tag-generator.html" style="color:var(--primary);text-decoration:none">Meta Tag Generator</a></p>
</div>

<!-- AUTO-LINKED by NexTool Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/css-to-tailwind.html" style="color:var(--primary);text-decoration:none">Free CSS to Tailwind Converter</a> · <a href="/free-tools/json-to-yaml-converter.html" style="color:var(--primary);text-decoration:none">Free JSON to YAML Converter</a> · <a href="/free-tools/accessibility-checker.html" style="color:var(--primary);text-decoration:none">Free Accessibility Checker</a></p>
</div>
<footer class="footer fade-in">
  <div class="footer-grid">
    <div class="footer-col">
      <h4>Products</h4>
      <a href="/free-tools/">245+ Free Tools</a>
<a href="/pro.html">NexTool Pro</a>
<a href="/workspace.html">Workspace</a>
    </div>
    <div class="footer-col">
      <h4>Explore</h4>
      <a href="/free-tools/">Free Tools</a><a href="/blog/">Blog</a><a href="/pro.html">FAQ</a><a href="/pro.html">Pro — $29</a>
    </div>
    <div class="footer-col">
      <h4>Ecosystem</h4>
      <a href="/">NexTool Home</a><a href="/#contact">Contact</a><a href="https://github.com/christian140903-sudo/nextool" target="_blank">GitHub</a>
    </div>
  </div>
  <div class="footer-bottom">&copy; 2026 NexTool. AI-powered tools for everyone.</div>
</footer>

<div class="toast" id="toast"></div>

<script>
const inputArea = document.getElementById('inputArea');
const sortedOutput = document.getElementById('sortedOutput');
const inputInfo = document.getElementById('inputInfo');
const outputInfo = document.getElementById('outputInfo');
let showHighlights = true;
let lastSortedText = '';

// Tailwind class category order — based on official prettier-plugin-tailwindcss ordering
// Each pattern is tested against the base class name (without responsive/state prefixes)
const CATEGORY_ORDER = [
  // Layout
  { name: 'Layout', color: '#6366f1', patterns: [
    /^(container|columns-|break-(before|after|inside))/, /^(box-(border|content|decoration))/, /^(block|inline-block|inline-flex|inline-grid|inline-table|inline|flex|grid|table(-\w+)?|flow-root|contents|list-item|hidden|sr-only|not-sr-only)$/,
    /^(static|fixed|absolute|relative|sticky)$/, /^(inset|top|right|bottom|left)-/, /^(inset|top|right|bottom|left)$/,
    /^(visible|invisible|collapse)$/, /^z-/, /^(isolate|isolation-)/, /^float-/, /^clear-/,
    /^(object-(contain|cover|fill|none|scale-down|bottom|center|left|left-bottom|left-top|right|right-bottom|right-top|top))/, /^(overflow|overscroll)-/, /^aspect-/
  ]},
  // Flexbox & Grid
  { name: 'Flexbox & Grid', color: '#a855f7', patterns: [
    /^(basis-|flex-(row|col|wrap|nowrap|1|auto|initial|none)|flex$|grow|shrink|order-)/, /^(grid-cols-|grid-rows-|col-(span|start|end)|row-(span|start|end)|auto-(cols|rows)-)/, /^gap-/, /^(justify-(normal|start|end|center|between|around|evenly|stretch|items|self))/,
    /^(content-(normal|start|end|center|between|around|evenly|stretch|baseline))/, /^(items-(start|end|center|baseline|stretch))/, /^(self-(auto|start|end|center|stretch|baseline))/,
    /^(place-(content|items|self)-)/, /^(flex-grow|flex-shrink)/
  ]},
  // Spacing
  { name: 'Spacing', color: '#ec4899', patterns: [
    /^p[xytblr]?-/, /^m[xytblr]?-/, /^-m[xytblr]?-/, /^space-(x|y)-/
  ]},
  // Sizing
  { name: 'Sizing', color: '#f97316', patterns: [
    /^(w-|min-w-|max-w-)/, /^(h-|min-h-|max-h-)/, /^size-/
  ]},
  // Typography
  { name: 'Typography', color: '#22d3ee', patterns: [
    /^(font-(sans|serif|mono|thin|extralight|light|normal|medium|semibold|bold|extrabold|black|\[))/, /^font-/,
    /^(text-(left|center|right|justify|start|end|xs|sm|base|lg|xl|2xl|3xl|4xl|5xl|6xl|7xl|8xl|9xl|\[))/,
    /^text-/, /^(antialiased|subpixel-antialiased)$/, /^(italic|not-italic|ordinal|slashed-zero|lining-nums|oldstyle-nums|proportional-nums|tabular-nums|diagonal-fractions|stacked-fractions|normal-nums)$/,
    /^(tracking-|leading-)/, /^(list-(inside|outside|none|disc|decimal|\[))/, /^(decoration-|underline|overline|line-through|no-underline)/, /^(underline-offset-)/,
    /^(truncate|text-(ellipsis|clip)|overflow-(ellipsis|clip))/, /^(indent-|align-|whitespace-|break-|hyphens-)/, /^(content-|placeholder-)/,
    /^(uppercase|lowercase|capitalize|normal-case)$/
  ]},
  // Backgrounds
  { name: 'Backgrounds', color: '#22c55e', patterns: [
    /^bg-/, /^(from-|via-|to-)/, /^(bg-(fixed|local|scroll|clip|origin|repeat|no-repeat|cover|contain|center|top|bottom|left|right))/,
    /^gradient-/
  ]},
  // Borders
  { name: 'Borders', color: '#eab308', patterns: [
    /^(border|rounded|divide|outline|ring|ring-offset)/, /^border$/
  ]},
  // Effects
  { name: 'Effects', color: '#f43f5e', patterns: [
    /^(shadow|opacity-|mix-blend-|bg-blend-)/, /^shadow$/
  ]},
  // Filters
  { name: 'Filters', color: '#14b8a6', patterns: [
    /^(blur|brightness|contrast|drop-shadow|grayscale|hue-rotate|invert|saturate|sepia|backdrop-)/, /^filter$/, /^backdrop-/
  ]},
  // Transitions & Animation
  { name: 'Transitions', color: '#8b5cf6', patterns: [
    /^(transition|duration-|ease-|delay-|animate-)/, /^transition$/
  ]},
  // Transforms
  { name: 'Transforms', color: '#d946ef', patterns: [
    /^(scale-|rotate-|translate-|skew-|origin-)/, /^(-scale-|-rotate-|-translate-|-skew-)/, /^transform$/
  ]},
  // Interactivity
  { name: 'Interactivity', color: '#0ea5e9', patterns: [
    /^(accent-|appearance-|cursor-|caret-|pointer-events-|resize|scroll-|snap-|touch-|select-|will-change-)/
  ]},
  // SVG
  { name: 'SVG', color: '#84cc16', patterns: [
    /^(fill-|stroke-)/
  ]},
  // Accessibility
  { name: 'Accessibility', color: '#64748b', patterns: [
    /^(sr-only|not-sr-only)$/
  ]}
];

// Responsive breakpoint order
const RESPONSIVE_ORDER = ['sm', 'md', 'lg', 'xl', '2xl'];
// State variant order
const STATE_ORDER = ['first', 'last', 'only', 'odd', 'even', 'visited', 'target', 'open', 'default', 'checked', 'indeterminate', 'placeholder-shown', 'autofill', 'optional', 'required', 'valid', 'invalid', 'in-range', 'out-of-range', 'read-only', 'empty', 'focus-within', 'hover', 'focus', 'focus-visible', 'active', 'enabled', 'disabled', 'group-hover', 'group-focus', 'peer-hover', 'peer-focus', 'dark', 'motion-safe', 'motion-reduce', 'print', 'portrait', 'landscape', 'contrast-more', 'contrast-less', 'forced-colors'];

function extractPrefixAndBase(cls) {
  // Split class into prefixes and base utility
  // e.g., "sm:hover:bg-blue-500" => prefixes: ["sm", "hover"], base: "bg-blue-500"
  // Handle negative values like "-mt-4"
  const parts = cls.split(':');
  const base = parts.pop();
  return { prefixes: parts, base: base };
}

function getCategoryIndex(baseClass) {
  // Remove leading negative sign for matching
  const matchStr = baseClass.startsWith('-') ? baseClass.slice(1) : baseClass;
  for (let i = 0; i < CATEGORY_ORDER.length; i++) {
    for (const pattern of CATEGORY_ORDER[i].patterns) {
      if (pattern.test(matchStr)) return i;
    }
  }
  return -1; // Custom/unknown class
}

function getCategoryName(baseClass) {
  const idx = getCategoryIndex(baseClass);
  return idx >= 0 ? CATEGORY_ORDER[idx].name : 'Custom';
}

function getResponsiveIndex(prefix) {
  const idx = RESPONSIVE_ORDER.indexOf(prefix);
  return idx >= 0 ? idx : -1;
}

function getStateIndex(prefix) {
  const idx = STATE_ORDER.indexOf(prefix);
  return idx >= 0 ? idx : STATE_ORDER.length;
}

function classSort(a, b) {
  const pa = extractPrefixAndBase(a);
  const pb = extractPrefixAndBase(b);

  // 1. Classes with no prefix come first
  if (pa.prefixes.length !== pb.prefixes.length) {
    if (pa.prefixes.length === 0) return -1;
    if (pb.prefixes.length === 0) return 1;
  }

  // 2. Sort by category of the base class
  const catA = getCategoryIndex(pa.base);
  const catB = getCategoryIndex(pb.base);
  const effCatA = catA < 0 ? CATEGORY_ORDER.length : catA;
  const effCatB = catB < 0 ? CATEGORY_ORDER.length : catB;

  // For classes without prefixes, sort by category
  if (pa.prefixes.length === 0 && pb.prefixes.length === 0) {
    if (effCatA !== effCatB) return effCatA - effCatB;
    return a.localeCompare(b);
  }

  // For classes with prefixes, first sort by prefix type
  // Responsive prefixes come before state prefixes
  if (pa.prefixes.length > 0 && pb.prefixes.length > 0) {
    const respA = getResponsiveIndex(pa.prefixes[0]);
    const respB = getResponsiveIndex(pb.prefixes[0]);
    const isRespA = respA >= 0;
    const isRespB = respB >= 0;

    // Both responsive
    if (isRespA && isRespB) {
      if (respA !== respB) return respA - respB;
      // Same responsive prefix, sort by rest
      if (effCatA !== effCatB) return effCatA - effCatB;
      return a.localeCompare(b);
    }
    // Responsive before state
    if (isRespA && !isRespB) return -1;
    if (!isRespA && isRespB) return 1;
    // Both state
    const stA = getStateIndex(pa.prefixes[0]);
    const stB = getStateIndex(pb.prefixes[0]);
    if (stA !== stB) return stA - stB;
    if (effCatA !== effCatB) return effCatA - effCatB;
    return a.localeCompare(b);
  }

  // One has prefix, other doesn't (already handled above, but just in case)
  return pa.prefixes.length - pb.prefixes.length;
}

function sortClassString(classStr, removeDupes) {
  const classes = classStr.trim().split(/\s+/).filter(Boolean);
  if (classes.length === 0) return { sorted: '', original: classes, sortedArr: [], dupes: 0, categories: new Set() };

  let dupes = 0;
  let working = classes;
  if (removeDupes) {
    const seen = new Set();
    const deduped = [];
    for (const cls of classes) {
      if (seen.has(cls)) { dupes++; } else { seen.add(cls); deduped.push(cls); }
    }
    working = deduped;
  }

  const sorted = [...working].sort(classSort);
  const categories = new Set();
  let customCount = 0;
  for (const cls of sorted) {
    const { base } = extractPrefixAndBase(cls);
    const cat = getCategoryName(base);
    categories.add(cat);
    if (cat === 'Custom') customCount++;
  }

  return { sorted: sorted.join(' '), original: classes, sortedArr: sorted, dupes, categories, customCount };
}

function isHTML(text) {
  return /<[a-zA-Z][\s\S]*>/m.test(text);
}

function processHTML(html, removeDupes) {
  let totalClasses = 0;
  let totalDupes = 0;
  let allCategories = new Set();
  let totalCustom = 0;
  let totalSorted = 0;

  // Match class="..." or class='...' attributes
  const result = html.replace(/\bclass\s*=\s*("[^"]*"|'[^']*')/gi, function(match, attrVal) {
    const quote = attrVal[0];
    const classStr = attrVal.slice(1, -1);
    const { sorted, original, dupes, categories, customCount } = sortClassString(classStr, removeDupes);
    totalClasses += original.length;
    totalDupes += dupes;
    totalCustom += (customCount || 0);
    totalSorted += sorted.split(/\s+/).filter(Boolean).length;
    categories.forEach(c => allCategories.add(c));
    return 'class=' + quote + sorted + quote;
  });

  return { result, totalClasses, totalDupes, categories: allCategories, totalCustom, totalSorted };
}

function sortClasses() { doSort(false); }
function sortAndDedupe() { doSort(true); }

function doSort(removeDupes) {
  const raw = inputArea.value.trim();
  if (!raw) { showToast('Paste some classes or HTML first'); return; }

  let outputText, stats;

  if (isHTML(raw)) {
    const res = processHTML(raw, removeDupes);
    outputText = res.result;
    stats = {
      total: res.totalClasses,
      sorted: res.totalSorted,
      dupes: res.totalDupes,
      categories: res.categories,
      custom: res.totalCustom
    };
  } else {
    // Plain class string
    const res = sortClassString(raw, removeDupes);
    outputText = res.sorted;
    stats = {
      total: res.original.length,
      sorted: res.sortedArr.length,
      dupes: res.dupes,
      categories: res.categories,
      custom: res.customCount || 0
    };
  }

  lastSortedText = outputText;
  updateStats(stats);

  if (showHighlights && !isHTML(raw)) {
    renderHighlightedOutput(raw, outputText, removeDupes);
  } else {
    sortedOutput.textContent = outputText;
  }

  outputInfo.textContent = (removeDupes ? 'Sorted + deduped' : 'Sorted');
}

function renderHighlightedOutput(originalStr, sortedStr, removedDupes) {
  const origClasses = originalStr.trim().split(/\s+/).filter(Boolean);
  const sortedClasses = sortedStr.trim().split(/\s+/).filter(Boolean);

  // Build a set of original positions to detect moved classes
  const origPositions = {};
  origClasses.forEach((cls, i) => { if (!origPositions[cls]) origPositions[cls] = []; origPositions[cls].push(i); });

  let html = '';
  sortedClasses.forEach((cls, i) => {
    const { base } = extractPrefixAndBase(cls);
    const isCustom = getCategoryIndex(base) < 0;

    if (isCustom) {
      html += '<span class="cls-custom" title="Custom class">' + escapeHtml(cls) + '</span>';
    } else {
      // Check if position changed
      const origIdx = origPositions[cls] ? origPositions[cls][0] : -1;
      const moved = origIdx !== i;
      if (moved) {
        html += '<span class="cls-moved" title="Moved from position ' + (origIdx + 1) + '">' + escapeHtml(cls) + '</span>';
      } else {
        html += '<span class="cls-normal">' + escapeHtml(cls) + '</span>';
      }
    }

    if (i < sortedClasses.length - 1) html += ' ';
  });

  // Show removed duplicates
  if (removedDupes) {
    const seen = new Set();
    const dupeList = [];
    origClasses.forEach(cls => {
      if (seen.has(cls)) dupeList.push(cls);
      seen.add(cls);
    });
    if (dupeList.length > 0) {
      html += '\n\n<span style="color:var(--text2);font-size:.75rem">Removed duplicates: </span>';
      dupeList.forEach((cls, i) => {
        html += '<span class="cls-removed">' + escapeHtml(cls) + '</span>';
        if (i < dupeList.length - 1) html += ' ';
      });
    }
  }

  sortedOutput.innerHTML = html;
}

function updateStats(stats) {
  document.getElementById('statTotal').textContent = stats.total;
  document.getElementById('statSorted').textContent = stats.sorted;
  document.getElementById('statDupes').textContent = stats.dupes;
  document.getElementById('statCats').textContent = stats.categories.size;
  document.getElementById('statCustom').textContent = stats.custom;
}

function toggleHighlight() {
  showHighlights = !showHighlights;
  document.getElementById('highlightToggle').classList.toggle('active', showHighlights);
  // Re-sort if we have output
  if (lastSortedText) {
    if (showHighlights && !isHTML(inputArea.value.trim())) {
      renderHighlightedOutput(inputArea.value.trim(), lastSortedText, false);
    } else {
      sortedOutput.textContent = lastSortedText;
    }
  }
}

function copyOutput() {
  if (!lastSortedText) { showToast('Nothing to copy yet'); return; }
  navigator.clipboard.writeText(lastSortedText).then(() => showToast('Copied to clipboard'));
}

function clearAll() {
  inputArea.value = '';
  sortedOutput.innerHTML = '';
  lastSortedText = '';
  inputInfo.textContent = '';
  outputInfo.textContent = '';
  document.getElementById('statTotal').textContent = '0';
  document.getElementById('statSorted').textContent = '0';
  document.getElementById('statDupes').textContent = '0';
  document.getElementById('statCats').textContent = '0';
  document.getElementById('statCustom').textContent = '0';
}

function loadSample() {
  inputArea.value = '<div class="mt-4 flex text-white bg-blue-500 p-2 rounded-lg items-center hover:bg-blue-600 shadow-md mb-2 text-sm font-bold w-full justify-between border border-gray-200 transition-colors duration-200 ease-in-out cursor-pointer relative z-10 overflow-hidden gap-4 sm:flex-row flex-col md:p-6 lg:text-base bg-blue-500 mt-4">\n  <h2 class="text-2xl font-extrabold tracking-tight text-gray-900 dark:text-white mb-4 leading-tight sm:text-3xl">Hello World</h2>\n  <p class="text-gray-500 text-sm leading-relaxed max-w-prose font-medium hover:text-gray-700 dark:text-gray-400 mt-2">This is a paragraph with Tailwind classes in random order.</p>\n  <button class="px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-all duration-150 font-semibold text-sm active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm">Click Me</button>\n</div>';
  doSort(true);
}

function escapeHtml(s) { return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;'); }

function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2000);
}

// Auto-process on input with debounce
let debounceTimer;
inputArea.addEventListener('input', function() {
  clearTimeout(debounceTimer);
  debounceTimer = setTimeout(function() {
    const raw = inputArea.value.trim();
    if (raw) {
      const classCount = isHTML(raw) ? (raw.match(/class\s*=\s*["'][^"']*["']/gi) || []).length + ' class attributes' : raw.split(/\s+/).length + ' classes';
      inputInfo.textContent = classCount;
    } else {
      inputInfo.textContent = '';
    }
  }, 200);
});

// Tab key support
inputArea.addEventListener('keydown', e => {
  if (e.key === 'Tab') {
    e.preventDefault();
    const start = inputArea.selectionStart, end = inputArea.selectionEnd;
    inputArea.value = inputArea.value.substring(0, start) + '  ' + inputArea.value.substring(end);
    inputArea.selectionStart = inputArea.selectionEnd = start + 2;
  }
});

/* IntersectionObserver fade-in */
const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('visible'); observer.unobserve(entry.target); }});
}, { threshold: 0.1 });
document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
</script>
<script src="/js/analytics-lite.js" defer></script>
<script src="/js/revenue.js" defer></script>
<script src="/js/lead-capture.js" defer></script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What order does this tool sort Tailwind CSS classes in?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "This tool sorts classes following the official Tailwind CSS recommended order used by prettier-plugin-tailwindcss: Layout, Flexbox/Grid, Spacing, Sizing, Typography, Backgrounds, Borders, Effects, Filters, Transitions, Transforms, Interactivity, SVG, and Accessibility. Responsive and state variant prefixes are also sorted consistently."
      }
    },
    {
      "@type": "Question",
      "name": "Does the sorter handle full HTML or just class strings?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Both. You can paste a single class string like 'mt-4 flex bg-blue-500' or full HTML markup. The tool detects HTML automatically and sorts the classes inside every class attribute while preserving the rest of your markup."
      }
    },
    {
      "@type": "Question",
      "name": "What happens with custom classes that are not Tailwind utilities?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Custom classes that do not match any known Tailwind utility pattern are kept in place and placed at the end of the sorted class list. They are highlighted in yellow so you can easily identify them."
      }
    },
    {
      "@type": "Question",
      "name": "Is this tool free to use?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, this Tailwind CSS Class Sorter is completely free to use with no signup required. It runs entirely in your browser, so your code never leaves your machine."
      }
    }
  ]
}
</script>
</body>
</html>
