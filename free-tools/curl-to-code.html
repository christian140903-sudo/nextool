<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
    <link rel="icon" type="image/svg+xml" href="/img/favicon.svg">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>cURL to Code Converter — Generate JS, Python, PHP, Go &amp; More | ANIMA</title>
<meta name="description" content="Convert cURL commands to JavaScript fetch, Python requests, PHP, Go, Ruby, Java, C#, Node.js axios, and Rust reqwest. Free, instant, no signup.">
<meta name="keywords" content="curl to code, curl converter, curl to javascript, curl to python, curl to fetch, curl to requests">
<meta property="og:title" content="cURL to Code Converter — ANIMA">
<meta property="og:description" content="Convert cURL commands to 9 programming languages instantly. Handles headers, auth, body, cookies, and more.">
<meta property="og:image" content="https://nextool.app/assets/og/curl-to-code.png">
<meta property="og:url" content="https://nextool.app/free-tools/curl-to-code.html">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="cURL to Code Converter — ANIMA">
<meta name="twitter:description" content="Convert cURL commands to 9 programming languages instantly.">
<meta name="twitter:image" content="https://nextool.app/assets/og/curl-to-code.png">
<link rel="canonical" href="https://nextool.app/free-tools/curl-to-code.html">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"BreadcrumbList",
  "itemListElement":[
    {"@type":"ListItem","position":1,"name":"Home","item":"https://nextool.app/"},
    {"@type":"ListItem","position":2,"name":"Free Tools","item":"https://nextool.app/free-tools/"},
    {"@type":"ListItem","position":3,"name":"cURL to Code Converter","item":"https://nextool.app/free-tools/curl-to-code.html"}
  ]
}
</script>
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"FAQPage",
  "mainEntity":[
    {"@type":"Question","name":"What cURL flags are supported?","acceptedAnswer":{"@type":"Answer","text":"This converter supports -X (method), -H (headers), -d/--data/--data-raw (body), -u (basic auth), -F (multipart form data), --compressed, -k (insecure), -L (follow redirects), and -b (cookies)."}},
    {"@type":"Question","name":"Which programming languages are available?","acceptedAnswer":{"@type":"Answer","text":"JavaScript (fetch API), Python (requests), PHP (cURL), Go (net/http), Ruby (net/http), Java (HttpClient), C# (HttpClient), Node.js (axios), and Rust (reqwest)."}},
    {"@type":"Question","name":"How does the cURL parser work?","acceptedAnswer":{"@type":"Answer","text":"The parser tokenizes the cURL command, extracts the URL, method, headers, body data, auth credentials, and other flags, then generates idiomatic code for each target language."}}
  ]
}
</script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#050508;--surface:#111118;--primary:#00d4ff;--accent:#a855f7;--text:#e2e8f0;--text2:#94a3b8;--border:rgba(255,255,255,0.06);--radius:16px}
body{font-family:'Inter',system-ui,-apple-system,sans-serif;background:var(--bg);color:var(--text);min-height:100vh;line-height:1.6;-webkit-font-smoothing:antialiased}
a{color:var(--primary);text-decoration:none}a:hover{color:#818cf8}
.nav{position:sticky;top:0;z-index:100;background:rgba(5,5,8,0.85);backdrop-filter:blur(20px);border-bottom:1px solid var(--border);padding:0 24px}
.nav-inner{max-width:1200px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;height:60px}
.nav-logo{font-size:20px;font-weight:800;color:#fff;letter-spacing:-0.5px}
.nav-logo span{background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.nav-links{display:flex;gap:24px;align-items:center}
.nav-links a{color:var(--text2);font-size:14px;font-weight:500;transition:color 0.2s}
.nav-links a:hover{color:#fff}
.hero{text-align:center;padding:56px 24px 32px;max-width:700px;margin:0 auto}
.hero-badge{display:inline-block;padding:6px 14px;background:rgba(0,212,255,0.1);border:1px solid rgba(0,212,255,0.2);border-radius:20px;font-size:12px;font-weight:600;color:#818cf8;margin-bottom:16px;text-transform:uppercase;letter-spacing:1px}
.hero h1{font-size:clamp(28px,5vw,42px);font-weight:900;line-height:1.15;margin-bottom:12px;color:#fff}
.hero p{font-size:17px;color:var(--text2);max-width:560px;margin:0 auto}
.tool-container{max-width:1000px;margin:0 auto;padding:0 24px 40px}
.panel{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;margin-bottom:24px}
.panel-header{padding:16px 20px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:8px}
.panel-title{font-size:14px;font-weight:700;color:#fff;text-transform:uppercase;letter-spacing:0.5px}
.panel-body{padding:20px}

/* Input */
.curl-input{width:100%;min-height:140px;padding:16px;background:rgba(0,0,0,0.3);border:1px solid var(--border);border-radius:12px;color:#c4b5fd;font-family:'SF Mono','Fira Code',monospace;font-size:13px;line-height:1.6;resize:vertical;outline:none;transition:border-color 0.2s}
.curl-input:focus{border-color:var(--primary);box-shadow:0 0 0 3px rgba(0,212,255,0.1)}
.curl-input::placeholder{color:rgba(148,163,184,0.4)}

/* Parsed breakdown */
.breakdown{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:12px;margin-top:16px}
.breakdown-item{background:rgba(255,255,255,0.02);border:1px solid var(--border);border-radius:10px;padding:12px}
.breakdown-label{font-size:11px;font-weight:600;color:var(--text2);text-transform:uppercase;letter-spacing:0.5px;margin-bottom:4px}
.breakdown-value{font-size:13px;font-family:'SF Mono',monospace;color:#e2e8f0;word-break:break-all}

/* Lang tabs */
.lang-tabs{display:flex;gap:4px;flex-wrap:wrap;background:rgba(255,255,255,0.02);border-radius:12px;padding:4px}
.lang-tab{padding:8px 14px;background:transparent;border:none;border-radius:8px;color:var(--text2);font-size:12px;font-weight:600;cursor:pointer;transition:all 0.2s;font-family:inherit;white-space:nowrap}
.lang-tab.active{background:rgba(0,212,255,0.15);color:#fff}
.lang-tab:hover:not(.active){color:#fff}

/* Code output */
.code-wrap{position:relative;margin-top:16px}
.code-block{background:rgba(0,0,0,0.4);border:1px solid var(--border);border-radius:12px;padding:20px;font-family:'SF Mono','Fira Code',monospace;font-size:13px;line-height:1.7;color:#e2e8f0;overflow-x:auto;white-space:pre;min-height:120px;max-height:500px;overflow-y:auto}
.copy-btn{position:absolute;top:10px;right:10px;padding:6px 14px;background:rgba(0,212,255,0.15);border:1px solid rgba(0,212,255,0.3);border-radius:8px;color:#818cf8;font-size:12px;font-weight:600;cursor:pointer;transition:all 0.2s;font-family:inherit;z-index:2}
.copy-btn:hover{background:rgba(0,212,255,0.25)}
.copy-btn.copied{background:rgba(34,197,94,0.15);border-color:rgba(34,197,94,0.3);color:#4ade80}

/* Syntax highlights */
.hl-kw{color:#c084fc}.hl-str{color:#34d399}.hl-fn{color:#60a5fa}.hl-cm{color:#64748b;font-style:italic}.hl-num{color:#fbbf24}

.example-btn{padding:6px 12px;background:rgba(168,85,247,0.1);border:1px solid rgba(168,85,247,0.2);border-radius:8px;color:#c084fc;font-size:12px;font-weight:600;cursor:pointer;transition:all 0.2s;font-family:inherit}
.example-btn:hover{background:rgba(168,85,247,0.2)}

.site-footer{border-top:1px solid var(--border);padding:40px 24px;text-align:center}
.footer-links{display:flex;justify-content:center;gap:24px;margin-bottom:16px;flex-wrap:wrap}
.footer-links a{color:var(--text2);font-size:13px;font-weight:500}
.footer-links a:hover{color:#fff}
.footer-copy{font-size:12px;color:rgba(148,163,184,0.5)}
</style>
</head>
<body>

<nav class="nav"><div class="nav-inner">
<a href="/" class="nav-logo"><span>ANIMA</span></a>
<div class="nav-links">
<a href="/free-tools/">Free Tools</a>
<a href="/about/">Pro</a>
<a href="/blog/">Blog</a>
</div>
</div></nav>

<section class="hero">
<div class="hero-badge">Free Tool</div>
<h1>cURL to Code Converter</h1>
<p>Paste a cURL command and instantly generate code in JavaScript, Python, PHP, Go, Ruby, Java, C#, Node.js, and Rust.</p>
</section>

<div class="tool-container">

<!-- INPUT -->
<div class="panel">
<div class="panel-header">
<span class="panel-title">Paste cURL Command</span>
<div style="display:flex;gap:6px">
<button class="example-btn" onclick="loadExample('get')">GET Example</button>
<button class="example-btn" onclick="loadExample('post')">POST Example</button>
<button class="example-btn" onclick="loadExample('auth')">Auth Example</button>
</div>
</div>
<div class="panel-body">
<textarea class="curl-input" id="curlInput" placeholder="curl -X POST https://api.example.com/data \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer token123' \
  -d '{&quot;name&quot;:&quot;value&quot;}'" oninput="convert()"></textarea>

<div class="breakdown" id="breakdown" style="display:none"></div>
</div>
</div>

<!-- OUTPUT -->
<div class="panel">
<div class="panel-header">
<span class="panel-title">Generated Code</span>
</div>
<div class="panel-body">
<div class="lang-tabs" id="langTabs">
<button class="lang-tab active" data-lang="javascript">JavaScript</button>
<button class="lang-tab" data-lang="python">Python</button>
<button class="lang-tab" data-lang="php">PHP</button>
<button class="lang-tab" data-lang="go">Go</button>
<button class="lang-tab" data-lang="ruby">Ruby</button>
<button class="lang-tab" data-lang="java">Java</button>
<button class="lang-tab" data-lang="csharp">C#</button>
<button class="lang-tab" data-lang="nodejs">Node.js</button>
<button class="lang-tab" data-lang="rust">Rust</button>
</div>
<div class="code-wrap">
<div class="code-block" id="codeOutput">// Paste a cURL command above to generate code</div>
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
</div>
</div>
</div>

</div>

<!-- BUNDLE CROSS-PROMO -->
<section style="max-width:900px;margin:40px auto;padding:0 24px;">
<div style="background:linear-gradient(135deg,rgba(0,212,255,0.1),rgba(168,85,247,0.08));border:1px solid rgba(0,212,255,0.15);border-radius:20px;padding:32px 28px;text-align:center;">
<div style="font-size:13px;color:#818cf8;font-weight:600;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;">Founding Member</div>
<h3 style="font-size:22px;font-weight:800;color:#fff;margin:0 0 8px;">ANIMA on GitHub</h3>
<p style="color:#94a3b8;font-size:14px;margin:0 auto 20px;max-width:500px;">248+ free tools. No signup. Open source. Built by Christian Bucher.</p>
<a href="/about/" style="display:inline-block;padding:12px 28px;background:linear-gradient(135deg,#00d4ff,#a855f7);color:#fff;text-decoration:none;border-radius:12px;font-weight:700;font-size:15px;">GitHub</a>
<a href="/free-tools/" style="display:inline-block;margin-left:12px;color:#818cf8;text-decoration:none;font-size:14px;">Browse 250+ Free Tools &rarr;</a>
</div>
</section>

<!-- FAQ -->
<section style="max-width:700px;margin:0 auto 40px;padding:0 24px">
<h2 style="font-size:22px;font-weight:800;color:#fff;margin-bottom:20px;text-align:center">Frequently Asked Questions</h2>
<details style="background:var(--surface);border:1px solid var(--border);border-radius:12px;margin-bottom:10px;padding:16px 20px">
<summary style="font-weight:600;color:#fff;cursor:pointer;font-size:14px">What cURL flags are supported?</summary>
<p style="margin-top:10px;font-size:13px;color:var(--text2)">-X (method), -H (headers), -d / --data / --data-raw (body), -u (basic auth), -F (multipart), --compressed, -k (insecure), -L (follow redirects), and -b (cookies).</p>
</details>
<details style="background:var(--surface);border:1px solid var(--border);border-radius:12px;margin-bottom:10px;padding:16px 20px">
<summary style="font-weight:600;color:#fff;cursor:pointer;font-size:14px">Which languages are available?</summary>
<p style="margin-top:10px;font-size:13px;color:var(--text2)">JavaScript (fetch), Python (requests), PHP (cURL), Go (net/http), Ruby (net/http), Java (HttpClient), C# (HttpClient), Node.js (axios), and Rust (reqwest).</p>
</details>
<details style="background:var(--surface);border:1px solid var(--border);border-radius:12px;margin-bottom:10px;padding:16px 20px">
<summary style="font-weight:600;color:#fff;cursor:pointer;font-size:14px">Is my data sent to a server?</summary>
<p style="margin-top:10px;font-size:13px;color:var(--text2)">No. All parsing and code generation happens entirely in your browser. Nothing is sent to any server.</p>
</details>
</section>


<!-- AUTO-LINKED by ANIMA Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/box-shadow-generator.html" style="color:var(--primary);text-decoration:none">CSS Box Shadow Generator</a> · <a href="/free-tools/emoji-picker.html" style="color:var(--primary);text-decoration:none">Emoji Picker & Search</a> · <a href="/free-tools/meta-tag-generator.html" style="color:var(--primary);text-decoration:none">Meta Tag Generator</a> · <a href="/free-tools/color-palette.html" style="color:var(--primary);text-decoration:none">Free Color Palette Generator</a> · <a href="/free-tools/favicon-generator.html" style="color:var(--primary);text-decoration:none">Favicon Generator</a></p>
</div>

<!-- AUTO-LINKED by ANIMA Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/icon-generator.html" style="color:var(--primary);text-decoration:none">Free Icon Generator</a> · <a href="/free-tools/git-diff-viewer.html" style="color:var(--primary);text-decoration:none">Free Git Diff Viewer</a> · <a href="/free-tools/http-status-codes.html" style="color:var(--primary);text-decoration:none">HTTP Status Code Reference</a></p>
</div>

<!-- AUTO-LINKED by ANIMA Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/color-palette-generator.html" style="color:var(--primary);text-decoration:none">Free Color Palette Generator</a> · <a href="/free-tools/json-to-yaml-converter.html" style="color:var(--primary);text-decoration:none">Free JSON to YAML Converter</a> · <a href="/free-tools/css-gradient-generator.html" style="color:var(--primary);text-decoration:none">Free CSS Gradient Generator</a></p>
</div>

<!-- AUTO-LINKED by ANIMA Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/json-to-yaml.html" style="color:var(--primary);text-decoration:none">Free JSON to YAML Converter</a> · <a href="/free-tools/gradient-generator.html" style="color:var(--primary);text-decoration:none">Free CSS Gradient Generator</a> · <a href="/free-tools/yaml-to-json.html" style="color:var(--primary);text-decoration:none">YAML to JSON Converter</a></p>
</div>
<footer class="site-footer">
<div class="footer-links">
<a href="/">Home</a>
<a href="/free-tools/">Free Tools</a>
<a href="/about/">Pro</a>
<a href="/blog/">Blog</a>
</div>
<div class="footer-copy">&copy; 2026 ANIMA. All rights reserved.</div>
</footer>

<script>
/* ===== cURL Parser ===== */
function parseCurl(cmd){
  const req={method:'GET',url:'',headers:{},body:null,auth:null,cookies:null,compressed:false,insecure:false,followRedirects:false,multipart:null};
  /* Normalize line continuations */
  let s=cmd.replace(/\\\s*\n/g,' ').replace(/\\\s*$/gm,' ').trim();
  /* Remove leading 'curl' */
  if(s.toLowerCase().startsWith('curl')) s=s.substring(4).trim();

  /* Tokenize respecting quotes */
  const tokens=[];
  let i=0;
  while(i<s.length){
    if(s[i]===' '||s[i]==='\t'){i++;continue;}
    let token='';
    if(s[i]==="'"||s[i]==='"'){
      const q=s[i]; i++;
      while(i<s.length&&s[i]!==q){
        if(s[i]==='\\' && i+1<s.length){token+=s[i+1];i+=2;}
        else{token+=s[i];i++;}
      }
      i++; /* skip closing quote */
    }else{
      while(i<s.length&&s[i]!==' '&&s[i]!=='\t'){
        if(s[i]==='\\' && i+1<s.length){token+=s[i+1];i+=2;}
        else{token+=s[i];i++;}
      }
    }
    tokens.push(token);
  }

  /* Parse tokens */
  let ti=0;
  while(ti<tokens.length){
    const t=tokens[ti];
    if(t==='-X'||t==='--request'){req.method=tokens[++ti].toUpperCase();}
    else if(t==='-H'||t==='--header'){
      const h=tokens[++ti];
      const colon=h.indexOf(':');
      if(colon>0){
        const key=h.substring(0,colon).trim();
        const val=h.substring(colon+1).trim();
        req.headers[key]=val;
      }
    }
    else if(t==='-d'||t==='--data'||t==='--data-raw'||t==='--data-binary'){
      req.body=tokens[++ti];
      if(req.method==='GET') req.method='POST';
    }
    else if(t==='-u'||t==='--user'){
      const auth=tokens[++ti];
      const sep=auth.indexOf(':');
      req.auth={user:auth.substring(0,sep),pass:auth.substring(sep+1)};
    }
    else if(t==='-F'||t==='--form'){
      if(!req.multipart) req.multipart=[];
      req.multipart.push(tokens[++ti]);
      if(req.method==='GET') req.method='POST';
    }
    else if(t==='-b'||t==='--cookie'){req.cookies=tokens[++ti];}
    else if(t==='--compressed'){req.compressed=true;}
    else if(t==='-k'||t==='--insecure'){req.insecure=true;}
    else if(t==='-L'||t==='--location'){req.followRedirects=true;}
    else if(!t.startsWith('-')){req.url=t;}
    ti++;
  }
  return req;
}

function esc(s){return s.replace(/\\/g,'\\\\').replace(/'/g,"\\'");}
function escDQ(s){return s.replace(/\\/g,'\\\\').replace(/"/g,'\\"');}
function headerEntries(h){return Object.entries(h);}

/* ===== Code Generators ===== */
const generators = {
  javascript(r){
    let code=`const response = await fetch('${esc(r.url)}'`;
    const opts=[];
    if(r.method!=='GET') opts.push(`  method: '${r.method}'`);
    const hdr={...r.headers};
    if(r.auth) hdr['Authorization']='Basic '+btoa(r.auth.user+':'+r.auth.pass);
    if(r.cookies) hdr['Cookie']=r.cookies;
    if(Object.keys(hdr).length){
      let hStr='  headers: {\n';
      hStr+=Object.entries(hdr).map(([k,v])=>`    '${esc(k)}': '${esc(v)}'`).join(',\n');
      hStr+='\n  }';
      opts.push(hStr);
    }
    if(r.body) opts.push(`  body: '${esc(r.body)}'`);
    if(r.followRedirects) opts.push(`  redirect: 'follow'`);
    if(opts.length){
      code+=', {\n'+opts.join(',\n')+'\n}';
    }
    code+=');\n\nconst data = await response.json();\nconsole.log(data);';
    return code;
  },
  python(r){
    let code='import requests\n\n';
    const hdr={...r.headers};
    if(r.cookies) hdr['Cookie']=r.cookies;
    if(Object.keys(hdr).length){
      code+='headers = {\n';
      code+=Object.entries(hdr).map(([k,v])=>`    '${esc(k)}': '${esc(v)}'`).join(',\n');
      code+='\n}\n\n';
    }
    code+=`response = requests.${r.method.toLowerCase()}(\n    '${esc(r.url)}'`;
    if(Object.keys(hdr).length) code+=',\n    headers=headers';
    if(r.body) code+=`,\n    data='${esc(r.body)}'`;
    if(r.auth) code+=`,\n    auth=('${esc(r.auth.user)}', '${esc(r.auth.pass)}')`;
    if(!r.followRedirects) code+=',\n    allow_redirects=False';
    if(r.insecure) code+=',\n    verify=False';
    code+='\n)\n\nprint(response.json())';
    return code;
  },
  php(r){
    let code="<?php\n\n$ch = curl_init();\n\n";
    code+=`curl_setopt($ch, CURLOPT_URL, '${esc(r.url)}');\n`;
    code+="curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n";
    if(r.method!=='GET') code+=`curl_setopt($ch, CURLOPT_CUSTOMREQUEST, '${r.method}');\n`;
    const hdr={...r.headers};
    if(r.auth) hdr['Authorization']='Basic '+btoa(r.auth.user+':'+r.auth.pass);
    if(r.cookies) code+=`curl_setopt($ch, CURLOPT_COOKIE, '${esc(r.cookies)}');\n`;
    if(Object.keys(hdr).length){
      code+="\ncurl_setopt($ch, CURLOPT_HTTPHEADER, [\n";
      code+=Object.entries(hdr).map(([k,v])=>`    '${esc(k)}: ${esc(v)}'`).join(",\n");
      code+="\n]);\n";
    }
    if(r.body) code+=`\ncurl_setopt($ch, CURLOPT_POSTFIELDS, '${esc(r.body)}');\n`;
    if(r.followRedirects) code+="curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true);\n";
    if(r.insecure) code+="curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);\n";
    code+="\n$response = curl_exec($ch);\ncurl_close($ch);\n\necho $response;\n";
    return code;
  },
  go(r){
    let code='package main\n\nimport (\n\t"fmt"\n\t"io"\n\t"net/http"\n';
    if(r.body) code+='\t"strings"\n';
    code+=')\n\nfunc main() {\n';
    if(r.body) code+=`\tbody := strings.NewReader(\`${r.body}\`)\n`;
    code+=`\treq, _ := http.NewRequest("${r.method}", "${escDQ(r.url)}", `;
    code+=r.body?'body)\n':'nil)\n';
    const hdr={...r.headers};
    if(r.auth) hdr['Authorization']='Basic '+btoa(r.auth.user+':'+r.auth.pass);
    if(r.cookies) hdr['Cookie']=r.cookies;
    Object.entries(hdr).forEach(([k,v])=>{
      code+=`\treq.Header.Set("${escDQ(k)}", "${escDQ(v)}")\n`;
    });
    code+='\n\tclient := &http.Client{}\n\tresp, _ := client.Do(req)\n\tdefer resp.Body.Close()\n\n';
    code+='\tresBody, _ := io.ReadAll(resp.Body)\n\tfmt.Println(string(resBody))\n}\n';
    return code;
  },
  ruby(r){
    let code="require 'net/http'\nrequire 'uri'\nrequire 'json'\n\n";
    code+=`uri = URI.parse('${esc(r.url)}')\n`;
    code+=`http = Net::HTTP.new(uri.host, uri.port)\n`;
    code+="http.use_ssl = uri.scheme == 'https'\n";
    if(r.insecure) code+="http.verify_mode = OpenSSL::SSL::VERIFY_NONE\n";
    code+='\n';
    const methodMap={GET:'Get',POST:'Post',PUT:'Put',DELETE:'Delete',PATCH:'Patch'};
    const m=methodMap[r.method]||'Get';
    code+=`request = Net::HTTP::${m}.new(uri.request_uri)\n`;
    const hdr={...r.headers};
    if(r.auth) hdr['Authorization']='Basic '+btoa(r.auth.user+':'+r.auth.pass);
    if(r.cookies) hdr['Cookie']=r.cookies;
    Object.entries(hdr).forEach(([k,v])=>{
      code+=`request['${esc(k)}'] = '${esc(v)}'\n`;
    });
    if(r.body) code+=`request.body = '${esc(r.body)}'\n`;
    code+='\nresponse = http.request(request)\nputs response.body\n';
    return code;
  },
  java(r){
    let code='import java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\n\n';
    code+='public class Main {\n    public static void main(String[] args) throws Exception {\n';
    code+='        HttpClient client = HttpClient.newHttpClient();\n\n';
    code+='        HttpRequest request = HttpRequest.newBuilder()\n';
    code+=`            .uri(URI.create("${escDQ(r.url)}"))\n`;
    const meth=r.method;
    if(r.body) code+=`            .method("${meth}", HttpRequest.BodyPublishers.ofString("${escDQ(r.body)}"))\n`;
    else if(meth!=='GET') code+=`            .method("${meth}", HttpRequest.BodyPublishers.noBody())\n`;
    const hdr={...r.headers};
    if(r.auth) hdr['Authorization']='Basic '+btoa(r.auth.user+':'+r.auth.pass);
    if(r.cookies) hdr['Cookie']=r.cookies;
    Object.entries(hdr).forEach(([k,v])=>{
      code+=`            .header("${escDQ(k)}", "${escDQ(v)}")\n`;
    });
    code+='            .build();\n\n';
    code+='        HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());\n';
    code+='        System.out.println(response.body());\n    }\n}\n';
    return code;
  },
  csharp(r){
    let code='using System;\nusing System.Net.Http;\nusing System.Threading.Tasks;\n\n';
    code+='class Program {\n    static async Task Main() {\n';
    code+='        using var client = new HttpClient();\n\n';
    const hdr={...r.headers};
    if(r.auth) hdr['Authorization']='Basic '+btoa(r.auth.user+':'+r.auth.pass);
    if(r.cookies) hdr['Cookie']=r.cookies;
    code+=`        var request = new HttpRequestMessage(HttpMethod.${r.method.charAt(0)+r.method.slice(1).toLowerCase()}, "${escDQ(r.url)}");\n`;
    Object.entries(hdr).forEach(([k,v])=>{
      if(k.toLowerCase()==='content-type'&&r.body) return;
      code+=`        request.Headers.Add("${escDQ(k)}", "${escDQ(v)}");\n`;
    });
    if(r.body){
      const ct=hdr['Content-Type']||hdr['content-type']||'application/json';
      code+=`        request.Content = new StringContent("${escDQ(r.body)}", System.Text.Encoding.UTF8, "${ct}");\n`;
    }
    code+='\n        var response = await client.SendAsync(request);\n';
    code+='        var body = await response.Content.ReadAsStringAsync();\n';
    code+='        Console.WriteLine(body);\n    }\n}\n';
    return code;
  },
  nodejs(r){
    let code="const axios = require('axios');\n\n";
    const opts=[];
    opts.push(`  url: '${esc(r.url)}'`);
    opts.push(`  method: '${r.method.toLowerCase()}'`);
    const hdr={...r.headers};
    if(r.auth) hdr['Authorization']='Basic '+btoa(r.auth.user+':'+r.auth.pass);
    if(r.cookies) hdr['Cookie']=r.cookies;
    if(Object.keys(hdr).length){
      let hStr='  headers: {\n';
      hStr+=Object.entries(hdr).map(([k,v])=>`    '${esc(k)}': '${esc(v)}'`).join(',\n');
      hStr+='\n  }';
      opts.push(hStr);
    }
    if(r.body){
      try{JSON.parse(r.body);opts.push(`  data: ${r.body}`);}
      catch(e){opts.push(`  data: '${esc(r.body)}'`);}
    }
    code+='axios({\n'+opts.join(',\n')+'\n})\n';
    code+="  .then(res => console.log(res.data))\n  .catch(err => console.error(err));\n";
    return code;
  },
  rust(r){
    let code='use reqwest;\nuse std::error::Error;\n\n#[tokio::main]\nasync fn main() -> Result<(), Box<dyn Error>> {\n';
    code+='    let client = reqwest::Client::new();\n\n';
    code+=`    let response = client.${r.method.toLowerCase()}("${escDQ(r.url)}")\n`;
    const hdr={...r.headers};
    if(r.auth) hdr['Authorization']='Basic '.concat(btoa(r.auth.user+':'+r.auth.pass));
    if(r.cookies) hdr['Cookie']=r.cookies;
    Object.entries(hdr).forEach(([k,v])=>{
      code+=`        .header("${escDQ(k)}", "${escDQ(v)}")\n`;
    });
    if(r.body) code+=`        .body("${escDQ(r.body)}")\n`;
    code+='        .send()\n        .await?;\n\n';
    code+='    let body = response.text().await?;\n    println!("{}", body);\n    Ok(())\n}\n';
    return code;
  }
};

let currentLang='javascript';
let parsedReq=null;

/* Tab switching */
document.getElementById('langTabs').addEventListener('click',function(e){
  const btn=e.target.closest('.lang-tab');
  if(!btn) return;
  this.querySelectorAll('.lang-tab').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  currentLang=btn.dataset.lang;
  renderOutput();
});

function convert(){
  const input=document.getElementById('curlInput').value.trim();
  if(!input){
    document.getElementById('codeOutput').textContent='// Paste a cURL command above to generate code';
    document.getElementById('breakdown').style.display='none';
    parsedReq=null;
    return;
  }
  try{
    parsedReq=parseCurl(input);
    showBreakdown(parsedReq);
    renderOutput();
  }catch(e){
    document.getElementById('codeOutput').textContent='// Error parsing cURL command: '+e.message;
  }
}

function renderOutput(){
  if(!parsedReq) return;
  const code=generators[currentLang](parsedReq);
  document.getElementById('codeOutput').textContent=code;
}

function showBreakdown(r){
  const bd=document.getElementById('breakdown');
  bd.style.display='grid';
  let html=`<div class="breakdown-item"><div class="breakdown-label">Method</div><div class="breakdown-value">${r.method}</div></div>`;
  html+=`<div class="breakdown-item"><div class="breakdown-label">URL</div><div class="breakdown-value">${r.url||'—'}</div></div>`;
  const hCount=Object.keys(r.headers).length;
  html+=`<div class="breakdown-item"><div class="breakdown-label">Headers</div><div class="breakdown-value">${hCount} header${hCount!==1?'s':''}</div></div>`;
  html+=`<div class="breakdown-item"><div class="breakdown-label">Body</div><div class="breakdown-value">${r.body?r.body.length+' chars':'None'}</div></div>`;
  if(r.auth) html+=`<div class="breakdown-item"><div class="breakdown-label">Auth</div><div class="breakdown-value">Basic (${r.auth.user})</div></div>`;
  if(r.cookies) html+=`<div class="breakdown-item"><div class="breakdown-label">Cookies</div><div class="breakdown-value">${r.cookies}</div></div>`;
  bd.innerHTML=html;
}

function copyCode(btn){
  const code=document.getElementById('codeOutput').textContent;
  navigator.clipboard.writeText(code).then(()=>{
    btn.textContent='Copied!';btn.classList.add('copied');
    setTimeout(()=>{btn.textContent='Copy';btn.classList.remove('copied');},2000);
  });
}

const examples={
  get:`curl -X GET 'https://api.example.com/users?page=1&limit=10' \\
  -H 'Accept: application/json' \\
  -H 'Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.test'`,
  post:`curl -X POST 'https://api.example.com/users' \\
  -H 'Content-Type: application/json' \\
  -H 'Authorization: Bearer token123' \\
  -d '{"name":"John Doe","email":"john@example.com","role":"admin"}'`,
  auth:`curl -u admin:secretpass \\
  -X PUT 'https://api.example.com/settings' \\
  -H 'Content-Type: application/json' \\
  -d '{"theme":"dark","notifications":true}' \\
  -b 'session=abc123' \\
  --compressed -L`
};

function loadExample(type){
  document.getElementById('curlInput').value=examples[type];
  convert();
}
</script>
<script defer src="/js/revenue.js"></script>
<script defer src="/js/lead-capture.js"></script>
<script defer src="/js/analytics-lite.js"></script>
</body>
</html>
