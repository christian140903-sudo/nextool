<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Free Markdown Slides — Create Presentations from Markdown | NexTool</title>
<meta name="description" content="Turn markdown into beautiful slide presentations. Multiple themes, fullscreen mode, speaker notes, keyboard navigation, and HTML export. Free, no signup.">
<meta name="keywords" content="markdown slides, markdown presentation, slide deck maker, markdown to slides, free presentation tool, NexTool">
<meta property="og:title" content="Free Markdown Slides — Presentation Maker | NexTool">
<meta property="og:description" content="Write markdown, get a beautiful slide deck. Themes, speaker notes, fullscreen, and export. 100% free.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://nextool.app/free-tools/markdown-slides.html">
<meta property="og:image" content="https://nextool.app/assets/og-default.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<link rel="canonical" href="https://nextool.app/free-tools/markdown-slides.html">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Free Markdown Slides — Presentation Maker | NexTool">
<meta name="twitter:description" content="Write markdown, get a beautiful slide deck. Free online tool by NexTool.">
<meta name="robots" content="index, follow">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"SoftwareApplication","name":"NexTool Markdown Slides","applicationCategory":"PresentationApplication","operatingSystem":"Web","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"description":"Free online markdown to slide presentation maker with themes, speaker notes, fullscreen mode, and HTML export."}
</script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#050508;--surface:#111118;--surface2:#1a1a24;--border:#2a2a3a;--text:#e4e4eb;--text2:#9494a8;--primary:#6366f1;--accent:#a855f7;--pink:#ec4899;--green:#22c55e;--red:#ef4444;--cyan:#22d3ee;--yellow:#eab308;--radius:12px;--glass:rgba(17,17,24,0.7)}
html{scroll-behavior:smooth}
body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);line-height:1.6;min-height:100vh;overflow-x:hidden}
/* NAV */
.nav{position:sticky;top:0;z-index:100;background:rgba(5,5,8,0.85);backdrop-filter:blur(20px);border-bottom:1px solid var(--border);padding:0 2rem;height:64px;display:flex;align-items:center;justify-content:space-between}
.nav-logo{font-size:1.4rem;font-weight:800;background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-decoration:none}
.nav-links{display:flex;align-items:center;gap:1.5rem}
.nav-links a{color:var(--text2);text-decoration:none;font-size:.875rem;font-weight:500;transition:color .2s}
.nav-links a:hover{color:var(--text)}
.nav-cta{background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff!important;padding:.5rem 1.2rem;border-radius:8px;font-weight:600;-webkit-text-fill-color:#fff!important}
.nav-cta:hover{opacity:.9}
.nav-toggle{display:none;background:none;border:none;color:var(--text);font-size:1.5rem;cursor:pointer}
/* HERO */
.hero{text-align:center;padding:3rem 1.5rem 2rem;max-width:700px;margin:0 auto}
.hero h1{font-size:2.2rem;font-weight:800;line-height:1.2;margin-bottom:.75rem}
.hero h1 span{background:linear-gradient(135deg,var(--primary),var(--accent),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hero p{color:var(--text2);font-size:1rem}
/* TOOL */
.tool-container{max-width:1400px;margin:0 auto;padding:0 1.5rem 3rem}
.toolbar{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1rem;align-items:center}
.toolbar button,.toolbar select{background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.45rem .9rem;border-radius:8px;font-size:.8rem;font-weight:500;cursor:pointer;transition:all .2s;font-family:inherit}
.toolbar button:hover{border-color:var(--primary);background:rgba(99,102,241,.12)}
.toolbar button.active{background:linear-gradient(135deg,var(--primary),var(--accent));border-color:transparent;color:#fff}
.toolbar select{appearance:none;padding-right:1.8rem;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%239494a8' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right .6rem center}
.toolbar .spacer{flex:1}
.status-bar{display:flex;align-items:center;gap:1rem;margin-bottom:1rem;font-size:.8rem;color:var(--text2)}
.panels{display:grid;grid-template-columns:1fr 1fr;gap:1rem;min-height:540px}
.panel{background:var(--glass);backdrop-filter:blur(16px);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;display:flex;flex-direction:column}
.panel-header{padding:.6rem 1rem;border-bottom:1px solid var(--border);font-size:.8rem;font-weight:600;color:var(--text2);display:flex;justify-content:space-between;align-items:center;background:rgba(26,26,36,0.5)}
.panel-body{flex:1;position:relative;overflow:auto}
#mdInput{width:100%;height:100%;min-height:500px;background:transparent;border:none;color:var(--text);font-family:'JetBrains Mono',monospace;font-size:.85rem;padding:1rem;resize:none;outline:none;line-height:1.7;tab-size:2}
#mdInput::placeholder{color:var(--text2);opacity:.5}
/* SLIDE PREVIEW */
.slide-viewport{width:100%;height:100%;display:flex;flex-direction:column}
.slide-frame{flex:1;overflow:auto;padding:2rem;display:flex;align-items:flex-start;justify-content:center}
.slide-content{width:100%;max-width:100%}
.slide-nav{display:flex;align-items:center;justify-content:center;gap:.75rem;padding:.5rem 1rem;border-top:1px solid var(--border);background:rgba(26,26,36,0.5)}
.slide-nav button{background:var(--surface2);border:1px solid var(--border);color:var(--text);width:32px;height:32px;border-radius:6px;cursor:pointer;font-size:.85rem;display:flex;align-items:center;justify-content:center;transition:all .2s}
.slide-nav button:hover{border-color:var(--primary);background:rgba(99,102,241,.12)}
.slide-nav button:disabled{opacity:.3;cursor:default}
.slide-counter{font-size:.8rem;color:var(--text2);font-weight:500;min-width:60px;text-align:center}
.notes-toggle{background:none;border:none;color:var(--text2);font-size:.75rem;cursor:pointer;padding:2px 6px;border-radius:4px;transition:all .2s}
.notes-toggle:hover{color:var(--text);background:rgba(99,102,241,.12)}
.notes-toggle.active{color:var(--primary)}
.speaker-notes{border-top:1px solid var(--border);padding:.6rem 1rem;background:rgba(26,26,36,0.3);font-size:.8rem;color:var(--text2);max-height:100px;overflow:auto;line-height:1.5;font-style:italic}
.speaker-notes:empty{display:none}
/* SLIDE THEME STYLES */
.slide-content h1{font-size:1.8rem;font-weight:800;margin-bottom:.75rem;line-height:1.2}
.slide-content h2{font-size:1.4rem;font-weight:700;margin-bottom:.6rem;line-height:1.3}
.slide-content h3{font-size:1.15rem;font-weight:600;margin-bottom:.5rem}
.slide-content p{margin-bottom:.6rem}
.slide-content ul,.slide-content ol{margin:0 0 .6rem 1.5rem}
.slide-content li{margin-bottom:.3rem}
.slide-content code{font-family:'JetBrains Mono',monospace;font-size:.8rem;padding:.15rem .4rem;border-radius:4px;background:rgba(99,102,241,.1);color:var(--cyan)}
.slide-content pre{margin:.6rem 0;border-radius:8px;overflow-x:auto}
.slide-content pre code{display:block;padding:1rem;background:rgba(0,0,0,.3);border:1px solid var(--border);border-radius:8px;color:var(--text);line-height:1.6}
.slide-content img{max-width:100%;height:auto;border-radius:8px;margin:.5rem 0}
.slide-content blockquote{border-left:3px solid var(--primary);padding:.4rem 0 .4rem 1rem;margin:.6rem 0;color:var(--text2);font-style:italic}
.slide-content strong{font-weight:700}
.slide-content em{font-style:italic}
.slide-content hr{border:none;border-top:1px solid var(--border);margin:1rem 0}
.slide-content a{color:var(--primary);text-decoration:underline}
/* THEME: dark (default) */
.theme-dark .slide-content{color:var(--text)}
.theme-dark .slide-content h1,.theme-dark .slide-content h2{background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.theme-dark .slide-content h3{color:var(--text)}
/* THEME: light */
.theme-light .slide-frame{background:#fff}
.theme-light .slide-content{color:#1a1a2e}
.theme-light .slide-content h1,.theme-light .slide-content h2{color:#1a1a2e;background:none;-webkit-text-fill-color:#1a1a2e}
.theme-light .slide-content h3{color:#333}
.theme-light .slide-content code{background:rgba(99,102,241,.08);color:#6366f1}
.theme-light .slide-content pre code{background:#f4f4f8;color:#1a1a2e;border-color:#e2e2e8}
.theme-light .slide-content blockquote{color:#555}
.theme-light .slide-content a{color:#6366f1}
/* THEME: corporate */
.theme-corporate .slide-frame{background:linear-gradient(180deg,#0f172a,#1e293b)}
.theme-corporate .slide-content{color:#e2e8f0}
.theme-corporate .slide-content h1{font-size:2rem;color:#fff;background:none;-webkit-text-fill-color:#fff;border-bottom:3px solid #3b82f6;padding-bottom:.4rem}
.theme-corporate .slide-content h2{color:#93c5fd;background:none;-webkit-text-fill-color:#93c5fd}
.theme-corporate .slide-content h3{color:#bfdbfe}
.theme-corporate .slide-content code{background:rgba(59,130,246,.15);color:#93c5fd}
.theme-corporate .slide-content pre code{background:rgba(0,0,0,.4);border-color:rgba(59,130,246,.2);color:#e2e8f0}
.theme-corporate .slide-content blockquote{border-left-color:#3b82f6;color:#94a3b8}
.theme-corporate .slide-content a{color:#60a5fa}
/* THEME: creative */
.theme-creative .slide-frame{background:linear-gradient(135deg,#1a0a2e,#0f172a,#1a0a2e)}
.theme-creative .slide-content{color:#e4e4ed}
.theme-creative .slide-content h1{background:linear-gradient(135deg,#ec4899,#a855f7,#6366f1);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:2rem}
.theme-creative .slide-content h2{background:linear-gradient(135deg,#f472b6,#c084fc);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.theme-creative .slide-content h3{color:#c084fc}
.theme-creative .slide-content code{background:rgba(168,85,247,.15);color:#c084fc}
.theme-creative .slide-content pre code{background:rgba(0,0,0,.4);border-color:rgba(168,85,247,.2);color:#e4e4ed}
.theme-creative .slide-content blockquote{border-left-color:#ec4899;color:#f9a8d4}
.theme-creative .slide-content a{color:#c084fc}
/* FULLSCREEN PRESENTATION */
.fullscreen-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:10000;display:none;flex-direction:column}
.fullscreen-overlay.active{display:flex}
.fullscreen-slide{flex:1;display:flex;align-items:center;justify-content:center;padding:4rem 6rem;overflow:auto}
.fullscreen-slide .slide-content{max-width:960px;width:100%}
.fullscreen-slide .slide-content h1{font-size:3rem;margin-bottom:1rem}
.fullscreen-slide .slide-content h2{font-size:2.2rem;margin-bottom:.8rem}
.fullscreen-slide .slide-content h3{font-size:1.6rem;margin-bottom:.6rem}
.fullscreen-slide .slide-content p,.fullscreen-slide .slide-content li{font-size:1.3rem;line-height:1.7}
.fullscreen-slide .slide-content pre code{font-size:1rem;padding:1.5rem}
.fullscreen-slide .slide-content code{font-size:1.1rem}
.fullscreen-slide .slide-content blockquote{font-size:1.2rem}
.fullscreen-nav{position:fixed;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:center;gap:1rem;padding:1rem;background:rgba(0,0,0,.6);backdrop-filter:blur(12px);opacity:0;transition:opacity .3s;z-index:10001}
.fullscreen-overlay:hover .fullscreen-nav{opacity:1}
.fullscreen-nav button{background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2);color:#fff;padding:.5rem 1rem;border-radius:8px;cursor:pointer;font-size:.9rem;font-weight:500;transition:all .2s;font-family:inherit}
.fullscreen-nav button:hover{background:rgba(255,255,255,.2)}
.fullscreen-counter{color:rgba(255,255,255,.7);font-size:.9rem;min-width:80px;text-align:center}
.fullscreen-notes{position:fixed;bottom:60px;left:50%;transform:translateX(-50%);max-width:700px;width:90%;padding:.8rem 1.2rem;background:rgba(0,0,0,.7);backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.1);border-radius:10px;color:rgba(255,255,255,.6);font-size:.85rem;font-style:italic;text-align:center;opacity:0;transition:opacity .3s;z-index:10001;pointer-events:none}
.fullscreen-overlay:hover .fullscreen-notes{opacity:1}
/* fullscreen theme bgs */
.fs-theme-dark .fullscreen-slide{background:var(--bg)}
.fs-theme-light .fullscreen-slide{background:#fff}
.fs-theme-corporate .fullscreen-slide{background:linear-gradient(180deg,#0f172a,#1e293b)}
.fs-theme-creative .fullscreen-slide{background:linear-gradient(135deg,#1a0a2e,#0f172a,#1a0a2e)}
/* CTA */
.cta-section{text-align:center;padding:4rem 1.5rem;max-width:700px;margin:0 auto}
.cta-section h2{font-size:1.8rem;font-weight:800;margin-bottom:.75rem}
.cta-section h2 span{background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.cta-section p{color:var(--text2);margin-bottom:1.5rem}
.cta-btn{display:inline-block;background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;padding:.75rem 2rem;border-radius:10px;font-weight:700;text-decoration:none;font-size:1rem;transition:transform .2s,box-shadow .2s}
.cta-btn:hover{transform:translateY(-2px);box-shadow:0 8px 30px rgba(99,102,241,.3)}
/* FOOTER */
.footer{border-top:1px solid var(--border);padding:3rem 2rem 2rem;max-width:1200px;margin:0 auto}
.footer-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;margin-bottom:2rem}
.footer-col h4{font-size:.85rem;font-weight:700;margin-bottom:.75rem;color:var(--text)}
.footer-col a{display:block;color:var(--text2);text-decoration:none;font-size:.8rem;margin-bottom:.4rem;transition:color .2s}
.footer-col a:hover{color:var(--primary)}
.footer-bottom{text-align:center;color:var(--text2);font-size:.75rem;padding-top:1.5rem;border-top:1px solid var(--border)}
/* FADE IN */
.fade-in{opacity:0;transform:translateY(20px);transition:opacity .6s,transform .6s}
.fade-in.visible{opacity:1;transform:translateY(0)}
/* TOAST */
.toast{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%) translateY(80px);background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.6rem 1.2rem;border-radius:10px;font-size:.85rem;font-weight:500;z-index:200;transition:transform .3s;pointer-events:none}
.toast.show{transform:translateX(-50%) translateY(0)}
/* RESPONSIVE */
@media(max-width:900px){
  .panels{grid-template-columns:1fr;min-height:auto}
  .panel{min-height:350px}
  .fullscreen-slide{padding:2rem}
  .fullscreen-slide .slide-content h1{font-size:2rem}
  .fullscreen-slide .slide-content h2{font-size:1.5rem}
  .fullscreen-slide .slide-content p,.fullscreen-slide .slide-content li{font-size:1rem}
}
@media(max-width:768px){
  .nav-links{display:none;position:absolute;top:64px;left:0;right:0;background:var(--bg);border-bottom:1px solid var(--border);flex-direction:column;padding:1rem 2rem;gap:1rem}
  .nav-links.open{display:flex}
  .nav-toggle{display:block}
  .hero h1{font-size:1.6rem}
  .footer-grid{grid-template-columns:1fr}
  .toolbar{gap:.35rem}
}
</style>
</head>
<body>

<nav class="nav">
  <a href="/" class="nav-logo">NexTool</a>
  <button class="nav-toggle" onclick="document.querySelector('.nav-links').classList.toggle('open')" aria-label="Menu">&#9776;</button>
  <div class="nav-links">
    <a href="/">Home</a>
    <a href="/free-tools/">Tools</a>
    <a href="/free-tools/">Free Tools</a>
    <a href="/blog/">Blog</a>
    <a href="/#contact" class="nav-cta">Get Pro — $29</a>
  </div>
</nav>

<section class="hero fade-in">
  <h1>Free <span>Markdown Slides</span> Maker</h1>
  <p class="tool-summary" style="color:#94a3b8;font-size:15px;line-height:1.6;margin-bottom:24px;max-width:700px;margin-left:auto;margin-right:auto;">Write markdown, get a polished slide presentation. Separate slides with ---, add speaker notes, pick a theme, and present fullscreen. Export as a self-contained HTML file. 100% client-side, no signup.</p>
</section>

<div class="tool-container fade-in">
  <div class="toolbar">
    <button onclick="loadSample()" title="Load sample presentation">Sample</button>
    <select id="themeSelect" onchange="applyTheme()" title="Presentation theme">
      <option value="dark">Dark Theme</option>
      <option value="light">Light Theme</option>
      <option value="corporate">Corporate Theme</option>
      <option value="creative">Creative Theme</option>
    </select>
    <button onclick="enterFullscreen()" title="Present fullscreen">Present</button>
    <button onclick="exportHTML()" title="Export as HTML file">Export HTML</button>
    <span class="spacer"></span>
    <span style="font-size:.75rem;color:var(--text2)">Separate slides with <code style="background:var(--surface2);padding:2px 6px;border-radius:4px;font-family:'JetBrains Mono',monospace;font-size:.75rem;color:var(--cyan)">---</code></span>
  </div>

  <div class="status-bar">
    <span id="statusText">Write markdown to begin</span>
    <span id="slideCountInfo" style="margin-left:auto"></span>
  </div>

  <div class="panels">
    <div class="panel">
      <div class="panel-header"><span>Markdown Editor</span><span id="lineCount"></span></div>
      <div class="panel-body">
        <textarea id="mdInput" placeholder="# My Presentation

Write your first slide here.

---

## Second Slide

- Point one
- Point two
- **Bold text** and *italic text*

---

## Code Example

```javascript
const hello = 'world';
console.log(hello);
```

<!-- notes: These are speaker notes, only visible to you -->" spellcheck="false"></textarea>
      </div>
    </div>
    <div class="panel" id="previewPanel">
      <div class="panel-header">
        <span>Slide Preview</span>
        <span style="display:flex;align-items:center;gap:.5rem">
          <button class="notes-toggle" id="notesToggle" onclick="toggleNotes()" title="Toggle speaker notes">Notes</button>
          <span id="outputInfo"></span>
        </span>
      </div>
      <div class="panel-body">
        <div class="slide-viewport theme-dark" id="slideViewport">
          <div class="slide-frame" id="slideFrame">
            <div class="slide-content" id="slideContent"><p style="color:var(--text2)">Your slides will appear here...</p></div>
          </div>
          <div class="speaker-notes" id="speakerNotes" style="display:none"></div>
          <div class="slide-nav">
            <button onclick="prevSlide()" id="btnPrev" disabled title="Previous slide (Left arrow)">&#8592;</button>
            <span class="slide-counter" id="slideCounter">0 / 0</span>
            <button onclick="nextSlide()" id="btnNext" disabled title="Next slide (Right arrow)">&#8594;</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- FULLSCREEN OVERLAY -->
<div class="fullscreen-overlay" id="fullscreenOverlay">
  <div class="fullscreen-slide" id="fullscreenSlide">
    <div class="slide-content" id="fullscreenContent"></div>
  </div>
  <div class="fullscreen-notes" id="fullscreenNotes"></div>
  <div class="fullscreen-nav">
    <button onclick="prevSlide()">&#8592; Prev</button>
    <span class="fullscreen-counter" id="fullscreenCounter">0 / 0</span>
    <button onclick="nextSlide()">Next &#8594;</button>
    <button onclick="exitFullscreen()">Exit (Esc)</button>
  </div>
</div>

<section class="cta-section fade-in">
  <h2>Need something <span>more powerful</span>?</h2>
  <p>Let us build it for you. Custom APIs, dashboards, automations &mdash; whatever you need.</p>
  <a href="/#contact" class="cta-btn">Start a Project &rarr;</a>
</section>

<!-- Cross Promo -->
<section style="max-width:900px;margin:40px auto;padding:0 24px;">
<div style="background:linear-gradient(135deg,rgba(99,102,241,0.1),rgba(168,85,247,0.08));border:1px solid rgba(99,102,241,0.15);border-radius:20px;padding:32px 28px;text-align:center;">
<div style="font-size:13px;color:#818cf8;font-weight:600;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;">Founding Member</div>
<h3 style="font-size:22px;font-weight:800;color:#fff;margin:0 0 8px;">Get NexTool Pro</h3>
<p style="color:#94a3b8;font-size:14px;margin:0 auto 20px;max-width:500px;">No banners, clean output, enhanced features on all 150+ tools. One-time payment.</p>
<div style="display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap;">
<a href="/pro.html" style="display:inline-block;padding:12px 28px;background:linear-gradient(135deg,#6366f1,#a855f7,#ec4899);color:#fff;border-radius:10px;font-weight:700;font-size:15px;text-decoration:none;">$29 — Get Pro</a>
<a href="/free-tools/" style="color:#94a3b8;font-size:14px;text-decoration:none;">Browse 150+ Free Tools &rarr;</a>
</div>
</div>
</section>

<footer class="footer fade-in">
  <div class="footer-grid">
    <div class="footer-col">
      <h4>Products</h4>
      <a href="/free-tools/">150+ Free Tools</a>
<a href="/pro.html">NexTool Pro</a>
<a href="/workspace.html">Workspace</a>
    </div>
    <div class="footer-col">
      <h4>Explore</h4>
      <a href="/free-tools/">Free Tools</a><a href="/blog/">Blog</a><a href="/pro.html">FAQ</a><a href="/pro.html">Pro — $29</a>
    </div>
    <div class="footer-col">
      <h4>Ecosystem</h4>
      <a href="/">NexTool Home</a><a href="/#contact">Contact</a><a href="https://github.com/christian140903-sudo/nextool" target="_blank">GitHub</a>
    </div>
  </div>
  <div class="footer-bottom">&copy; 2026 NexTool. AI-powered tools for everyone.</div>
</footer>

<div class="toast" id="toast"></div>

<script>
const mdInput = document.getElementById('mdInput');
const slideContent = document.getElementById('slideContent');
const slideFrame = document.getElementById('slideFrame');
const slideViewport = document.getElementById('slideViewport');
const slideCounter = document.getElementById('slideCounter');
const speakerNotesEl = document.getElementById('speakerNotes');
const notesToggle = document.getElementById('notesToggle');
const btnPrev = document.getElementById('btnPrev');
const btnNext = document.getElementById('btnNext');
const statusText = document.getElementById('statusText');
const slideCountInfo = document.getElementById('slideCountInfo');
const lineCount = document.getElementById('lineCount');
const outputInfo = document.getElementById('outputInfo');
const fullscreenOverlay = document.getElementById('fullscreenOverlay');
const fullscreenContent = document.getElementById('fullscreenContent');
const fullscreenNotes = document.getElementById('fullscreenNotes');
const fullscreenCounter = document.getElementById('fullscreenCounter');
const fullscreenSlide = document.getElementById('fullscreenSlide');

let slides = [];
let currentSlide = 0;
let showNotes = false;
let isFullscreen = false;
let currentTheme = 'dark';

/* Debounce */
function debounce(fn, ms) { let t; return (...a) => { clearTimeout(t); t = setTimeout(() => fn(...a), ms); }; }

mdInput.addEventListener('input', debounce(processSlides, 200));
mdInput.addEventListener('input', updateLineCount);

function updateLineCount() {
  const lines = mdInput.value.split('\n').length;
  lineCount.textContent = lines + ' line' + (lines !== 1 ? 's' : '');
}

/* MARKDOWN PARSER — lightweight, client-side */
function parseMd(text) {
  // Extract and remove speaker notes
  let notes = '';
  text = text.replace(/<!--\s*notes?:\s*([\s\S]*?)-->/gi, function(m, n) {
    notes = n.trim();
    return '';
  });

  let html = text;

  // Code blocks (fenced) — must be done before other transforms
  html = html.replace(/```(\w*)\n([\s\S]*?)```/g, function(m, lang, code) {
    return '<pre><code class="lang-' + (lang||'text') + '">' + escHtml(code.trimEnd()) + '</code></pre>';
  });

  // Inline code (protect from further parsing)
  const codeSpans = [];
  html = html.replace(/`([^`\n]+)`/g, function(m, code) {
    codeSpans.push('<code>' + escHtml(code) + '</code>');
    return '\x00CODE' + (codeSpans.length - 1) + '\x00';
  });

  // Headers
  html = html.replace(/^#### (.+)$/gm, '<h4>$1</h4>');
  html = html.replace(/^### (.+)$/gm, '<h3>$1</h3>');
  html = html.replace(/^## (.+)$/gm, '<h2>$1</h2>');
  html = html.replace(/^# (.+)$/gm, '<h1>$1</h1>');

  // Blockquotes
  html = html.replace(/^> (.+)$/gm, '<blockquote><p>$1</p></blockquote>');

  // Images
  html = html.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, '<img src="$2" alt="$1">');

  // Links
  html = html.replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2" target="_blank" rel="noopener">$1</a>');

  // Bold + Italic
  html = html.replace(/\*\*\*(.+?)\*\*\*/g, '<strong><em>$1</em></strong>');
  html = html.replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>');
  html = html.replace(/\*(.+?)\*/g, '<em>$1</em>');
  html = html.replace(/___(.+?)___/g, '<strong><em>$1</em></strong>');
  html = html.replace(/__(.+?)__/g, '<strong>$1</strong>');
  html = html.replace(/_(.+?)_/g, '<em>$1</em>');

  // Strikethrough
  html = html.replace(/~~(.+?)~~/g, '<del>$1</del>');

  // Horizontal rule (standalone, not the slide separator)
  html = html.replace(/^\*\*\*\s*$/gm, '<hr>');
  html = html.replace(/^___\s*$/gm, '<hr>');

  // Unordered lists
  html = html.replace(/(^[\t ]*[-*+] .+\n?)+/gm, function(block) {
    const items = block.trim().split('\n').map(function(line) {
      return '<li>' + line.replace(/^[\t ]*[-*+] /, '') + '</li>';
    }).join('');
    return '<ul>' + items + '</ul>';
  });

  // Ordered lists
  html = html.replace(/(^\d+\. .+\n?)+/gm, function(block) {
    const items = block.trim().split('\n').map(function(line) {
      return '<li>' + line.replace(/^\d+\. /, '') + '</li>';
    }).join('');
    return '<ol>' + items + '</ol>';
  });

  // Paragraphs — wrap remaining text lines
  html = html.replace(/^(?!<[a-z/])((?!^\s*$).+)$/gm, function(m, line) {
    if (/^\s*$/.test(line)) return line;
    return '<p>' + line + '</p>';
  });

  // Clean up multiple blank lines
  html = html.replace(/\n{3,}/g, '\n\n');

  // Restore inline code spans
  html = html.replace(/\x00CODE(\d+)\x00/g, function(m, idx) {
    return codeSpans[parseInt(idx)];
  });

  return { html: html.trim(), notes: notes };
}

function escHtml(s) {
  return s.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');
}

/* PROCESS SLIDES */
function processSlides() {
  const raw = mdInput.value;
  if (!raw.trim()) {
    slides = [];
    currentSlide = 0;
    slideContent.innerHTML = '<p style="color:var(--text2)">Your slides will appear here...</p>';
    slideCounter.textContent = '0 / 0';
    speakerNotesEl.textContent = '';
    statusText.textContent = 'Write markdown to begin';
    slideCountInfo.textContent = '';
    outputInfo.textContent = '';
    btnPrev.disabled = true;
    btnNext.disabled = true;
    return;
  }

  // Split by --- on its own line (horizontal rule)
  const rawSlides = raw.split(/\n---\n/);
  slides = rawSlides.map(function(s) {
    return parseMd(s.trim());
  });

  // Clamp currentSlide
  if (currentSlide >= slides.length) currentSlide = slides.length - 1;
  if (currentSlide < 0) currentSlide = 0;

  renderSlide();
  statusText.textContent = slides.length + ' slide' + (slides.length !== 1 ? 's' : '') + ' detected';
  slideCountInfo.textContent = slides.length + ' slides';
  outputInfo.textContent = 'Slide ' + (currentSlide + 1);
}

function renderSlide() {
  if (!slides.length) return;
  const s = slides[currentSlide];
  slideContent.innerHTML = s.html;
  slideCounter.textContent = (currentSlide + 1) + ' / ' + slides.length;
  outputInfo.textContent = 'Slide ' + (currentSlide + 1);

  // Speaker notes
  if (s.notes && showNotes) {
    speakerNotesEl.style.display = '';
    speakerNotesEl.textContent = s.notes;
  } else {
    speakerNotesEl.style.display = 'none';
    speakerNotesEl.textContent = '';
  }

  // Nav buttons
  btnPrev.disabled = currentSlide === 0;
  btnNext.disabled = currentSlide === slides.length - 1;

  // Fullscreen
  if (isFullscreen) {
    fullscreenContent.innerHTML = s.html;
    fullscreenCounter.textContent = (currentSlide + 1) + ' / ' + slides.length;
    if (s.notes) {
      fullscreenNotes.textContent = s.notes;
      fullscreenNotes.style.display = '';
    } else {
      fullscreenNotes.style.display = 'none';
    }
  }
}

function nextSlide() {
  if (currentSlide < slides.length - 1) {
    currentSlide++;
    renderSlide();
  }
}

function prevSlide() {
  if (currentSlide > 0) {
    currentSlide--;
    renderSlide();
  }
}

function toggleNotes() {
  showNotes = !showNotes;
  notesToggle.classList.toggle('active', showNotes);
  renderSlide();
}

/* THEME */
function applyTheme() {
  currentTheme = document.getElementById('themeSelect').value;
  slideViewport.className = 'slide-viewport theme-' + currentTheme;
  // Fullscreen theme
  fullscreenOverlay.className = 'fullscreen-overlay fs-theme-' + currentTheme + ' theme-' + currentTheme + (isFullscreen ? ' active' : '');
}

/* FULLSCREEN */
function enterFullscreen() {
  if (!slides.length) { showToast('No slides to present'); return; }
  isFullscreen = true;
  fullscreenOverlay.className = 'fullscreen-overlay fs-theme-' + currentTheme + ' theme-' + currentTheme + ' active';
  renderSlide();

  // Try browser fullscreen API
  const el = fullscreenOverlay;
  if (el.requestFullscreen) el.requestFullscreen();
  else if (el.webkitRequestFullscreen) el.webkitRequestFullscreen();
}

function exitFullscreen() {
  isFullscreen = false;
  fullscreenOverlay.classList.remove('active');
  if (document.fullscreenElement) document.exitFullscreen();
  else if (document.webkitFullscreenElement) document.webkitExitFullscreen();
}

/* KEYBOARD NAVIGATION */
document.addEventListener('keydown', function(e) {
  // Don't capture when typing in textarea
  if (e.target === mdInput) return;

  if (e.key === 'ArrowRight' || e.key === 'ArrowDown' || e.key === ' ') {
    e.preventDefault();
    nextSlide();
  } else if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
    e.preventDefault();
    prevSlide();
  } else if (e.key === 'Escape') {
    if (isFullscreen) exitFullscreen();
  } else if (e.key === 'f' || e.key === 'F') {
    if (!isFullscreen) enterFullscreen();
  }
});

// Handle browser fullscreen exit
document.addEventListener('fullscreenchange', function() {
  if (!document.fullscreenElement && isFullscreen) {
    exitFullscreen();
  }
});
document.addEventListener('webkitfullscreenchange', function() {
  if (!document.webkitFullscreenElement && isFullscreen) {
    exitFullscreen();
  }
});

/* EXPORT HTML */
function exportHTML() {
  if (!slides.length) { showToast('No slides to export'); return; }
  const theme = currentTheme;

  // Build theme CSS for export
  let themeBg = '#050508';
  let themeCSS = '';
  if (theme === 'dark') {
    themeBg = '#050508';
    themeCSS = 'h1,h2{background:linear-gradient(135deg,#6366f1,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent}h3{color:#e4e4eb}body{color:#e4e4eb}code{background:rgba(99,102,241,.1);color:#22d3ee}pre code{background:rgba(0,0,0,.3);border:1px solid #2a2a3a;color:#e4e4eb}blockquote{border-left-color:#6366f1;color:#9494a8}a{color:#6366f1}';
  } else if (theme === 'light') {
    themeBg = '#ffffff';
    themeCSS = 'h1,h2{color:#1a1a2e}h3{color:#333}body{color:#1a1a2e}code{background:rgba(99,102,241,.08);color:#6366f1}pre code{background:#f4f4f8;color:#1a1a2e;border-color:#e2e2e8}blockquote{border-left-color:#6366f1;color:#555}a{color:#6366f1}';
  } else if (theme === 'corporate') {
    themeBg = '#0f172a';
    themeCSS = 'h1{color:#fff;border-bottom:3px solid #3b82f6;padding-bottom:.4rem}h2{color:#93c5fd}h3{color:#bfdbfe}body{color:#e2e8f0;background:linear-gradient(180deg,#0f172a,#1e293b)}code{background:rgba(59,130,246,.15);color:#93c5fd}pre code{background:rgba(0,0,0,.4);border-color:rgba(59,130,246,.2);color:#e2e8f0}blockquote{border-left-color:#3b82f6;color:#94a3b8}a{color:#60a5fa}';
  } else if (theme === 'creative') {
    themeBg = '#1a0a2e';
    themeCSS = 'h1{background:linear-gradient(135deg,#ec4899,#a855f7,#6366f1);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:3rem}h2{background:linear-gradient(135deg,#f472b6,#c084fc);-webkit-background-clip:text;-webkit-text-fill-color:transparent}h3{color:#c084fc}body{color:#e4e4ed;background:linear-gradient(135deg,#1a0a2e,#0f172a,#1a0a2e)}code{background:rgba(168,85,247,.15);color:#c084fc}pre code{background:rgba(0,0,0,.4);border-color:rgba(168,85,247,.2);color:#e4e4ed}blockquote{border-left-color:#ec4899;color:#f9a8d4}a{color:#c084fc}';
  }

  const slidesHTML = slides.map(function(s, i) {
    return '<section class="slide" id="slide-' + i + '">' + s.html + '</section>';
  }).join('\n');

  const exportDoc = '<!DOCTYPE html>\n<html lang="en">\n<head>\n<meta charset="UTF-8">\n<meta name="viewport" content="width=device-width,initial-scale=1.0">\n<title>Presentation</title>\n<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">\n<style>\n*{box-sizing:border-box;margin:0;padding:0}\nbody{font-family:Inter,sans-serif;background:' + themeBg + ';overflow:hidden}\n.slide{display:none;width:100vw;height:100vh;padding:6rem;align-items:center;justify-content:center;flex-direction:column}\n.slide.active{display:flex}\nh1{font-size:3rem;font-weight:800;margin-bottom:1rem;line-height:1.2}\nh2{font-size:2.2rem;font-weight:700;margin-bottom:.8rem}\nh3{font-size:1.6rem;font-weight:600;margin-bottom:.6rem}\np{font-size:1.3rem;line-height:1.7;margin-bottom:.6rem}\nul,ol{margin:0 0 .6rem 2rem;font-size:1.3rem;line-height:1.8}\nli{margin-bottom:.4rem}\ncode{font-family:"JetBrains Mono",monospace;font-size:1rem;padding:.2rem .5rem;border-radius:4px}\npre{margin:.8rem 0;border-radius:8px;overflow-x:auto}\npre code{display:block;padding:1.5rem;border-radius:8px;font-size:1rem;line-height:1.6}\nimg{max-width:80%;max-height:60vh;border-radius:8px;margin:.5rem 0}\nblockquote{border-left:3px solid;padding:.5rem 0 .5rem 1.2rem;margin:.8rem 0;font-style:italic;font-size:1.2rem}\nstrong{font-weight:700}\nem{font-style:italic}\nhr{border:none;border-top:1px solid rgba(255,255,255,.2);margin:1.5rem 0;width:100%}\na{text-decoration:underline}\n.nav-bar{position:fixed;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:center;gap:1rem;padding:1rem;background:rgba(0,0,0,.5);backdrop-filter:blur(10px);opacity:0;transition:opacity .3s}\n.nav-bar:hover{opacity:1}\n.nav-bar button{background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2);color:#fff;padding:.5rem 1.2rem;border-radius:8px;cursor:pointer;font:500 .9rem Inter,sans-serif}\n.nav-bar button:hover{background:rgba(255,255,255,.2)}\n.counter{color:rgba(255,255,255,.6);font-size:.9rem;min-width:80px;text-align:center}\n' + themeCSS + '\n</style>\n</head>\n<body>\n' + slidesHTML + '\n<div class="nav-bar">\n<button onclick="prev()">&#8592; Prev</button>\n<span class="counter" id="counter"></span>\n<button onclick="next()">Next &#8594;</button>\n</div>\n<script>\nvar cur=0,all=document.querySelectorAll(".slide"),cnt=document.getElementById("counter");\nfunction show(){all.forEach(function(s,i){s.classList.toggle("active",i===cur)});cnt.textContent=(cur+1)+" / "+all.length}\nfunction next(){if(cur<all.length-1){cur++;show()}}\nfunction prev(){if(cur>0){cur--;show()}}\ndocument.addEventListener("keydown",function(e){if(e.key==="ArrowRight"||e.key===" ")next();else if(e.key==="ArrowLeft")prev()});\nshow();\n<\/script>\n</body>\n</html>';

  const blob = new Blob([exportDoc], { type: 'text/html' });
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = 'presentation.html';
  a.click();
  URL.revokeObjectURL(a.href);
  showToast('Exported presentation.html');
}

/* SAMPLE */
function loadSample() {
  mdInput.value = '# Welcome to Markdown Slides\n\nCreate beautiful presentations with just markdown.\n\n**Powered by NexTool** -- 100% free, no signup.\n\n<!-- notes: Welcome the audience and introduce the tool -->\n\n---\n\n## Features\n\n- Write slides in **markdown**\n- Separate slides with `---`\n- Multiple themes to choose from\n- Fullscreen presentation mode\n- Speaker notes support\n- Export as self-contained HTML\n\n<!-- notes: Walk through each feature briefly -->\n\n---\n\n## Code Blocks\n\nFull syntax support for code examples:\n\n```javascript\nfunction greet(name) {\n  return `Hello, ${name}!`;\n}\n\nconsole.log(greet("World"));\n```\n\n---\n\n## Formatting\n\nMarkdown slides support all common formatting:\n\n- **Bold text** for emphasis\n- *Italic text* for subtle emphasis\n- ~~Strikethrough~~ for corrections\n- `inline code` for technical terms\n- [Links](https://nextool.app) for references\n\n> "The best presentations are the ones that feel effortless."\n\n---\n\n## Images\n\nAdd images via URL:\n\n![Placeholder](https://placehold.co/600x300/6366f1/ffffff?text=Your+Image+Here)\n\nPerfect for diagrams, screenshots, and illustrations.\n\n---\n\n## Themes\n\nChoose from four built-in themes:\n\n1. **Dark** -- Sleek gradient headers\n2. **Light** -- Clean and professional\n3. **Corporate** -- Blue tones, structured\n4. **Creative** -- Pink and purple gradients\n\nSwitch themes from the toolbar above.\n\n---\n\n# Thank You!\n\nBuilt with NexTool -- the free online toolbox.\n\nPress **F** for fullscreen, or use arrow keys to navigate.\n\n<!-- notes: Thank the audience, take questions -->';
  updateLineCount();
  currentSlide = 0;
  processSlides();
}

/* TAB KEY */
mdInput.addEventListener('keydown', function(e) {
  if (e.key === 'Tab') {
    e.preventDefault();
    const start = mdInput.selectionStart, end = mdInput.selectionEnd;
    mdInput.value = mdInput.value.substring(0, start) + '  ' + mdInput.value.substring(end);
    mdInput.selectionStart = mdInput.selectionEnd = start + 2;
  }
});

/* TOAST */
function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2000);
}

/* FADE IN */
const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('visible'); observer.unobserve(entry.target); }});
}, { threshold: 0.1 });
document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
</script>
<script src="/js/analytics-lite.js" defer></script>
<script src="/js/revenue.js" defer></script>
<script src="/js/lead-capture.js" defer></script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "How do I separate slides in Markdown Slides?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Use three dashes (---) on their own line to separate one slide from the next. Each section between separators becomes a single slide in your presentation."
      }
    },
    {
      "@type": "Question",
      "name": "Can I add speaker notes to my slides?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes. Use the HTML comment syntax <!-- notes: Your notes here --> anywhere in a slide. Notes are hidden from the audience and visible only in the Notes panel and fullscreen presenter view."
      }
    },
    {
      "@type": "Question",
      "name": "How do I present my slides fullscreen?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Click the Present button in the toolbar, or press the F key. Navigate with arrow keys or spacebar. Press Escape to exit fullscreen mode."
      }
    },
    {
      "@type": "Question",
      "name": "Can I export my presentation?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes. Click Export HTML to download a self-contained HTML file that includes your slides, chosen theme, and keyboard navigation. You can open it in any browser without an internet connection."
      }
    }
  ]
}
</script>
</body>
</html>
