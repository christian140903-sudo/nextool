<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
    <link rel="icon" type="image/svg+xml" href="/img/favicon.svg">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HTTP Mock Server Generator â€” Mock API Response Builder | ANIMA</title>
<meta name="description" content="Free HTTP mock server generator. Define mock API endpoints and generate Express.js, FastAPI, nginx, json-server, and MSW configurations. No signup required.">
<meta name="keywords" content="mock server, mock API, Express mock, FastAPI mock, json-server, MSW, API testing, free online tool, ANIMA">
<meta property="og:title" content="Free HTTP Mock Server Generator | ANIMA">
<meta property="og:description" content="Define mock endpoints and generate Express.js, FastAPI, nginx, json-server, MSW configs. 100% free.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://nextool.app/free-tools/http-mock-server.html">
<meta property="og:image" content="https://nextool.app/img/og-image.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<link rel="canonical" href="https://nextool.app/free-tools/http-mock-server.html">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Free HTTP Mock Server Generator | ANIMA">
<meta name="twitter:description" content="Generate mock API server code for Express.js, FastAPI, nginx, and more. Free tool by ANIMA.">
<meta name="robots" content="index, follow">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"SoftwareApplication","name":"HTTP Mock Server Generator","applicationCategory":"DeveloperApplication","operatingSystem":"Web","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"description":"Free HTTP mock server generator that outputs Express.js, FastAPI, nginx, json-server, and MSW configurations."}
</script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#050508;--surface:#111118;--surface2:#1a1a24;--border:#2a2a3a;--text:#e4e4eb;--text2:#9494a8;--primary:#7c3aed;--accent:#a855f7;--pink:#ec4899;--green:#22c55e;--red:#ef4444;--cyan:#22d3ee;--yellow:#eab308;--blue:#3b82f6;--orange:#f97316;--radius:12px;--glass:rgba(17,17,24,0.7)}
html{scroll-behavior:smooth}
body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);line-height:1.6;min-height:100vh;overflow-x:hidden}
.nav{position:sticky;top:0;z-index:100;background:rgba(5,5,8,0.85);backdrop-filter:blur(20px);border-bottom:1px solid var(--border);padding:0 2rem;height:64px;display:flex;align-items:center;justify-content:space-between}
.nav-logo{font-size:1.4rem;font-weight:800;background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-decoration:none}
.nav-links{display:flex;align-items:center;gap:1.5rem}
.nav-links a{color:var(--text2);text-decoration:none;font-size:.875rem;font-weight:500;transition:color .2s}
.nav-links a:hover{color:var(--text)}
.nav-cta{background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff!important;padding:.5rem 1.2rem;border-radius:8px;font-weight:600;-webkit-text-fill-color:#fff!important}
.nav-toggle{display:none;background:none;border:none;color:var(--text);font-size:1.5rem;cursor:pointer}
.hero{text-align:center;padding:3rem 1.5rem 2rem;max-width:700px;margin:0 auto}
.hero h1{font-size:2.2rem;font-weight:800;line-height:1.2;margin-bottom:.75rem}
.hero h1 span{background:linear-gradient(135deg,var(--primary),var(--accent),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hero p{color:var(--text2);font-size:1rem}
.tool-container{max-width:1000px;margin:0 auto;padding:0 1.5rem 3rem}
.card{background:var(--glass);backdrop-filter:blur(16px);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;margin-bottom:1.5rem}
.card-header{padding:.75rem 1.2rem;border-bottom:1px solid var(--border);font-size:.85rem;font-weight:700;color:var(--text2);background:rgba(26,26,36,0.5);display:flex;justify-content:space-between;align-items:center}
.card-body{padding:1.2rem}
.endpoint-card{background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:1rem;margin-bottom:.75rem}
.endpoint-row{display:flex;gap:.4rem;margin-bottom:.5rem;align-items:center;flex-wrap:wrap}
.endpoint-row select,.endpoint-row input{background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.45rem .65rem;border-radius:6px;font-size:.82rem;font-family:inherit;outline:none;transition:border-color .2s}
.endpoint-row select{width:90px;appearance:none;padding-right:1.5rem;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%239494a8' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right .4rem center;background-color:var(--surface2)}
.endpoint-row input{flex:1}
.endpoint-row input:focus{border-color:var(--primary)}
.endpoint-row .status-input{width:60px}
.endpoint-row .delay-input{width:70px}
.resp-area{width:100%;min-height:80px;background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.5rem .65rem;border-radius:6px;font-size:.8rem;font-family:'Courier New',monospace;outline:none;resize:vertical;line-height:1.6}
.resp-area:focus{border-color:var(--primary)}
.remove-ep{background:none;border:1px solid var(--border);color:var(--red);width:28px;height:28px;border-radius:6px;cursor:pointer;font-size:1rem;display:flex;align-items:center;justify-content:center;transition:all .2s;flex-shrink:0}
.remove-ep:hover{background:rgba(239,68,68,.12);border-color:var(--red)}
.add-btn{background:var(--surface2);border:1px solid var(--border);color:var(--primary);padding:.45rem .85rem;border-radius:8px;font-size:.8rem;font-weight:600;cursor:pointer;transition:all .2s;font-family:inherit}
.add-btn:hover{background:rgba(124,58,237,.12);border-color:var(--primary)}
.gen-btn{background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;border:none;padding:.55rem 1.2rem;border-radius:8px;font-size:.85rem;font-weight:700;cursor:pointer;font-family:inherit;transition:opacity .2s}
.gen-btn:hover{opacity:.9}
.output-tabs{display:flex;gap:0;border-bottom:1px solid var(--border);flex-wrap:wrap}
.output-tab{padding:.5rem .85rem;background:transparent;border:none;color:var(--text2);font-size:.78rem;font-weight:600;cursor:pointer;font-family:inherit;transition:all .2s;border-bottom:2px solid transparent}
.output-tab:hover{color:var(--text)}
.output-tab.active{color:var(--primary);border-bottom-color:var(--primary)}
.output-code{background:var(--surface);padding:1rem;font-family:'Courier New',monospace;font-size:.8rem;line-height:1.7;white-space:pre-wrap;word-break:break-all;color:var(--text);max-height:500px;overflow-y:auto;position:relative}
.copy-btn{position:absolute;top:.5rem;right:.5rem;background:var(--surface2);border:1px solid var(--border);color:var(--text2);padding:.3rem .6rem;border-radius:6px;font-size:.7rem;cursor:pointer;transition:all .2s;font-family:inherit;z-index:5}
.copy-btn:hover{border-color:var(--primary);color:var(--primary)}
.ep-labels{display:flex;gap:.4rem;margin-bottom:.3rem;font-size:.7rem;color:var(--text2);font-weight:600}
.ep-labels span{flex:1}
.ep-labels .method-label{width:90px;flex:none}
.ep-labels .status-label{width:60px;flex:none}
.ep-labels .delay-label{width:70px;flex:none}
.ep-labels .remove-label{width:28px;flex:none}
.resp-headers-area{width:100%;min-height:40px;background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.4rem .65rem;border-radius:6px;font-size:.78rem;font-family:'Courier New',monospace;outline:none;resize:vertical;line-height:1.5;margin-top:.4rem}
.resp-headers-area:focus{border-color:var(--primary)}
.section-label{font-size:.72rem;color:var(--text2);font-weight:600;margin-bottom:.2rem;margin-top:.5rem}
.cta-section{text-align:center;padding:4rem 1.5rem;max-width:700px;margin:0 auto}
.cta-section h2{font-size:1.8rem;font-weight:800;margin-bottom:.75rem}
.cta-section h2 span{background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.cta-section p{color:var(--text2);margin-bottom:1.5rem}
.cta-btn{display:inline-block;background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;padding:.75rem 2rem;border-radius:10px;font-weight:700;text-decoration:none;font-size:1rem;transition:transform .2s,box-shadow .2s}
.cta-btn:hover{transform:translateY(-2px);box-shadow:0 8px 30px rgba(124,58,237,.3)}
.footer{border-top:1px solid var(--border);padding:3rem 2rem 2rem;max-width:1200px;margin:0 auto}
.footer-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;margin-bottom:2rem}
.footer-col h4{font-size:.85rem;font-weight:700;margin-bottom:.75rem;color:var(--text)}
.footer-col a{display:block;color:var(--text2);text-decoration:none;font-size:.8rem;margin-bottom:.4rem;transition:color .2s}
.footer-col a:hover{color:var(--primary)}
.footer-bottom{text-align:center;color:var(--text2);font-size:.75rem;padding-top:1.5rem;border-top:1px solid var(--border)}
.fade-in{opacity:0;transform:translateY(20px);transition:opacity .6s,transform .6s}
.fade-in.visible{opacity:1;transform:translateY(0)}
.toast{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%) translateY(80px);background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.6rem 1.2rem;border-radius:10px;font-size:.85rem;font-weight:500;z-index:200;transition:transform .3s;pointer-events:none}
.toast.show{transform:translateX(-50%) translateY(0)}
@media(max-width:768px){
  .nav-links{display:none;position:absolute;top:64px;left:0;right:0;background:var(--bg);border-bottom:1px solid var(--border);flex-direction:column;padding:1rem 2rem;gap:1rem}
  .nav-links.open{display:flex}
  .nav-toggle{display:block}
  .hero h1{font-size:1.6rem}
  .footer-grid{grid-template-columns:1fr}
  .endpoint-row{flex-direction:column}
  .endpoint-row select,.endpoint-row input{width:100%!important}
  .ep-labels{display:none}
  .output-tabs{gap:0}
  .output-tab{padding:.4rem .5rem;font-size:.7rem}
}
</style>
</head>
<body>

<nav class="nav">
  <a href="/" class="nav-logo">ANIMA</a>
  <button class="nav-toggle" onclick="document.querySelector('.nav-links').classList.toggle('open')" aria-label="Menu">&#9776;</button>
  <div class="nav-links">
    <a href="/">Home</a>
    <a href="/free-tools/">Tools</a>
    <a href="/free-tools/">Free Tools</a>
    <a href="/blog/">Blog</a>
    <a href="https://github.com/christian140903-sudo/nextool" class="nav-cta" target="_blank" rel="noopener">GitHub</a>
  </div>
</nav>

<section class="hero fade-in">
  <h1>Free <span>HTTP Mock Server Generator</span></h1>
  <p>Define mock API endpoints and generate ready-to-use server code for Express.js, FastAPI, nginx, json-server, and MSW (Mock Service Worker). No signup required.</p>
</section>

<div class="tool-container fade-in">
  <!-- Endpoints -->
  <div class="card">
    <div class="card-header">
      <span>Mock Endpoints</span>
      <div style="display:flex;gap:.5rem">
        <button class="add-btn" onclick="addEndpoint()">+ Add Endpoint</button>
        <button class="add-btn" onclick="loadSample()">Load Sample</button>
      </div>
    </div>
    <div class="card-body" id="endpointsList"></div>
  </div>

  <!-- Generate -->
  <div style="text-align:center;margin-bottom:1.5rem">
    <button class="gen-btn" onclick="generateAll()">Generate Server Code</button>
  </div>

  <!-- Output -->
  <div class="card" id="outputCard" style="display:none">
    <div class="card-header" style="padding:0;border-bottom:none">
      <div class="output-tabs">
        <button class="output-tab active" data-tab="express" onclick="switchTab('express')">Express.js</button>
        <button class="output-tab" data-tab="fastapi" onclick="switchTab('fastapi')">FastAPI</button>
        <button class="output-tab" data-tab="nginx" onclick="switchTab('nginx')">nginx</button>
        <button class="output-tab" data-tab="jsonserver" onclick="switchTab('jsonserver')">json-server</button>
        <button class="output-tab" data-tab="msw" onclick="switchTab('msw')">MSW</button>
        <button class="output-tab" data-tab="jsonconfig" onclick="switchTab('jsonconfig')">JSON Config</button>
      </div>
    </div>
    <div style="position:relative">
      <div class="output-code" id="outputCode"></div>
      <button class="copy-btn" onclick="copyOutput()">Copy</button>
    </div>
  </div>
</div>

<section class="cta-section fade-in">
  <h2>Need a <span>production API</span>?</h2>
  <p>Let us build real APIs, microservices, and backend systems for your project.</p>
  <a href="/#contact" class="cta-btn">Start a Project &rarr;</a>
</section>

<footer class="footer fade-in">
  <div class="footer-grid">
    <div class="footer-col">
      <h4>Products</h4>
      <a href="/free-tools/">250+ Free Tools</a>
      <a href="/about/">About</a>
      <a href="/docs/">Documentation</a>
    </div>
    <div class="footer-col">
      <h4>Explore</h4>
      <a href="/free-tools/">Free Tools</a><a href="/blog/">Blog</a><a href="/about/">FAQ</a>
    </div>
    <div class="footer-col">
      <h4>Ecosystem</h4>
      <a href="/">ANIMA Home</a><a href="/#contact">Contact</a><a href="https://github.com/christian140903-sudo/nextool" target="_blank">GitHub</a>
    </div>
  </div>
  <div class="footer-bottom">&copy; 2026 ANIMA. AI-powered tools for everyone.</div>
</footer>

<div class="toast" id="toast"></div>

<script>
function showToast(msg){const t=document.getElementById('toast');t.textContent=msg;t.classList.add('show');setTimeout(()=>t.classList.remove('show'),2000)}
function escHtml(s){return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')}

let endpoints=[{method:'GET',path:'/api/users',status:200,delay:0,body:'[\n  {"id": 1, "name": "Alice"},\n  {"id": 2, "name": "Bob"}\n]',headers:'Content-Type: application/json'}];
let currentTab='express';

function renderEndpoints(){
  const list=document.getElementById('endpointsList');
  list.innerHTML='';
  endpoints.forEach((ep,i)=>{
    const div=document.createElement('div');div.className='endpoint-card';
    div.innerHTML=`
      <div class="endpoint-row">
        <select onchange="endpoints[${i}].method=this.value">
          ${['GET','POST','PUT','PATCH','DELETE','HEAD','OPTIONS'].map(m=>'<option'+(m===ep.method?' selected':'')+'>'+m+'</option>').join('')}
        </select>
        <input type="text" placeholder="/api/endpoint" value="${escHtml(ep.path)}" oninput="endpoints[${i}].path=this.value">
        <input type="number" class="status-input" placeholder="200" value="${ep.status}" oninput="endpoints[${i}].status=parseInt(this.value)||200" title="Status code">
        <input type="number" class="delay-input" placeholder="0ms" value="${ep.delay}" oninput="endpoints[${i}].delay=parseInt(this.value)||0" title="Delay (ms)">
        <button class="remove-ep" onclick="endpoints.splice(${i},1);renderEndpoints()" title="Remove">&times;</button>
      </div>
      <div class="section-label">Response Body (JSON)</div>
      <textarea class="resp-area" oninput="endpoints[${i}].body=this.value" spellcheck="false">${escHtml(ep.body)}</textarea>
      <div class="section-label">Response Headers (one per line, Key: Value)</div>
      <textarea class="resp-headers-area" oninput="endpoints[${i}].headers=this.value" spellcheck="false" placeholder="Content-Type: application/json">${escHtml(ep.headers||'')}</textarea>
    `;
    list.appendChild(div);
  });
}

function addEndpoint(){
  endpoints.push({method:'GET',path:'/api/new',status:200,delay:0,body:'{"message": "Hello"}',headers:'Content-Type: application/json'});
  renderEndpoints();
}

function loadSample(){
  endpoints=[
    {method:'GET',path:'/api/users',status:200,delay:0,body:'[\n  {"id": 1, "name": "Alice", "email": "alice@example.com"},\n  {"id": 2, "name": "Bob", "email": "bob@example.com"}\n]',headers:'Content-Type: application/json'},
    {method:'GET',path:'/api/users/:id',status:200,delay:100,body:'{"id": 1, "name": "Alice", "email": "alice@example.com"}',headers:'Content-Type: application/json'},
    {method:'POST',path:'/api/users',status:201,delay:0,body:'{"id": 3, "name": "Charlie", "message": "User created"}',headers:'Content-Type: application/json'},
    {method:'PUT',path:'/api/users/:id',status:200,delay:0,body:'{"id": 1, "name": "Alice Updated", "message": "User updated"}',headers:'Content-Type: application/json'},
    {method:'DELETE',path:'/api/users/:id',status:204,delay:0,body:'',headers:''},
    {method:'GET',path:'/api/health',status:200,delay:0,body:'{"status": "ok", "uptime": 99.9}',headers:'Content-Type: application/json'}
  ];
  renderEndpoints();
  generateAll();
  showToast('Sample endpoints loaded');
}

function parseHeaders(str){
  if(!str)return{};
  const h={};
  str.split('\n').forEach(line=>{
    const idx=line.indexOf(':');
    if(idx>0)h[line.slice(0,idx).trim()]=line.slice(idx+1).trim();
  });
  return h;
}

function genExpress(){
  let c="const express = require('express');\nconst cors = require('cors');\nconst app = express();\n\napp.use(cors());\napp.use(express.json());\n\n";
  endpoints.forEach(ep=>{
    const m=ep.method.toLowerCase();
    const expressPath=ep.path.replace(/:(\w+)/g,':$1');
    c+="app."+m+"('"+expressPath+"', ";
    if(ep.delay>0)c+="async ";
    c+="(req, res) => {\n";
    if(ep.delay>0)c+="  await new Promise(r => setTimeout(r, "+ep.delay+"));\n";
    const hdrs=parseHeaders(ep.headers);
    for(const[k,v]of Object.entries(hdrs)){
      if(k.toLowerCase()!=='content-type')c+="  res.set('"+k+"', '"+v+"');\n";
    }
    if(ep.body.trim()){
      try{JSON.parse(ep.body);c+="  res.status("+ep.status+").json("+ep.body.trim()+");\n"}
      catch(e){c+="  res.status("+ep.status+").send("+JSON.stringify(ep.body)+");\n"}
    }else{c+="  res.status("+ep.status+").end();\n"}
    c+="});\n\n";
  });
  c+="const PORT = process.env.PORT || 3000;\napp.listen(PORT, () => console.log(`Mock server running on port ${PORT}`));\n";
  return c;
}

function genFastAPI(){
  let c="from fastapi import FastAPI\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom fastapi.responses import JSONResponse\nimport asyncio\n\napp = FastAPI(title=\"Mock API\")\n\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=[\"*\"],\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)\n\n";
  endpoints.forEach(ep=>{
    const m=ep.method.toLowerCase();
    const pyPath=ep.path.replace(/:(\w+)/g,'{$1}');
    const params=[];
    const paramMatches=ep.path.match(/:(\w+)/g);
    if(paramMatches)paramMatches.forEach(p=>params.push(p.slice(1)+': str'));
    c+="@app."+m+"(\""+pyPath+"\")\n";
    c+="async def mock_"+m+"_"+ep.path.replace(/[^a-zA-Z0-9]/g,'_').replace(/_+/g,'_').replace(/^_|_$/g,'')+"("+params.join(', ')+"):\n";
    if(ep.delay>0)c+="    await asyncio.sleep("+ep.delay/1000+")\n";
    const hdrs=parseHeaders(ep.headers);
    const hdrDict={};
    for(const[k,v]of Object.entries(hdrs)){if(k.toLowerCase()!=='content-type')hdrDict[k]=v}
    if(ep.body.trim()){
      try{
        JSON.parse(ep.body);
        c+="    return JSONResponse(\n        status_code="+ep.status+",\n        content="+ep.body.trim()+",\n";
        if(Object.keys(hdrDict).length)c+="        headers="+JSON.stringify(hdrDict)+",\n";
        c+="    )\n\n";
      }catch(e){
        c+="    return JSONResponse(status_code="+ep.status+", content="+JSON.stringify(ep.body)+")\n\n";
      }
    }else{
      c+="    return JSONResponse(status_code="+ep.status+", content=None)\n\n";
    }
  });
  c+="\n# Run: uvicorn main:app --reload --port 3000\n";
  return c;
}

function genNginx(){
  let c="server {\n    listen 3000;\n    server_name localhost;\n\n    # CORS headers\n    add_header 'Access-Control-Allow-Origin' '*' always;\n    add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, PATCH, DELETE, OPTIONS' always;\n    add_header 'Access-Control-Allow-Headers' '*' always;\n\n";
  endpoints.forEach(ep=>{
    const methods=ep.method;
    const nginxPath=ep.path.replace(/:(\w+)/g,'(?<$1>[^/]+)');
    const isRegex=ep.path.includes(':');
    c+="    location "+(isRegex?"~ ^"+nginxPath+"$ ":ep.path)+" {\n";
    c+="        if ($request_method = '"+methods+"') {\n";
    const hdrs=parseHeaders(ep.headers);
    for(const[k,v]of Object.entries(hdrs))c+="            add_header '"+k+"' '"+v+"';\n";
    c+="            return "+ep.status;
    if(ep.body.trim())c+=" '"+ep.body.replace(/'/g,"\\'").replace(/\n/g,'')+"'";
    c+=";\n        }\n    }\n\n";
  });
  c+="}\n";
  return c;
}

function genJsonServer(){
  const db={};
  endpoints.filter(e=>e.method==='GET').forEach(ep=>{
    const key=ep.path.split('/').filter(Boolean).pop()||'data';
    if(ep.body.trim()){try{db[key]=JSON.parse(ep.body)}catch(e){db[key]=ep.body}}
  });
  let c="// db.json for json-server\n// Run: npx json-server --watch db.json --port 3000\n\n";
  c+=JSON.stringify(db,null,2);
  c+="\n\n// Routes (json-server convention):\n";
  endpoints.forEach(ep=>{c+="// "+ep.method+" "+ep.path+" -> "+ep.status+"\n"});
  return c;
}

function genMSW(){
  let c="// MSW (Mock Service Worker) handlers\n// https://mswjs.io/\n\nimport { http, HttpResponse } from 'msw';\n\nexport const handlers = [\n";
  endpoints.forEach((ep,i)=>{
    const m=ep.method.toLowerCase();
    const mswPath=ep.path.replace(/:(\w+)/g,':$1');
    c+="  http."+m+"('http://localhost:3000"+mswPath+"', ";
    if(ep.delay>0)c+="async ";
    c+="({ params }) => {\n";
    if(ep.delay>0)c+="    await new Promise(r => setTimeout(r, "+ep.delay+"));\n";
    if(ep.body.trim()){
      try{
        JSON.parse(ep.body);
        c+="    return HttpResponse.json(\n      "+ep.body.trim().replace(/\n/g,'\n      ')+",\n      { status: "+ep.status+" }\n    );\n";
      }catch(e){
        c+="    return new HttpResponse("+JSON.stringify(ep.body)+", { status: "+ep.status+" });\n";
      }
    }else{
      c+="    return new HttpResponse(null, { status: "+ep.status+" });\n";
    }
    c+="  }),\n";
  });
  c+="];\n";
  return c;
}

function genJSONConfig(){
  const config={endpoints:endpoints.map(ep=>{
    const obj={method:ep.method,path:ep.path,status:ep.status};
    if(ep.delay>0)obj.delay=ep.delay;
    if(ep.body.trim()){try{obj.body=JSON.parse(ep.body)}catch(e){obj.body=ep.body}}
    const hdrs=parseHeaders(ep.headers);
    if(Object.keys(hdrs).length)obj.headers=hdrs;
    return obj;
  })};
  return JSON.stringify(config,null,2);
}

function generateAll(){
  document.getElementById('outputCard').style.display='';
  switchTab(currentTab);
}

function switchTab(tab){
  currentTab=tab;
  document.querySelectorAll('.output-tab').forEach(t=>t.classList.toggle('active',t.dataset.tab===tab));
  const generators={express:genExpress,fastapi:genFastAPI,nginx:genNginx,jsonserver:genJsonServer,msw:genMSW,jsonconfig:genJSONConfig};
  document.getElementById('outputCode').textContent=generators[tab]();
}

function copyOutput(){
  navigator.clipboard.writeText(document.getElementById('outputCode').textContent).then(()=>showToast('Copied to clipboard'));
}

renderEndpoints();

const observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add('visible');observer.unobserve(entry.target)}})},{threshold:0.1});
document.querySelectorAll('.fade-in').forEach(el=>observer.observe(el));
</script>
<script src="/js/analytics-lite.js" defer></script>
<script src="/js/revenue.js" defer></script>
<script src="/js/lead-capture.js" defer></script>
</body>
</html>