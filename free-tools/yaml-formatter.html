<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>YAML Formatter &amp; Validator — Format, Validate &amp; Convert YAML | NexTool</title>
<meta name="description" content="Format, validate, and convert YAML online. YAML to JSON and JSON to YAML conversion. Error detection with line numbers. Free tool by NexTool.">
<meta name="keywords" content="YAML formatter, YAML validator, YAML to JSON, JSON to YAML, format YAML, validate YAML, NexTool">
<meta property="og:title" content="Free YAML Formatter & Validator | NexTool">
<meta property="og:description" content="Format, validate, and convert YAML instantly. YAML/JSON conversion, error detection. Free online tool.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://nextool.app/free-tools/yaml-formatter.html">
<meta property="og:image" content="https://nextool.app/free-tools/og/yaml-formatter.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<link rel="canonical" href="https://nextool.app/free-tools/yaml-formatter.html">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Free YAML Formatter & Validator | NexTool">
<meta name="twitter:description" content="Format, validate, and convert YAML instantly. Free online tool by NexTool.">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/js-yaml@4.1.0/dist/js-yaml.min.js"></script>
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://nextool.app/"},{"@type":"ListItem","position":2,"name":"Free Tools","item":"https://nextool.app/free-tools/"},{"@type":"ListItem","position":3,"name":"YAML Formatter","item":"https://nextool.app/free-tools/yaml-formatter.html"}]}
</script>
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"SoftwareApplication","name":"NexTool YAML Formatter & Validator","applicationCategory":"DeveloperApplication","operatingSystem":"Web","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"description":"Format, validate, and convert YAML. YAML to JSON and JSON to YAML conversion with error detection."}
</script>
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#050508;--surface:#111118;--surface2:#1a1a24;--border:#252533;--primary:#6366f1;--accent:#a855f7;--pink:#ec4899;--text:#e2e8f0;--text2:#94a3b8;--radius:12px;--glass:rgba(17,17,24,.7);--error:#f87171;--success:#34d399}
html{scroll-behavior:smooth}
body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);line-height:1.6;overflow-x:hidden}
a{color:var(--primary);text-decoration:none}
.nav{position:sticky;top:0;z-index:100;backdrop-filter:blur(20px);background:rgba(5,5,8,.85);border-bottom:1px solid var(--border);padding:0 24px}
.nav-inner{max-width:1200px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;height:64px}
.logo{font-weight:800;font-size:1.35rem;background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.nav-links{display:flex;gap:28px;align-items:center}
.nav-links a{color:var(--text2);font-size:.9rem;font-weight:500;transition:color .2s}
.nav-links a:hover{color:var(--text)}
.nav-links a.active{color:var(--primary)}
.btn-cta{background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;padding:9px 22px;border-radius:8px;font-weight:600;font-size:.85rem;border:none;cursor:pointer;transition:transform .2s,box-shadow .2s}
.btn-cta:hover{transform:translateY(-1px);box-shadow:0 4px 20px rgba(99,102,241,.4)}
.mobile-toggle{display:none;background:none;border:none;color:var(--text);font-size:1.5rem;cursor:pointer}
.breadcrumb{max-width:1200px;margin:0 auto;padding:16px 24px 0;font-size:.82rem;color:var(--text2)}
.breadcrumb a{color:var(--text2);transition:color .2s}
.breadcrumb a:hover{color:var(--primary)}
.breadcrumb span{margin:0 8px;opacity:.5}
.hero{text-align:center;padding:60px 24px 40px;max-width:800px;margin:0 auto}
.hero .badge{display:inline-block;padding:6px 16px;border-radius:20px;background:var(--surface);border:1px solid var(--border);font-size:.8rem;color:var(--accent);font-weight:600;margin-bottom:20px}
.hero h1{font-size:clamp(2rem,5vw,3rem);font-weight:800;line-height:1.15;margin-bottom:16px}
.hero h1 .grad{background:linear-gradient(135deg,var(--primary),var(--accent),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hero p{color:var(--text2);font-size:1.05rem;max-width:560px;margin:0 auto}
.tool-section{max-width:1100px;margin:0 auto;padding:0 24px 60px}
.glass-card{background:var(--glass);backdrop-filter:blur(16px);border:1px solid var(--border);border-radius:var(--radius);padding:32px;transition:transform .3s,box-shadow .3s}
.glass-card:hover{box-shadow:0 8px 40px rgba(99,102,241,.1)}
.controls{display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap;align-items:center}
.controls .action-btn{padding:10px 22px;border-radius:8px;font-weight:600;font-size:.85rem;cursor:pointer;border:1px solid var(--border);background:var(--surface2);color:var(--text);transition:all .2s;font-family:inherit}
.controls .action-btn:hover{border-color:var(--primary);color:var(--primary)}
.controls .action-btn.primary{background:linear-gradient(135deg,var(--primary),var(--accent));border:none;color:#fff}
.controls .action-btn.primary:hover{transform:translateY(-1px);box-shadow:0 4px 16px rgba(99,102,241,.35)}
.controls .action-btn.active{border-color:var(--primary);color:var(--primary);background:rgba(99,102,241,.1)}
.controls .spacer{flex:1}
.stats{font-size:.8rem;color:var(--text2);padding:4px 12px;background:var(--surface2);border-radius:6px;display:flex;gap:16px;align-items:center}
.stats span{white-space:nowrap}
.options-bar{display:flex;gap:10px;margin-bottom:16px;flex-wrap:wrap;align-items:center}
.opt-group{display:flex;align-items:center;gap:6px;font-size:.8rem;color:var(--text2)}
.opt-group label{cursor:pointer;white-space:nowrap}
.opt-group select{background:var(--surface2);color:var(--text);border:1px solid var(--border);border-radius:6px;padding:4px 8px;font-size:.78rem;font-family:inherit;cursor:pointer}
.opt-group select:focus{outline:none;border-color:var(--primary)}
.tab-bar{display:flex;gap:0;margin-bottom:20px;background:var(--surface2);border-radius:8px;overflow:hidden;border:1px solid var(--border)}
.tab-bar button{flex:1;padding:10px 20px;background:none;border:none;color:var(--text2);font-weight:600;font-size:.85rem;cursor:pointer;font-family:inherit;transition:all .2s}
.tab-bar button:hover{color:var(--text)}
.tab-bar button.active{background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff}
.editor-grid{display:grid;grid-template-columns:1fr 1fr;gap:24px}
.editor-pane{display:flex;flex-direction:column}
.editor-pane label{font-weight:600;font-size:.82rem;margin-bottom:8px;color:var(--text2);display:flex;justify-content:space-between;align-items:center}
.editor-pane label .label-actions{display:flex;gap:8px}
.label-btn{background:none;border:none;color:var(--text2);cursor:pointer;font-size:.78rem;font-weight:600;font-family:inherit;padding:2px 6px;border-radius:4px;transition:color .2s}
.label-btn:hover{color:var(--primary)}
textarea.code-input{width:100%;min-height:420px;background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:16px;color:var(--text);font-size:.85rem;font-family:'SF Mono','Fira Code','Cascadia Code',Consolas,monospace;line-height:1.65;resize:vertical;tab-size:2;transition:border-color .2s}
textarea.code-input:focus{outline:none;border-color:var(--primary)}
textarea.code-input.error{border-color:var(--error)}
.output-wrap{position:relative;width:100%;min-height:420px;background:var(--surface2);border:1px solid var(--border);border-radius:8px;overflow:auto}
.output-wrap pre{padding:16px;margin:0;font-size:.85rem;font-family:'SF Mono','Fira Code','Cascadia Code',Consolas,monospace;line-height:1.65;white-space:pre-wrap;word-break:break-all}
.output-wrap .line-numbers{position:absolute;left:0;top:0;padding:16px 0;width:40px;text-align:right;color:var(--text2);font-size:.75rem;font-family:'SF Mono','Fira Code','Cascadia Code',Consolas,monospace;line-height:1.65;user-select:none;opacity:.5}
.output-wrap pre.has-lines{padding-left:52px}
.error-box{background:rgba(248,113,113,.08);border:1px solid rgba(248,113,113,.25);border-radius:8px;padding:16px;margin-bottom:16px;display:none}
.error-box.show{display:block}
.error-box .error-title{color:var(--error);font-weight:700;font-size:.85rem;margin-bottom:8px}
.error-box .error-msg{color:var(--text2);font-size:.82rem;font-family:'SF Mono','Fira Code','Cascadia Code',Consolas,monospace;line-height:1.5}
.valid-badge{display:inline-flex;align-items:center;gap:6px;padding:4px 12px;border-radius:6px;font-size:.8rem;font-weight:600}
.valid-badge.valid{background:rgba(52,211,153,.1);color:var(--success)}
.valid-badge.invalid{background:rgba(248,113,113,.1);color:var(--error)}
.hl-key{color:#67e8f9}
.hl-string{color:#34d399}
.hl-number{color:#fb923c}
.hl-boolean{color:#c084fc}
.hl-null{color:#f87171}
.hl-comment{color:#64748b;font-style:italic}
.hl-punctuation{color:#94a3b8}
.hl-anchor{color:#f472b6}
.cta-bottom{text-align:center;padding:80px 24px;max-width:700px;margin:0 auto}
.cta-bottom h2{font-size:clamp(1.5rem,3.5vw,2.2rem);font-weight:800;margin-bottom:14px}
.cta-bottom h2 .grad{background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.cta-bottom p{color:var(--text2);margin-bottom:28px;font-size:1rem}
footer{border-top:1px solid var(--border);padding:60px 24px 32px;max-width:1200px;margin:0 auto}
.footer-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:40px;margin-bottom:40px}
.footer-col h4{font-size:.85rem;font-weight:700;margin-bottom:16px;color:var(--text)}
.footer-col a{display:block;color:var(--text2);font-size:.85rem;margin-bottom:10px;transition:color .2s}
.footer-col a:hover{color:var(--primary)}
.footer-bottom{text-align:center;color:var(--text2);font-size:.8rem;padding-top:24px;border-top:1px solid var(--border)}
@keyframes fadeUp{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
.fade-in{opacity:0;transform:translateY(24px);transition:opacity .6s,transform .6s}.fade-in.visible{opacity:1;transform:translateY(0)}
.toast{position:fixed;bottom:32px;left:50%;transform:translateX(-50%) translateY(80px);background:var(--primary);color:#fff;padding:12px 28px;border-radius:10px;font-weight:600;font-size:.9rem;z-index:200;transition:transform .35s cubic-bezier(.4,0,.2,1);pointer-events:none}
.toast.show{transform:translateX(-50%) translateY(0)}
@media(max-width:768px){
  .nav-links{display:none;position:absolute;top:64px;left:0;right:0;background:var(--surface);flex-direction:column;padding:20px;gap:16px;border-bottom:1px solid var(--border)}
  .nav-links.open{display:flex}
  .mobile-toggle{display:block}
  .editor-grid{grid-template-columns:1fr}
  .footer-grid{grid-template-columns:1fr 1fr}
  .glass-card{padding:24px 18px}
  .controls{flex-direction:column;align-items:stretch}
  .controls .spacer{display:none}
  .stats{justify-content:center}
  .options-bar{flex-direction:column;align-items:flex-start}
}
</style>
</head>
<body>
<nav class="nav"><div class="nav-inner">
  <a href="/" class="logo">NexTool</a>
  <button class="mobile-toggle" onclick="document.querySelector('.nav-links').classList.toggle('open')" aria-label="Menu">&#9776;</button>
  <div class="nav-links">
    <a href="/">Home</a><a href="/free-tools/" class="active">Free Tools</a><a href="/blog/">Blog</a>
    <a href="/pro.html" class="btn-cta">Get Pro</a>
  </div>
</div></nav>

<div class="breadcrumb">
  <a href="/">Home</a><span>/</span><a href="/free-tools/">Free Tools</a><span>/</span>YAML Formatter
</div>

<section class="hero fade-in">
  <div class="badge">Free Tool</div>
  <h1>YAML <span class="grad">Formatter &amp; Validator</span></h1>
  <p>Format, validate, and convert YAML instantly. Detect errors with line numbers, convert between YAML and JSON, and configure indent style.</p>
</section>

<section class="tool-section">
  <div class="glass-card fade-in">
    <div class="tab-bar">
      <button class="active" id="tab-format" onclick="switchTab('format')">Format YAML</button>
      <button id="tab-yaml2json" onclick="switchTab('yaml2json')">YAML &rarr; JSON</button>
      <button id="tab-json2yaml" onclick="switchTab('json2yaml')">JSON &rarr; YAML</button>
    </div>
    <div class="error-box" id="error-box">
      <div class="error-title">Validation Error</div>
      <div class="error-msg" id="error-msg"></div>
    </div>
    <div class="controls">
      <button class="action-btn primary" id="btn-process" onclick="processInput()">Format</button>
      <button class="action-btn" id="btn-validate" onclick="validateOnly()">Validate</button>
      <div id="valid-indicator"></div>
      <div class="spacer"></div>
      <div class="stats" id="stats">
        <span>Lines: <strong id="stat-lines">0</strong></span>
        <span>Input: <strong id="stat-in">0</strong></span>
        <span>Output: <strong id="stat-out">0</strong></span>
      </div>
    </div>
    <div class="options-bar">
      <div class="opt-group">
        <label for="opt-indent">Indent:</label>
        <select id="opt-indent">
          <option value="2">2 spaces</option>
          <option value="4">4 spaces</option>
        </select>
      </div>
    </div>
    <div class="editor-grid">
      <div class="editor-pane">
        <label>
          <span id="input-label">Input YAML</span>
          <div class="label-actions">
            <button class="label-btn" onclick="loadSample()">Sample</button>
            <button class="label-btn" onclick="clearInput()">Clear</button>
          </div>
        </label>
        <textarea class="code-input" id="input" placeholder="Paste your YAML here..." spellcheck="false"></textarea>
      </div>
      <div class="editor-pane">
        <label>
          <span id="output-label">Formatted YAML</span>
          <div class="label-actions">
            <button class="label-btn" onclick="copyOutput()">Copy</button>
            <button class="label-btn" id="btn-download" onclick="downloadFile()">Download .yaml</button>
          </div>
        </label>
        <div class="output-wrap" id="output-wrap">
          <div class="line-numbers" id="line-nums"></div>
          <pre id="output" class="has-lines"></pre>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="cta-bottom fade-in">
  <h2>Explore <span class="grad">245+ Free Tools</span></h2>
  <p>NexTool is your all-in-one developer toolkit. Formatters, generators, converters, and more — all free, all instant.</p>
  <a href="/free-tools/" class="btn-cta" style="display:inline-block;padding:14px 36px;font-size:1rem">Browse All Tools</a>
</section>

<section style="max-width:900px;margin:40px auto;padding:0 24px;">
<div style="background:linear-gradient(135deg,rgba(99,102,241,0.1),rgba(168,85,247,0.08));border:1px solid rgba(99,102,241,0.15);border-radius:20px;padding:32px 28px;text-align:center;">
<div style="font-size:13px;color:#818cf8;font-weight:600;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;">Founding Member</div>
<h3 style="font-size:22px;font-weight:800;color:#fff;margin:0 0 8px;">Get NexTool Pro</h3>
<p style="color:#94a3b8;font-size:14px;margin:0 auto 20px;max-width:500px;">No banners, clean output, enhanced features on all 245+ tools. One-time payment.</p>
<div style="display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap;">
<a href="/pro.html" style="display:inline-block;padding:12px 28px;background:linear-gradient(135deg,#6366f1,#a855f7,#ec4899);color:#fff;border-radius:10px;font-weight:700;font-size:15px;text-decoration:none;transition:transform 0.2s;" onmouseenter="this.style.transform='translateY(-2px)'" onmouseleave="this.style.transform='translateY(0)'">$29 — Get Pro</a>
<a href="/free-tools/" style="color:#94a3b8;font-size:14px;text-decoration:none;transition:color 0.2s;" onmouseenter="this.style.color='#e2e8f0'" onmouseleave="this.style.color='#94a3b8'">Browse 245+ Free Tools &rarr;</a>
</div>
</div>
</section>


<!-- AUTO-LINKED by NexTool Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/box-shadow-generator.html" style="color:var(--primary);text-decoration:none">CSS Box Shadow Generator</a> · <a href="/free-tools/emoji-picker.html" style="color:var(--primary);text-decoration:none">Emoji Picker & Search</a> · <a href="/free-tools/meta-tag-generator.html" style="color:var(--primary);text-decoration:none">Meta Tag Generator</a> · <a href="/free-tools/favicon-generator.html" style="color:var(--primary);text-decoration:none">Favicon Generator</a> · <a href="/free-tools/base64.html" style="color:var(--primary);text-decoration:none">Free Base64 Encoder/Decoder</a></p>
</div>

<!-- AUTO-LINKED by NexTool Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/icon-generator.html" style="color:var(--primary);text-decoration:none">Free Icon Generator</a> · <a href="/free-tools/yaml-editor.html" style="color:var(--primary);text-decoration:none">Free YAML Editor</a> · <a href="/free-tools/html-beautifier.html" style="color:var(--primary);text-decoration:none">Free HTML Beautifier</a></p>
</div>

<!-- AUTO-LINKED by NexTool Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/json-to-yaml-converter.html" style="color:var(--primary);text-decoration:none">Free JSON to YAML Converter</a> · <a href="/free-tools/json-to-yaml.html" style="color:var(--primary);text-decoration:none">Free JSON to YAML Converter</a> · <a href="/free-tools/accessibility-checker.html" style="color:var(--primary);text-decoration:none">Free Accessibility Checker</a></p>
</div>
<footer>
  <div class="footer-grid">
    <div class="footer-col"><h4>Tools</h4>
      <a href="/free-tools/">All Free Tools</a><a href="/free-tools/html-formatter.html">HTML Formatter</a><a href="/free-tools/javascript-formatter.html">JS Formatter</a><a href="/free-tools/css-formatter.html">CSS Formatter</a><a href="/free-tools/csv-formatter.html">CSV Formatter</a>
    </div>
    <div class="footer-col"><h4>Resources</h4>
      <a href="/free-tools/">Free Tools</a><a href="/blog/">Blog</a><a href="/pro.html">NexTool Pro</a>
    </div>
    <div class="footer-col"><h4>Legal</h4>
      <a href="/terms.html">Privacy Policy</a><a href="/terms.html">Terms of Service</a>
    </div>
    <div class="footer-col"><h4>Product</h4>
      <a href="/">Home</a><a href="/pro.html">Pro</a><a href="/blog/">Blog</a>
    </div>
  </div>
  <div class="footer-bottom">&copy; 2026 NexTool. All rights reserved.</div>
</footer>

<div class="toast" id="toast">Copied!</div>

<script>
const inputEl=document.getElementById('input');
const outputEl=document.getElementById('output');
const lineNumsEl=document.getElementById('line-nums');
const statIn=document.getElementById('stat-in');
const statOut=document.getElementById('stat-out');
const statLines=document.getElementById('stat-lines');
const errorBox=document.getElementById('error-box');
const errorMsg=document.getElementById('error-msg');
let rawOutput='';
let currentTab='format';

function showToast(msg){
  const t=document.getElementById('toast');
  t.textContent=msg;t.classList.add('show');
  setTimeout(()=>t.classList.remove('show'),2000);
}

function updateStats(){
  const inLen=inputEl.value.length;
  const outLen=rawOutput.length;
  const lines=rawOutput?rawOutput.split('\n').length:0;
  statIn.textContent=inLen.toLocaleString()+' chars';
  statOut.textContent=outLen.toLocaleString()+' chars';
  statLines.textContent=lines.toLocaleString();
}

function showError(msg){
  errorMsg.textContent=msg;
  errorBox.classList.add('show');
  inputEl.classList.add('error');
  document.getElementById('valid-indicator').innerHTML='<span class="valid-badge invalid">Invalid</span>';
}

function hideError(){
  errorBox.classList.remove('show');
  inputEl.classList.remove('error');
  document.getElementById('valid-indicator').innerHTML='';
}

function switchTab(tab){
  currentTab=tab;
  document.querySelectorAll('.tab-bar button').forEach(b=>b.classList.remove('active'));
  document.getElementById('tab-'+tab).classList.add('active');
  hideError();
  rawOutput='';
  outputEl.innerHTML='';
  lineNumsEl.textContent='';

  if(tab==='format'){
    document.getElementById('input-label').textContent='Input YAML';
    document.getElementById('output-label').textContent='Formatted YAML';
    document.getElementById('btn-process').textContent='Format';
    document.getElementById('btn-download').textContent='Download .yaml';
    document.getElementById('btn-download').setAttribute('onclick','downloadFile()');
    inputEl.placeholder='Paste your YAML here...';
  }else if(tab==='yaml2json'){
    document.getElementById('input-label').textContent='Input YAML';
    document.getElementById('output-label').textContent='JSON Output';
    document.getElementById('btn-process').textContent='Convert to JSON';
    document.getElementById('btn-download').textContent='Download .json';
    document.getElementById('btn-download').setAttribute('onclick','downloadJSON()');
    inputEl.placeholder='Paste your YAML here...';
  }else if(tab==='json2yaml'){
    document.getElementById('input-label').textContent='Input JSON';
    document.getElementById('output-label').textContent='YAML Output';
    document.getElementById('btn-process').textContent='Convert to YAML';
    document.getElementById('btn-download').textContent='Download .yaml';
    document.getElementById('btn-download').setAttribute('onclick','downloadFile()');
    inputEl.placeholder='Paste your JSON here...';
  }
}

function processInput(){
  const input=inputEl.value;
  if(!input.trim()){showToast('Paste some content first');return}
  hideError();

  try{
    if(currentTab==='format'){
      const indentSize=parseInt(document.getElementById('opt-indent').value);
      const parsed=jsyaml.load(input);
      rawOutput=jsyaml.dump(parsed,{indent:indentSize,lineWidth:120,noRefs:true,sortKeys:false});
      document.getElementById('valid-indicator').innerHTML='<span class="valid-badge valid">Valid YAML</span>';
    }else if(currentTab==='yaml2json'){
      const parsed=jsyaml.load(input);
      const indentSize=parseInt(document.getElementById('opt-indent').value);
      rawOutput=JSON.stringify(parsed,null,indentSize);
      document.getElementById('valid-indicator').innerHTML='<span class="valid-badge valid">Valid YAML</span>';
    }else if(currentTab==='json2yaml'){
      const parsed=JSON.parse(input);
      const indentSize=parseInt(document.getElementById('opt-indent').value);
      rawOutput=jsyaml.dump(parsed,{indent:indentSize,lineWidth:120,noRefs:true,sortKeys:false});
      document.getElementById('valid-indicator').innerHTML='<span class="valid-badge valid">Valid JSON</span>';
    }
    renderOutput(rawOutput);
    updateStats();
  }catch(e){
    let msg=e.message||'Unknown error';
    if(e.mark){
      msg=`Line ${e.mark.line+1}, Column ${e.mark.column+1}: ${e.reason||msg}`;
    }
    showError(msg);
  }
}

function validateOnly(){
  const input=inputEl.value;
  if(!input.trim()){showToast('Paste some content first');return}
  hideError();

  try{
    if(currentTab==='json2yaml'){
      JSON.parse(input);
      document.getElementById('valid-indicator').innerHTML='<span class="valid-badge valid">Valid JSON</span>';
      showToast('JSON is valid!');
    }else{
      jsyaml.load(input);
      document.getElementById('valid-indicator').innerHTML='<span class="valid-badge valid">Valid YAML</span>';
      showToast('YAML is valid!');
    }
  }catch(e){
    let msg=e.message||'Unknown error';
    if(e.mark){
      msg=`Line ${e.mark.line+1}, Column ${e.mark.column+1}: ${e.reason||msg}`;
    }
    showError(msg);
  }
}

// ========== SYNTAX HIGHLIGHTER ==========
function highlightOutput(code){
  function esc(s){return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')}

  if(currentTab==='yaml2json'||currentTab==='json2yaml'&&false){
    // JSON highlighting for yaml2json tab
  }

  const isJSON=(currentTab==='yaml2json');
  if(isJSON){
    return highlightJSON(code);
  }
  return highlightYAML(code);
}

function highlightYAML(code){
  function esc(s){return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')}
  const lines=code.split('\n');
  let result='';

  for(const line of lines){
    if(!line.trim()){result+='\n';continue}

    // Comment
    if(line.trimStart().startsWith('#')){
      result+='<span class="hl-comment">'+esc(line)+'</span>\n';
      continue;
    }

    // Anchor/Alias
    if(/[&*]\w+/.test(line)){
      result+=esc(line).replace(/([&*])(\w+)/g,'<span class="hl-anchor">$1$2</span>')+'\n';
      continue;
    }

    // Key: value
    const kvMatch=line.match(/^(\s*)([\w][^:]*?)(\s*:\s*)(.*)/);
    if(kvMatch){
      const indent=kvMatch[1];
      const key=kvMatch[2];
      const colon=kvMatch[3];
      const value=kvMatch[4];
      let out=esc(indent)+'<span class="hl-key">'+esc(key)+'</span>'+'<span class="hl-punctuation">'+esc(colon)+'</span>';
      out+=highlightYAMLValue(value);
      result+=out+'\n';
      continue;
    }

    // List item
    const listMatch=line.match(/^(\s*)(- )(.*)/);
    if(listMatch){
      const indent=listMatch[1];
      const dash=listMatch[2];
      const value=listMatch[3];
      let out=esc(indent)+'<span class="hl-punctuation">'+esc(dash)+'</span>';

      // Check if list item has key:value
      const itemKV=value.match(/^([\w][^:]*?)(\s*:\s*)(.*)/);
      if(itemKV){
        out+='<span class="hl-key">'+esc(itemKV[1])+'</span>'+'<span class="hl-punctuation">'+esc(itemKV[2])+'</span>'+highlightYAMLValue(itemKV[3]);
      }else{
        out+=highlightYAMLValue(value);
      }
      result+=out+'\n';
      continue;
    }

    // Document marker
    if(line.trim()==='---'||line.trim()==='...'){
      result+='<span class="hl-punctuation">'+esc(line)+'</span>\n';
      continue;
    }

    result+=esc(line)+'\n';
  }
  return result;
}

function highlightYAMLValue(val){
  function esc(s){return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')}
  if(!val||!val.trim())return esc(val);

  const trimmed=val.trim();

  // Comment at end
  const commentIdx=trimmed.indexOf(' #');
  let mainVal=trimmed;
  let comment='';
  if(commentIdx>0&&trimmed[commentIdx-1]!=='/'){
    mainVal=trimmed.slice(0,commentIdx);
    comment=trimmed.slice(commentIdx);
  }

  let out='';
  // Null
  if(/^(null|~|)$/i.test(mainVal)&&mainVal!==''){
    out='<span class="hl-null">'+esc(mainVal)+'</span>';
  }
  // Boolean
  else if(/^(true|false|yes|no|on|off)$/i.test(mainVal)){
    out='<span class="hl-boolean">'+esc(mainVal)+'</span>';
  }
  // Number
  else if(/^-?(\d+\.?\d*|\.\d+)(e[+-]?\d+)?$/i.test(mainVal)||/^0x[\da-f]+$/i.test(mainVal)||/^0o[0-7]+$/i.test(mainVal)){
    out='<span class="hl-number">'+esc(mainVal)+'</span>';
  }
  // Quoted string
  else if((mainVal.startsWith('"')&&mainVal.endsWith('"'))||(mainVal.startsWith("'")&&mainVal.endsWith("'"))){
    out='<span class="hl-string">'+esc(mainVal)+'</span>';
  }
  // Block scalar
  else if(mainVal==='|'||mainVal==='>'||mainVal==='|+'||mainVal==='>+'||mainVal==='|-'||mainVal==='>-'){
    out='<span class="hl-punctuation">'+esc(mainVal)+'</span>';
  }
  // Unquoted string
  else{
    out='<span class="hl-string">'+esc(mainVal)+'</span>';
  }

  if(comment){
    out+='<span class="hl-comment">'+esc(comment)+'</span>';
  }
  return out;
}

function highlightJSON(code){
  function esc(s){return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')}
  let result='';
  let i=0;
  const len=code.length;

  while(i<len){
    // Strings
    if(code[i]==='"'){
      let j=i+1;
      while(j<len&&code[j]!=='"'){if(code[j]==='\\')j++;j++}
      j++;
      const str=code.slice(i,j);
      // Check if it's a key (followed by :)
      let peek=j;
      while(peek<len&&/\s/.test(code[peek]))peek++;
      if(code[peek]===':'){
        result+='<span class="hl-key">'+esc(str)+'</span>';
      }else{
        result+='<span class="hl-string">'+esc(str)+'</span>';
      }
      i=j;continue;
    }
    // Numbers
    if(/[-\d]/.test(code[i])){
      let j=i;
      if(code[j]==='-')j++;
      while(j<len&&/[\d.]/.test(code[j]))j++;
      if(j<len&&(code[j]==='e'||code[j]==='E')){j++;if(code[j]==='+'||code[j]==='-')j++;while(j<len&&/\d/.test(code[j]))j++}
      result+='<span class="hl-number">'+esc(code.slice(i,j))+'</span>';
      i=j;continue;
    }
    // Booleans & null
    if(code.slice(i,i+4)==='true'){result+='<span class="hl-boolean">true</span>';i+=4;continue}
    if(code.slice(i,i+5)==='false'){result+='<span class="hl-boolean">false</span>';i+=5;continue}
    if(code.slice(i,i+4)==='null'){result+='<span class="hl-null">null</span>';i+=4;continue}
    // Punctuation
    if('{}[]:,'.includes(code[i])){
      result+='<span class="hl-punctuation">'+esc(code[i])+'</span>';
      i++;continue;
    }
    result+=esc(code[i]);i++;
  }
  return result;
}

// ========== RENDER OUTPUT ==========
function renderOutput(code){
  const highlighted=highlightOutput(code);
  outputEl.innerHTML=highlighted;
  const lines=code.split('\n');
  let nums='';
  for(let i=1;i<=lines.length;i++)nums+=i+'\n';
  lineNumsEl.textContent=nums;
  document.getElementById('output-wrap').scrollTop=0;
}

// ========== ACTIONS ==========
function copyOutput(){
  if(!rawOutput){showToast('Nothing to copy');return}
  navigator.clipboard.writeText(rawOutput).then(()=>showToast('Copied to clipboard!')).catch(()=>showToast('Copy failed'));
}

function downloadFile(){
  if(!rawOutput){showToast('Nothing to download');return}
  const blob=new Blob([rawOutput],{type:'text/yaml'});
  const a=document.createElement('a');
  a.href=URL.createObjectURL(blob);
  a.download='formatted.yaml';
  a.click();
  URL.revokeObjectURL(a.href);
  showToast('Downloaded!');
}

function downloadJSON(){
  if(!rawOutput){showToast('Nothing to download');return}
  const blob=new Blob([rawOutput],{type:'application/json'});
  const a=document.createElement('a');
  a.href=URL.createObjectURL(blob);
  a.download='converted.json';
  a.click();
  URL.revokeObjectURL(a.href);
  showToast('Downloaded!');
}

function clearInput(){
  inputEl.value='';rawOutput='';
  outputEl.innerHTML='';lineNumsEl.textContent='';
  hideError();
  updateStats();
}

function loadSample(){
  if(currentTab==='json2yaml'){
    inputEl.value=`{
  "server": {
    "host": "0.0.0.0",
    "port": 8080,
    "ssl": true,
    "workers": 4
  },
  "database": {
    "engine": "postgresql",
    "host": "db.example.com",
    "port": 5432,
    "name": "myapp",
    "pool": {
      "min": 2,
      "max": 10,
      "idle_timeout": 30000
    }
  },
  "logging": {
    "level": "info",
    "format": "json",
    "outputs": ["stdout", "file"],
    "file_path": "/var/log/app.log"
  },
  "features": {
    "cache_enabled": true,
    "rate_limiting": true,
    "max_requests_per_minute": 100
  }
}`;
  }else{
    inputEl.value=`# Application Configuration
server:
  host: 0.0.0.0
  port: 8080
  ssl: true
  workers: 4

database:
  engine: postgresql
  host: db.example.com
  port: 5432
  name: myapp
  credentials:
    username: admin
    password: "s3cur3_p@ss"
  pool:
    min: 2
    max: 10
    idle_timeout: 30000

logging:
  level: info
  format: json
  outputs:
    - stdout
    - file
  file_path: /var/log/app.log

features:
  cache_enabled: true
  rate_limiting: true
  max_requests_per_minute: 100

environments:
  - name: development
    debug: true
    hot_reload: true
  - name: staging
    debug: false
    replicas: 2
  - name: production
    debug: false
    replicas: 8
    auto_scaling:
      min: 4
      max: 16
      target_cpu: 70`;
  }
  processInput();
}

inputEl.addEventListener('input',()=>{
  statIn.textContent=inputEl.value.length.toLocaleString()+' chars';
  hideError();
});

const obs=new IntersectionObserver(entries=>{entries.forEach(e=>{if(e.isIntersecting){e.target.classList.add('visible');obs.unobserve(e.target)}})},{threshold:.15});
document.querySelectorAll('.fade-in').forEach(el=>obs.observe(el));
</script>
<script src="/js/revenue.js" defer></script>
<script src="/js/lead-capture.js" defer></script>
<script src="/js/analytics-lite.js" defer></script>
</body>
</html>