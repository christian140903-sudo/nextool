<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Free JSON to YAML Converter — Convert Instantly | NexTool</title>
<meta name="description" content="Free online JSON to YAML converter and YAML to JSON converter. Bidirectional conversion with syntax validation, beautification, and error detection. No signup.">
<meta name="keywords" content="JSON to YAML, YAML to JSON, converter, online tool, free, NexTool, data format converter">
<meta name="robots" content="index, follow">
<meta property="og:title" content="Free JSON to YAML Converter | NexTool">
<meta property="og:description" content="Convert between JSON and YAML instantly. Bidirectional, validated, free online tool by NexTool.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://nextool.app/free-tools/json-to-yaml-converter.html">
<meta property="og:image" content="https://nextool.app/assets/og-default.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<link rel="canonical" href="https://nextool.app/free-tools/json-to-yaml-converter.html">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Free JSON to YAML Converter | NexTool">
<meta name="twitter:description" content="Convert between JSON and YAML instantly. Free online tool by NexTool.">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"SoftwareApplication","name":"NexTool JSON to YAML Converter","applicationCategory":"DeveloperApplication","operatingSystem":"Web","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"description":"Free online bidirectional JSON to YAML and YAML to JSON converter with validation and beautification."}
</script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#050508;--surface:#111118;--surface2:#1a1a24;--border:#2a2a3a;--text:#e4e4eb;--text2:#9494a8;--primary:#6366f1;--accent:#a855f7;--pink:#ec4899;--green:#22c55e;--red:#ef4444;--cyan:#22d3ee;--yellow:#eab308;--radius:12px;--glass:rgba(17,17,24,0.7)}
html{scroll-behavior:smooth}
body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);line-height:1.6;min-height:100vh;overflow-x:hidden}
.nav{position:sticky;top:0;z-index:100;background:rgba(5,5,8,0.85);backdrop-filter:blur(20px);border-bottom:1px solid var(--border);padding:0 2rem;height:64px;display:flex;align-items:center;justify-content:space-between}
.nav-logo{font-size:1.4rem;font-weight:800;background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-decoration:none}
.nav-links{display:flex;align-items:center;gap:1.5rem}
.nav-links a{color:var(--text2);text-decoration:none;font-size:.875rem;font-weight:500;transition:color .2s}
.nav-links a:hover{color:var(--text)}
.nav-cta{background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff!important;padding:.5rem 1.2rem;border-radius:8px;font-weight:600;-webkit-text-fill-color:#fff!important}
.nav-cta:hover{opacity:.9}
.nav-toggle{display:none;background:none;border:none;color:var(--text);font-size:1.5rem;cursor:pointer}
.hero{text-align:center;padding:3rem 1.5rem 2rem;max-width:700px;margin:0 auto}
.hero h1{font-size:2.2rem;font-weight:800;line-height:1.2;margin-bottom:.75rem}
.hero h1 span{background:linear-gradient(135deg,var(--primary),var(--accent),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hero p{color:var(--text2);font-size:1rem}
.tool-container{max-width:1200px;margin:0 auto;padding:0 1.5rem 3rem}
.toolbar{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1rem;align-items:center;justify-content:center}
.toolbar button{background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.5rem 1rem;border-radius:8px;font-size:.8rem;font-weight:600;cursor:pointer;transition:all .2s;font-family:inherit}
.toolbar button:hover{border-color:var(--primary);background:rgba(99,102,241,.12)}
.toolbar button.primary-btn{background:linear-gradient(135deg,var(--primary),var(--accent));border-color:transparent;color:#fff}
.toolbar button.primary-btn:hover{opacity:.9}
.status-bar{display:flex;align-items:center;gap:1rem;margin-bottom:1rem;font-size:.8rem;color:var(--text2)}
.status-dot{width:8px;height:8px;border-radius:50%;display:inline-block}
.status-dot.valid{background:var(--green)}
.status-dot.invalid{background:var(--red)}
.status-dot.empty{background:var(--border)}
.panels{display:grid;grid-template-columns:1fr 1fr;gap:1rem;min-height:500px}
.panel{background:var(--glass);backdrop-filter:blur(16px);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;display:flex;flex-direction:column}
.panel-header{padding:.6rem 1rem;border-bottom:1px solid var(--border);font-size:.8rem;font-weight:600;color:var(--text2);display:flex;justify-content:space-between;align-items:center;background:rgba(26,26,36,0.5)}
.panel-header .copy-btn{background:none;border:1px solid var(--border);color:var(--text2);padding:2px 8px;border-radius:6px;font-size:.7rem;cursor:pointer;transition:all .2s;font-family:inherit}
.panel-header .copy-btn:hover{border-color:var(--primary);color:var(--text)}
.panel-body{flex:1;position:relative;overflow:auto}
.panel textarea{width:100%;height:100%;min-height:420px;background:transparent;border:none;color:var(--text);font-family:'Courier New',monospace;font-size:.85rem;padding:1rem;resize:none;outline:none;line-height:1.7;tab-size:2}
.panel textarea::placeholder{color:var(--text2);opacity:.5}
.error-msg{padding:.75rem 1rem;color:var(--red);font-size:.8rem;font-family:'Courier New',monospace;background:rgba(239,68,68,.06);border-top:1px solid rgba(239,68,68,.15)}
.direction-btns{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem;padding:0 .5rem}
.direction-btns button{background:var(--surface2);border:1px solid var(--border);color:var(--text);width:44px;height:44px;border-radius:50%;font-size:1.1rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}
.direction-btns button:hover{border-color:var(--primary);background:rgba(99,102,241,.15)}
.cta-section{text-align:center;padding:4rem 1.5rem;max-width:700px;margin:0 auto}
.cta-section h2{font-size:1.8rem;font-weight:800;margin-bottom:.75rem}
.cta-section h2 span{background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.cta-section p{color:var(--text2);margin-bottom:1.5rem}
.cta-btn{display:inline-block;background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;padding:.75rem 2rem;border-radius:10px;font-weight:700;text-decoration:none;font-size:1rem;transition:transform .2s,box-shadow .2s}
.cta-btn:hover{transform:translateY(-2px);box-shadow:0 8px 30px rgba(99,102,241,.3)}
.footer{border-top:1px solid var(--border);padding:3rem 2rem 2rem;max-width:1200px;margin:0 auto}
.footer-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;margin-bottom:2rem}
.footer-col h4{font-size:.85rem;font-weight:700;margin-bottom:.75rem;color:var(--text)}
.footer-col a{display:block;color:var(--text2);text-decoration:none;font-size:.8rem;margin-bottom:.4rem;transition:color .2s}
.footer-col a:hover{color:var(--primary)}
.footer-bottom{text-align:center;color:var(--text2);font-size:.75rem;padding-top:1.5rem;border-top:1px solid var(--border)}
.fade-in{opacity:0;transform:translateY(20px);transition:opacity .6s,transform .6s}
.fade-in.visible{opacity:1;transform:translateY(0)}
.toast{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%) translateY(80px);background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.6rem 1.2rem;border-radius:10px;font-size:.85rem;font-weight:500;z-index:200;transition:transform .3s;pointer-events:none}
.toast.show{transform:translateX(-50%) translateY(0)}
@media(max-width:768px){
  .panels{grid-template-columns:1fr}
  .direction-btns{flex-direction:row;padding:.5rem 0}
  .nav-links{display:none;position:absolute;top:64px;left:0;right:0;background:var(--bg);border-bottom:1px solid var(--border);flex-direction:column;padding:1rem 2rem;gap:1rem}
  .nav-links.open{display:flex}
  .nav-toggle{display:block}
  .hero h1{font-size:1.6rem}
  .footer-grid{grid-template-columns:1fr}
  .toolbar{gap:.35rem}
}
</style>
</head>
<body>

<nav class="nav">
  <a href="/" class="nav-logo">NexTool</a>
  <button class="nav-toggle" onclick="document.querySelector('.nav-links').classList.toggle('open')" aria-label="Menu">&#9776;</button>
  <div class="nav-links">
    <a href="/">Home</a>
    <a href="/free-tools/">Tools</a>
    <a href="/free-tools/">Free Tools</a>
    <a href="/blog/">Blog</a>
    <a href="/pro.html" class="nav-cta">Get Pro — $29</a>
  </div>
</nav>

<section class="hero fade-in">
  <h1>Free <span>JSON to YAML</span> Converter</h1>
  <p class="tool-summary" style="color:#94a3b8;font-size:15px;line-height:1.6;margin-bottom:24px;max-width:700px;margin-left:auto;margin-right:auto;">Convert between JSON and YAML formats instantly. Bidirectional conversion with real-time validation, error detection, and beautification. 100% client-side, no data leaves your browser.</p>
</section>

<div class="tool-container fade-in">
  <div class="toolbar">
    <button class="primary-btn" onclick="jsonToYaml()">JSON &rarr; YAML</button>
    <button class="primary-btn" onclick="yamlToJson()">YAML &rarr; JSON</button>
    <button onclick="beautifyJson()">Beautify JSON</button>
    <button onclick="clearAll()">Clear</button>
    <button onclick="loadSample()">Sample</button>
  </div>

  <div class="status-bar">
    <span><span class="status-dot empty" id="statusDot"></span></span>
    <span id="statusText">Paste JSON or YAML to begin</span>
  </div>

  <div class="panels">
    <div class="panel">
      <div class="panel-header">
        <span>JSON</span>
        <button class="copy-btn" onclick="copyPanel('jsonInput')">Copy</button>
      </div>
      <div class="panel-body">
        <textarea id="jsonInput" placeholder='Paste JSON here...&#10;&#10;{&#10;  "name": "NexTool",&#10;  "version": "2.0"&#10;}' spellcheck="false"></textarea>
      </div>
      <div class="error-msg" id="jsonError" style="display:none"></div>
    </div>
    <div class="panel">
      <div class="panel-header">
        <span>YAML</span>
        <button class="copy-btn" onclick="copyPanel('yamlInput')">Copy</button>
      </div>
      <div class="panel-body">
        <textarea id="yamlInput" placeholder='Paste YAML here...&#10;&#10;name: NexTool&#10;version: "2.0"' spellcheck="false"></textarea>
      </div>
      <div class="error-msg" id="yamlError" style="display:none"></div>
    </div>
  </div>
</div>

<section class="cta-section fade-in">
  <h2>Need something <span>more powerful</span>?</h2>
  <p>Let us build it for you. Custom APIs, dashboards, automations &mdash; whatever you need.</p>
  <a href="/#contact" class="cta-btn">Start a Project &rarr;</a>
</section>

<section style="max-width:900px;margin:40px auto;padding:0 24px;">
<div style="background:linear-gradient(135deg,rgba(99,102,241,0.1),rgba(168,85,247,0.08));border:1px solid rgba(99,102,241,0.15);border-radius:20px;padding:32px 28px;text-align:center;">
<div style="font-size:13px;color:#818cf8;font-weight:600;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;">Founding Member</div>
<h3 style="font-size:22px;font-weight:800;color:#fff;margin:0 0 8px;">Get NexTool Pro</h3>
<p style="color:#94a3b8;font-size:14px;margin:0 auto 20px;max-width:500px;">No banners, clean output, enhanced features on all 220+ tools. One-time payment.</p>
<div style="display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap;">
<a href="/pro.html" style="display:inline-block;padding:12px 28px;background:linear-gradient(135deg,#6366f1,#a855f7,#ec4899);color:#fff;border-radius:10px;font-weight:700;font-size:15px;text-decoration:none;">$29 — Get Pro</a>
<a href="/free-tools/" style="color:#94a3b8;font-size:14px;text-decoration:none;">Browse 220+ Free Tools &rarr;</a>
</div>
</div>
</section>

<footer class="footer fade-in">
  <div class="footer-grid">
    <div class="footer-col">
      <h4>Products</h4>
      <a href="/free-tools/">220+ Free Tools</a>
      <a href="/pro.html">NexTool Pro</a>
      <a href="/workspace.html">Workspace</a>
    </div>
    <div class="footer-col">
      <h4>Explore</h4>
      <a href="/free-tools/">Free Tools</a><a href="/blog/">Blog</a><a href="/pro.html">FAQ</a><a href="/pro.html">Pro — $29</a>
    </div>
    <div class="footer-col">
      <h4>Ecosystem</h4>
      <a href="/">NexTool Home</a><a href="/#contact">Contact</a><a href="https://github.com/christian140903-sudo/nextool" target="_blank">GitHub</a>
    </div>
  </div>
  <div class="footer-bottom">&copy; 2026 NexTool. AI-powered tools for everyone.</div>
</footer>

<div class="toast" id="toast"></div>

<script>
const jsonInput = document.getElementById('jsonInput');
const yamlInput = document.getElementById('yamlInput');
const jsonError = document.getElementById('jsonError');
const yamlError = document.getElementById('yamlError');
const statusDot = document.getElementById('statusDot');
const statusText = document.getElementById('statusText');

/* ===== YAML Serializer (JSON -> YAML) ===== */
function jsonToYamlStr(obj, indent) {
  indent = indent || 0;
  const pad = '  '.repeat(indent);
  if (obj === null) return 'null';
  if (obj === undefined) return 'null';
  if (typeof obj === 'boolean') return obj ? 'true' : 'false';
  if (typeof obj === 'number') return String(obj);
  if (typeof obj === 'string') {
    if (obj === '') return "''";
    if (obj === 'true' || obj === 'false' || obj === 'null' || obj === 'yes' || obj === 'no' ||
        obj === 'on' || obj === 'off' || obj === 'True' || obj === 'False' || obj === 'Null' ||
        obj === 'YES' || obj === 'NO' || obj === 'ON' || obj === 'OFF') return '"' + obj + '"';
    if (/^\d+(\.\d+)?$/.test(obj)) return '"' + obj + '"';
    if (/[:{}\[\],&*?|>!%#@`'"\n\r]/.test(obj) || obj.trim() !== obj) {
      return '"' + obj.replace(/\\/g,'\\\\').replace(/"/g,'\\"').replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/\t/g,'\\t') + '"';
    }
    return obj;
  }
  if (Array.isArray(obj)) {
    if (obj.length === 0) return '[]';
    let lines = [];
    for (let i = 0; i < obj.length; i++) {
      const val = obj[i];
      if (val !== null && typeof val === 'object') {
        const inner = jsonToYamlStr(val, indent + 1);
        if (Array.isArray(val)) {
          lines.push(pad + '-\n' + inner.split('\n').map(l => pad + '  ' + l).join('\n'));
        } else {
          const innerLines = inner.split('\n');
          lines.push(pad + '- ' + innerLines[0].trim());
          for (let j = 1; j < innerLines.length; j++) {
            if (innerLines[j].trim()) lines.push(pad + '  ' + innerLines[j].trim());
          }
        }
      } else {
        lines.push(pad + '- ' + jsonToYamlStr(val, indent + 1));
      }
    }
    return lines.join('\n');
  }
  if (typeof obj === 'object') {
    const keys = Object.keys(obj);
    if (keys.length === 0) return '{}';
    let lines = [];
    for (let k of keys) {
      const safeKey = /[:{}\[\],&*?|>!%#@`'"\s]/.test(k) || k === '' ? '"' + k.replace(/"/g,'\\"') + '"' : k;
      const val = obj[k];
      if (val !== null && typeof val === 'object') {
        const inner = jsonToYamlStr(val, indent + 1);
        if ((Array.isArray(val) && val.length === 0) || (!Array.isArray(val) && Object.keys(val).length === 0)) {
          lines.push(pad + safeKey + ': ' + inner);
        } else {
          lines.push(pad + safeKey + ':');
          lines.push(inner);
        }
      } else {
        lines.push(pad + safeKey + ': ' + jsonToYamlStr(val, indent + 1));
      }
    }
    return lines.join('\n');
  }
  return String(obj);
}

/* ===== YAML Parser (YAML -> JSON) ===== */
function yamlToJsonObj(yamlStr) {
  const lines = yamlStr.split('\n');
  let idx = 0;

  function currentIndent(line) {
    const match = line.match(/^( *)/);
    return match ? match[1].length : 0;
  }

  function parseValue(raw) {
    raw = raw.trim();
    if (raw === '' || raw === '~' || raw === 'null' || raw === 'Null' || raw === 'NULL') return null;
    if (raw === 'true' || raw === 'True' || raw === 'TRUE' || raw === 'yes' || raw === 'Yes' || raw === 'YES' || raw === 'on' || raw === 'On' || raw === 'ON') return true;
    if (raw === 'false' || raw === 'False' || raw === 'FALSE' || raw === 'no' || raw === 'No' || raw === 'NO' || raw === 'off' || raw === 'Off' || raw === 'OFF') return false;
    if (/^-?\d+$/.test(raw)) { const n = parseInt(raw, 10); if (n >= Number.MIN_SAFE_INTEGER && n <= Number.MAX_SAFE_INTEGER) return n; }
    if (/^-?\d+\.\d+$/.test(raw) || /^-?\d+[eE][+-]?\d+$/.test(raw) || /^-?\d+\.\d+[eE][+-]?\d+$/.test(raw)) return parseFloat(raw);
    if (raw === '.inf' || raw === '.Inf' || raw === '.INF') return Infinity;
    if (raw === '-.inf' || raw === '-.Inf' || raw === '-.INF') return -Infinity;
    if (raw === '.nan' || raw === '.NaN' || raw === '.NAN') return NaN;
    if ((raw.startsWith('"') && raw.endsWith('"')) || (raw.startsWith("'") && raw.endsWith("'"))) {
      let s = raw.slice(1, -1);
      if (raw.startsWith('"')) {
        s = s.replace(/\\n/g,'\n').replace(/\\r/g,'\r').replace(/\\t/g,'\t').replace(/\\"/g,'"').replace(/\\\\/g,'\\');
      }
      return s;
    }
    if (raw.startsWith('[') && raw.endsWith(']')) {
      try { return JSON.parse(raw); } catch(e) { return raw; }
    }
    if (raw.startsWith('{') && raw.endsWith('}')) {
      try { return JSON.parse(raw); } catch(e) { return raw; }
    }
    return raw;
  }

  function stripComment(line) {
    let inSingle = false, inDouble = false;
    for (let i = 0; i < line.length; i++) {
      const c = line[i];
      if (c === '"' && !inSingle) inDouble = !inDouble;
      else if (c === "'" && !inDouble) inSingle = !inSingle;
      else if (c === '#' && !inSingle && !inDouble && (i === 0 || line[i-1] === ' ')) {
        return line.substring(0, i).trimEnd();
      }
    }
    return line;
  }

  function parseBlock(baseIndent) {
    if (idx >= lines.length) return null;

    // Skip empty/comment lines, peek at first meaningful line
    while (idx < lines.length && (lines[idx].trim() === '' || lines[idx].trim().startsWith('#'))) idx++;
    if (idx >= lines.length) return null;

    const firstLine = lines[idx];
    const firstIndent = currentIndent(firstLine);
    const trimmed = firstLine.trim();

    // Determine if this is a list or map
    if (trimmed.startsWith('- ') || trimmed === '-') {
      return parseList(firstIndent);
    } else {
      return parseMap(firstIndent);
    }
  }

  function parseList(baseIndent) {
    const result = [];
    while (idx < lines.length) {
      // Skip empty/comment
      while (idx < lines.length && (lines[idx].trim() === '' || lines[idx].trim().startsWith('#'))) idx++;
      if (idx >= lines.length) break;
      const line = lines[idx];
      const indent = currentIndent(line);
      if (indent < baseIndent) break;
      if (indent > baseIndent) break;
      const trimmed = line.trim();
      if (!trimmed.startsWith('-')) break;

      let rest = trimmed.substring(1).trim();
      rest = stripComment(rest);

      if (rest === '') {
        idx++;
        // Block value
        const val = parseBlock(baseIndent + 2);
        result.push(val);
      } else if (rest.includes(': ') || (rest.endsWith(':') && !rest.startsWith('"') && !rest.startsWith("'"))) {
        // Inline map start as list item
        idx++;
        const innerObj = {};
        let colonIdx = rest.indexOf(': ');
        let key, val;
        if (colonIdx === -1) {
          key = rest.slice(0, -1);
          // value is a block below
          const blockVal = parseBlock(baseIndent + 2);
          innerObj[key] = blockVal;
        } else {
          key = rest.substring(0, colonIdx);
          if ((key.startsWith('"') && key.endsWith('"')) || (key.startsWith("'") && key.endsWith("'"))) {
            key = key.slice(1, -1);
          }
          val = rest.substring(colonIdx + 2);
          val = stripComment(val);
          if (val === '') {
            innerObj[key] = parseBlock(baseIndent + 2);
          } else {
            innerObj[key] = parseValue(val);
          }
        }
        // Check if there are more keys at indent baseIndent+2
        while (idx < lines.length) {
          while (idx < lines.length && (lines[idx].trim() === '' || lines[idx].trim().startsWith('#'))) idx++;
          if (idx >= lines.length) break;
          const nextLine = lines[idx];
          const nextIndent = currentIndent(nextLine);
          const nextTrimmed = nextLine.trim();
          if (nextIndent <= baseIndent) break;
          if (nextTrimmed.startsWith('- ') || nextTrimmed === '-') break;
          if (nextIndent === baseIndent + 2 && (nextTrimmed.includes(': ') || nextTrimmed.endsWith(':'))) {
            let ci = nextTrimmed.indexOf(': ');
            if (ci === -1) {
              let nk = nextTrimmed.slice(0, -1);
              if ((nk.startsWith('"') && nk.endsWith('"')) || (nk.startsWith("'") && nk.endsWith("'"))) nk = nk.slice(1, -1);
              idx++;
              innerObj[nk] = parseBlock(nextIndent + 2);
            } else {
              let nk = nextTrimmed.substring(0, ci);
              if ((nk.startsWith('"') && nk.endsWith('"')) || (nk.startsWith("'") && nk.endsWith("'"))) nk = nk.slice(1, -1);
              let nv = stripComment(nextTrimmed.substring(ci + 2));
              idx++;
              if (nv === '') {
                innerObj[nk] = parseBlock(nextIndent + 2);
              } else {
                innerObj[nk] = parseValue(nv);
              }
            }
          } else {
            break;
          }
        }
        result.push(innerObj);
      } else {
        result.push(parseValue(rest));
        idx++;
      }
    }
    return result;
  }

  function parseMap(baseIndent) {
    const result = {};
    while (idx < lines.length) {
      while (idx < lines.length && (lines[idx].trim() === '' || lines[idx].trim().startsWith('#'))) idx++;
      if (idx >= lines.length) break;
      const line = lines[idx];
      const indent = currentIndent(line);
      if (indent < baseIndent) break;
      if (indent > baseIndent) break;
      const trimmed = line.trim();
      if (trimmed.startsWith('- ')) break;

      let colonIdx = trimmed.indexOf(': ');
      let key, valStr;
      if (colonIdx !== -1) {
        key = trimmed.substring(0, colonIdx);
        valStr = stripComment(trimmed.substring(colonIdx + 2));
      } else if (trimmed.endsWith(':')) {
        key = trimmed.slice(0, -1);
        valStr = '';
      } else {
        idx++;
        continue;
      }
      if ((key.startsWith('"') && key.endsWith('"')) || (key.startsWith("'") && key.endsWith("'"))) {
        key = key.slice(1, -1);
      }
      idx++;
      if (valStr === '') {
        const val = parseBlock(baseIndent + 2);
        result[key] = val;
      } else {
        result[key] = parseValue(valStr);
      }
    }
    return result;
  }

  return parseBlock(0);
}

function jsonToYaml() {
  hideErrors();
  const raw = jsonInput.value.trim();
  if (!raw) { showStatus('empty', 'Paste JSON to convert'); return; }
  try {
    const obj = JSON.parse(raw);
    const yaml = jsonToYamlStr(obj, 0);
    yamlInput.value = yaml;
    showStatus('valid', 'Converted JSON to YAML');
    showToast('Converted to YAML');
  } catch(e) {
    jsonError.textContent = 'JSON Error: ' + e.message;
    jsonError.style.display = '';
    showStatus('invalid', 'Invalid JSON');
  }
}

function yamlToJson() {
  hideErrors();
  const raw = yamlInput.value.trim();
  if (!raw) { showStatus('empty', 'Paste YAML to convert'); return; }
  try {
    const obj = yamlToJsonObj(raw);
    if (obj === null || obj === undefined) throw new Error('Could not parse YAML');
    jsonInput.value = JSON.stringify(obj, null, 2);
    showStatus('valid', 'Converted YAML to JSON');
    showToast('Converted to JSON');
  } catch(e) {
    yamlError.textContent = 'YAML Error: ' + e.message;
    yamlError.style.display = '';
    showStatus('invalid', 'Invalid YAML');
  }
}

function beautifyJson() {
  hideErrors();
  const raw = jsonInput.value.trim();
  if (!raw) return;
  try {
    const obj = JSON.parse(raw);
    jsonInput.value = JSON.stringify(obj, null, 2);
    showStatus('valid', 'JSON beautified');
    showToast('JSON beautified');
  } catch(e) {
    jsonError.textContent = 'JSON Error: ' + e.message;
    jsonError.style.display = '';
    showStatus('invalid', 'Invalid JSON');
  }
}

function clearAll() {
  jsonInput.value = '';
  yamlInput.value = '';
  hideErrors();
  showStatus('empty', 'Paste JSON or YAML to begin');
}

function loadSample() {
  jsonInput.value = JSON.stringify({
    "name": "NexTool",
    "version": "2.0.0",
    "description": "AI-powered web tools",
    "services": ["Websites", "Chatbots", "Automation"],
    "pricing": { "starter": 5, "pro": 149, "enterprise": 499 },
    "config": {
      "darkMode": true,
      "language": "en",
      "maxRetries": 3,
      "tags": ["fast", "reliable", "free"]
    },
    "metadata": null,
    "active": true
  }, null, 2);
  hideErrors();
  showStatus('valid', 'Sample loaded - click a convert button');
}

function copyPanel(id) {
  const el = document.getElementById(id);
  if (!el.value.trim()) { showToast('Nothing to copy'); return; }
  navigator.clipboard.writeText(el.value).then(() => showToast('Copied to clipboard'));
}

function hideErrors() {
  jsonError.style.display = 'none';
  yamlError.style.display = 'none';
}

function showStatus(type, text) {
  statusDot.className = 'status-dot ' + type;
  statusText.textContent = text;
}

function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2000);
}

/* Tab key support */
[jsonInput, yamlInput].forEach(el => {
  el.addEventListener('keydown', e => {
    if (e.key === 'Tab') {
      e.preventDefault();
      const s = el.selectionStart, end = el.selectionEnd;
      el.value = el.value.substring(0, s) + '  ' + el.value.substring(end);
      el.selectionStart = el.selectionEnd = s + 2;
    }
  });
});

/* IntersectionObserver fade-in */
const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('visible'); observer.unobserve(entry.target); }});
}, { threshold: 0.1 });
document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
</script>
<script src="/js/analytics-lite.js" defer></script>
<script src="/js/revenue.js" defer></script>
<script src="/js/lead-capture.js" defer></script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What is JSON to YAML conversion?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "JSON to YAML conversion transforms JavaScript Object Notation data into YAML Ain't Markup Language format. YAML is more human-readable with its indentation-based structure, making it popular for configuration files like Docker Compose, Kubernetes manifests, and CI/CD pipelines."
      }
    },
    {
      "@type": "Question",
      "name": "Is this JSON to YAML converter free?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, NexTool's JSON to YAML converter is completely free with no signup required. It runs entirely in your browser, so your data never leaves your device. You can convert unlimited files in both directions."
      }
    },
    {
      "@type": "Question",
      "name": "Can I convert YAML back to JSON?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, this tool supports bidirectional conversion. You can paste JSON and convert to YAML, or paste YAML and convert to JSON. Both directions include validation and error reporting."
      }
    },
    {
      "@type": "Question",
      "name": "Does this tool handle nested objects and arrays?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, the converter fully supports nested objects, arrays, mixed types, null values, booleans, numbers, and strings with special characters. It correctly handles YAML indentation for deeply nested structures."
      }
    }
  ]
}
</script>
</body>
</html>