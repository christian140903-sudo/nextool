<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Free Social Media Image Maker — Design Posts Online | NexTool</title>
<meta name="description" content="Create stunning social media images for Instagram, Facebook, Twitter, LinkedIn, YouTube and Pinterest. Canvas editor with text, shapes, gradients. Free, no signup.">
<meta name="keywords" content="social media image maker, Instagram post maker, Facebook cover creator, YouTube thumbnail maker, free online design tool, NexTool">
<meta property="og:title" content="Free Social Media Image Maker | NexTool">
<meta property="og:description" content="Design social media images with text, shapes, gradients. Preset sizes for every platform. 100% free, no signup.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://nextool.app/free-tools/social-media-image-maker.html">
<meta property="og:image" content="https://nextool.app/assets/og-default.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<link rel="canonical" href="https://nextool.app/free-tools/social-media-image-maker.html">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Free Social Media Image Maker | NexTool">
<meta name="twitter:description" content="Design social media images with text, shapes, gradients. Free online tool by NexTool.">
<meta name="robots" content="index, follow">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Playfair+Display:wght@700&family=Oswald:wght@700&family=Bebas+Neue&family=Pacifico&family=Roboto+Condensed:wght@700&display=swap" rel="stylesheet">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"SoftwareApplication","name":"NexTool Social Media Image Maker","applicationCategory":"DesignApplication","operatingSystem":"Web","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"description":"Free online social media image maker with canvas editor. Create posts for Instagram, Facebook, Twitter, LinkedIn, YouTube and Pinterest."}
</script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#050508;--surface:#111118;--surface2:#1a1a24;--border:#2a2a3a;--text:#e4e4eb;--text2:#9494a8;--primary:#6366f1;--accent:#a855f7;--pink:#ec4899;--green:#22c55e;--red:#ef4444;--cyan:#22d3ee;--yellow:#eab308;--radius:12px;--glass:rgba(17,17,24,0.7)}
html{scroll-behavior:smooth}
body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);line-height:1.6;min-height:100vh;overflow-x:hidden}
.nav{position:sticky;top:0;z-index:100;background:rgba(5,5,8,0.85);backdrop-filter:blur(20px);border-bottom:1px solid var(--border);padding:0 2rem;height:64px;display:flex;align-items:center;justify-content:space-between}
.nav-logo{font-size:1.4rem;font-weight:800;background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-decoration:none}
.nav-links{display:flex;align-items:center;gap:1.5rem}
.nav-links a{color:var(--text2);text-decoration:none;font-size:.875rem;font-weight:500;transition:color .2s}
.nav-links a:hover{color:var(--text)}
.nav-cta{background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff!important;padding:.5rem 1.2rem;border-radius:8px;font-weight:600;-webkit-text-fill-color:#fff!important}
.nav-cta:hover{opacity:.9}
.nav-toggle{display:none;background:none;border:none;color:var(--text);font-size:1.5rem;cursor:pointer}
.hero{text-align:center;padding:3rem 1.5rem 2rem;max-width:700px;margin:0 auto}
.hero h1{font-size:2.2rem;font-weight:800;line-height:1.2;margin-bottom:.75rem}
.hero h1 span{background:linear-gradient(135deg,var(--primary),var(--accent),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hero p{color:var(--text2);font-size:1rem}
.tool-container{max-width:1400px;margin:0 auto;padding:0 1.5rem 3rem}
.editor-layout{display:grid;grid-template-columns:320px 1fr;gap:1rem;min-height:600px}
.sidebar{display:flex;flex-direction:column;gap:.75rem;max-height:calc(100vh - 200px);overflow-y:auto;padding-right:4px}
.sidebar::-webkit-scrollbar{width:4px}
.sidebar::-webkit-scrollbar-track{background:transparent}
.sidebar::-webkit-scrollbar-thumb{background:var(--border);border-radius:2px}
.panel{background:var(--glass);backdrop-filter:blur(16px);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden}
.panel-header{padding:.6rem 1rem;border-bottom:1px solid var(--border);font-size:.8rem;font-weight:600;color:var(--text2);display:flex;justify-content:space-between;align-items:center;background:rgba(26,26,36,0.5);cursor:pointer;user-select:none}
.panel-header:hover{background:rgba(26,26,36,0.8)}
.panel-header .toggle-icon{transition:transform .2s;font-size:.7rem}
.panel-header .toggle-icon.collapsed{transform:rotate(-90deg)}
.panel-body{padding:.75rem 1rem}
.panel-body.collapsed{display:none}
label{display:block;font-size:.75rem;color:var(--text2);margin-bottom:4px;font-weight:500}
input[type="text"],input[type="number"],input[type="color"],select,textarea{width:100%;background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:6px 10px;border-radius:8px;font-size:.8rem;font-family:inherit;outline:none;transition:border-color .2s}
input:focus,select:focus,textarea:focus{border-color:var(--primary)}
input[type="color"]{height:36px;padding:2px 4px;cursor:pointer}
input[type="range"]{width:100%;accent-color:var(--primary);cursor:pointer}
select{appearance:none;padding-right:1.8rem;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%239494a8' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right .6rem center}
.row{display:flex;gap:8px;align-items:end;margin-bottom:8px}
.row>div{flex:1}
.row-3>div{flex:1}
.btn{background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:6px 12px;border-radius:8px;font-size:.75rem;font-weight:500;cursor:pointer;transition:all .2s;font-family:inherit;text-align:center}
.btn:hover{border-color:var(--primary);background:rgba(99,102,241,.12)}
.btn.active,.btn-primary{background:linear-gradient(135deg,var(--primary),var(--accent));border-color:transparent;color:#fff}
.btn-primary:hover{opacity:.9}
.btn-sm{padding:4px 8px;font-size:.7rem}
.btn-danger{border-color:var(--red);color:var(--red)}
.btn-danger:hover{background:rgba(239,68,68,.12)}
.btn-row{display:flex;gap:6px;flex-wrap:wrap;margin-bottom:8px}
.preset-grid{display:grid;grid-template-columns:1fr 1fr;gap:6px;margin-bottom:8px}
.preset-btn{padding:8px 6px;text-align:center;font-size:.7rem;line-height:1.3}
.preset-btn .dim{display:block;color:var(--text2);font-size:.6rem;margin-top:2px}
.canvas-area{display:flex;flex-direction:column;align-items:center}
.canvas-toolbar{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:.75rem;align-items:center;width:100%}
.canvas-wrapper{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:16px;display:flex;align-items:center;justify-content:center;flex:1;min-height:400px;overflow:auto;position:relative}
canvas{border-radius:4px;cursor:default;max-width:100%;image-rendering:auto}
.layer-item{display:flex;align-items:center;gap:6px;padding:6px 8px;background:var(--surface2);border:1px solid var(--border);border-radius:8px;margin-bottom:4px;font-size:.75rem;cursor:pointer;transition:border-color .2s}
.layer-item:hover,.layer-item.active{border-color:var(--primary)}
.layer-item .layer-name{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.layer-item .layer-btns{display:flex;gap:2px}
.layer-item .layer-btns button{background:none;border:none;color:var(--text2);cursor:pointer;padding:2px 4px;font-size:.7rem;border-radius:4px;transition:all .2s}
.layer-item .layer-btns button:hover{background:var(--border);color:var(--text)}
.template-card{padding:10px;text-align:center;cursor:pointer;transition:all .2s}
.template-card:hover{transform:translateY(-1px);border-color:var(--primary)}
.template-card .t-name{font-size:.75rem;font-weight:600;margin-bottom:2px}
.template-card .t-desc{font-size:.65rem;color:var(--text2)}
.mb-8{margin-bottom:8px}
.mb-4{margin-bottom:4px}
.range-val{display:flex;justify-content:space-between;align-items:center;font-size:.7rem;color:var(--text2)}
.cta-section{text-align:center;padding:4rem 1.5rem;max-width:700px;margin:0 auto}
.cta-section h2{font-size:1.8rem;font-weight:800;margin-bottom:.75rem}
.cta-section h2 span{background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.cta-section p{color:var(--text2);margin-bottom:1.5rem}
.cta-btn{display:inline-block;background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;padding:.75rem 2rem;border-radius:10px;font-weight:700;text-decoration:none;font-size:1rem;transition:transform .2s,box-shadow .2s}
.cta-btn:hover{transform:translateY(-2px);box-shadow:0 8px 30px rgba(99,102,241,.3)}
.footer{border-top:1px solid var(--border);padding:3rem 2rem 2rem;max-width:1200px;margin:0 auto}
.footer-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;margin-bottom:2rem}
.footer-col h4{font-size:.85rem;font-weight:700;margin-bottom:.75rem;color:var(--text)}
.footer-col a{display:block;color:var(--text2);text-decoration:none;font-size:.8rem;margin-bottom:.4rem;transition:color .2s}
.footer-col a:hover{color:var(--primary)}
.footer-bottom{text-align:center;color:var(--text2);font-size:.75rem;padding-top:1.5rem;border-top:1px solid var(--border)}
.fade-in{opacity:0;transform:translateY(20px);transition:opacity .6s,transform .6s}
.fade-in.visible{opacity:1;transform:translateY(0)}
.toast{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%) translateY(80px);background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:.6rem 1.2rem;border-radius:10px;font-size:.85rem;font-weight:500;z-index:200;transition:transform .3s;pointer-events:none}
.toast.show{transform:translateX(-50%) translateY(0)}
@media(max-width:900px){
  .editor-layout{grid-template-columns:1fr}
  .sidebar{max-height:none;overflow:visible}
  .nav-links{display:none;position:absolute;top:64px;left:0;right:0;background:var(--bg);border-bottom:1px solid var(--border);flex-direction:column;padding:1rem 2rem;gap:1rem}
  .nav-links.open{display:flex}
  .nav-toggle{display:block}
  .hero h1{font-size:1.6rem}
  .footer-grid{grid-template-columns:1fr}
  .canvas-wrapper{min-height:300px}
}
</style>
</head>
<body>

<nav class="nav">
  <a href="/" class="nav-logo">NexTool</a>
  <button class="nav-toggle" onclick="document.querySelector('.nav-links').classList.toggle('open')" aria-label="Menu">&#9776;</button>
  <div class="nav-links">
    <a href="/">Home</a>
    <a href="/free-tools/">Tools</a>
    <a href="/free-tools/">Free Tools</a>
    <a href="/blog/">Blog</a>
    <a href="/pro.html" class="nav-cta">Get Pro — $29</a>
  </div>
</nav>

<section class="hero fade-in">
  <h1>Free <span>Social Media Image Maker</span></h1>
  <p>Design scroll-stopping social media images right in your browser. Choose a platform size, add text, shapes, gradients and backgrounds, then download as PNG or JPG. No signup, no watermarks.</p>
</section>

<div class="tool-container fade-in">
  <div class="editor-layout">
    <!-- SIDEBAR CONTROLS -->
    <div class="sidebar">

      <!-- CANVAS SIZE -->
      <div class="panel">
        <div class="panel-header" onclick="togglePanel(this)"><span>Canvas Size</span><span class="toggle-icon">&#9660;</span></div>
        <div class="panel-body">
          <div class="preset-grid">
            <button class="btn preset-btn" onclick="setSize(1080,1080,'ig-post')">Instagram Post<span class="dim">1080x1080</span></button>
            <button class="btn preset-btn" onclick="setSize(1080,1920,'ig-story')">IG Story/Reel<span class="dim">1080x1920</span></button>
            <button class="btn preset-btn" onclick="setSize(1200,630,'fb-post')">Facebook Post<span class="dim">1200x630</span></button>
            <button class="btn preset-btn" onclick="setSize(820,312,'fb-cover')">FB Cover<span class="dim">820x312</span></button>
            <button class="btn preset-btn" onclick="setSize(1500,500,'tw-header')">Twitter Header<span class="dim">1500x500</span></button>
            <button class="btn preset-btn" onclick="setSize(1200,627,'li-post')">LinkedIn Post<span class="dim">1200x627</span></button>
            <button class="btn preset-btn" onclick="setSize(1280,720,'yt-thumb')">YT Thumbnail<span class="dim">1280x720</span></button>
            <button class="btn preset-btn" onclick="setSize(1000,1500,'pin')">Pinterest Pin<span class="dim">1000x1500</span></button>
          </div>
          <div class="row">
            <div><label>Width</label><input type="number" id="canvasW" value="1080" min="100" max="4096" onchange="resizeCanvas()"></div>
            <div><label>Height</label><input type="number" id="canvasH" value="1080" min="100" max="4096" onchange="resizeCanvas()"></div>
          </div>
        </div>
      </div>

      <!-- BACKGROUND -->
      <div class="panel">
        <div class="panel-header" onclick="togglePanel(this)"><span>Background</span><span class="toggle-icon">&#9660;</span></div>
        <div class="panel-body">
          <div class="btn-row mb-8">
            <button class="btn btn-sm active" id="bgSolid" onclick="setBgType('solid')">Solid</button>
            <button class="btn btn-sm" id="bgGradient" onclick="setBgType('gradient')">Gradient</button>
            <button class="btn btn-sm" id="bgPattern" onclick="setBgType('pattern')">Pattern</button>
            <button class="btn btn-sm" id="bgImage" onclick="setBgType('image')">Image</button>
          </div>
          <div id="bgSolidOpts">
            <label>Color</label>
            <input type="color" id="bgColor" value="#1a1a2e" onchange="updateBg()">
          </div>
          <div id="bgGradientOpts" style="display:none">
            <div class="row mb-4">
              <div><label>Color 1</label><input type="color" id="gradC1" value="#6366f1" onchange="updateBg()"></div>
              <div><label>Color 2</label><input type="color" id="gradC2" value="#ec4899" onchange="updateBg()"></div>
            </div>
            <label>Direction</label>
            <select id="gradDir" onchange="updateBg()">
              <option value="tb">Top to Bottom</option>
              <option value="bt">Bottom to Top</option>
              <option value="lr">Left to Right</option>
              <option value="rl">Right to Left</option>
              <option value="tlbr">Diagonal TL-BR</option>
              <option value="trbl">Diagonal TR-BL</option>
              <option value="radial">Radial (Center)</option>
            </select>
          </div>
          <div id="bgPatternOpts" style="display:none">
            <label>Pattern</label>
            <select id="patternType" onchange="updateBg()">
              <option value="dots">Dots</option>
              <option value="grid">Grid</option>
              <option value="diagonal">Diagonal Lines</option>
              <option value="cross">Cross Hatch</option>
              <option value="circles">Concentric Circles</option>
              <option value="chevron">Chevron</option>
            </select>
            <div class="row mb-4" style="margin-top:8px">
              <div><label>BG Color</label><input type="color" id="patBg" value="#0f0f23" onchange="updateBg()"></div>
              <div><label>Pattern Color</label><input type="color" id="patFg" value="#6366f1" onchange="updateBg()"></div>
            </div>
            <label>Scale <span id="patScaleVal">20</span></label>
            <input type="range" id="patScale" min="5" max="80" value="20" onchange="document.getElementById('patScaleVal').textContent=this.value;updateBg()" oninput="document.getElementById('patScaleVal').textContent=this.value">
          </div>
          <div id="bgImageOpts" style="display:none">
            <label>Upload Image</label>
            <input type="file" accept="image/*" id="bgImgFile" onchange="handleBgImage(event)" style="font-size:.75rem;margin-bottom:8px">
            <label>Fit</label>
            <select id="bgImgFit" onchange="updateBg()">
              <option value="cover">Cover</option>
              <option value="contain">Contain</option>
              <option value="stretch">Stretch</option>
            </select>
          </div>
        </div>
      </div>

      <!-- TEXT LAYERS -->
      <div class="panel">
        <div class="panel-header" onclick="togglePanel(this)"><span>Text Layers</span><span class="toggle-icon">&#9660;</span></div>
        <div class="panel-body">
          <button class="btn btn-primary mb-8" onclick="addTextLayer()" style="width:100%">+ Add Text</button>
          <div id="textLayerList"></div>
          <div id="textEditor" style="display:none">
            <label>Text</label>
            <textarea id="teText" rows="2" onchange="updateSelectedText()" oninput="updateSelectedText()" style="margin-bottom:6px;resize:vertical"></textarea>
            <div class="row mb-4">
              <div><label>Font</label>
                <select id="teFont" onchange="updateSelectedText()">
                  <option value="Inter">Inter</option>
                  <option value="Playfair Display">Playfair Display</option>
                  <option value="Oswald">Oswald</option>
                  <option value="Bebas Neue">Bebas Neue</option>
                  <option value="Pacifico">Pacifico</option>
                  <option value="Roboto Condensed">Roboto Condensed</option>
                  <option value="Georgia">Georgia</option>
                  <option value="Arial">Arial</option>
                  <option value="Courier New">Courier New</option>
                </select>
              </div>
              <div style="max-width:80px"><label>Size</label><input type="number" id="teSize" value="48" min="8" max="400" onchange="updateSelectedText()"></div>
            </div>
            <div class="row mb-4">
              <div><label>Color</label><input type="color" id="teColor" value="#ffffff" onchange="updateSelectedText()"></div>
              <div><label>Outline</label><input type="color" id="teOutline" value="#000000" onchange="updateSelectedText()"></div>
              <div style="max-width:55px"><label>OW</label><input type="number" id="teOutlineW" value="0" min="0" max="20" onchange="updateSelectedText()"></div>
            </div>
            <div class="row mb-4">
              <div><label>Weight</label>
                <select id="teWeight" onchange="updateSelectedText()">
                  <option value="400">Regular</option>
                  <option value="500">Medium</option>
                  <option value="600">Semi Bold</option>
                  <option value="700" selected>Bold</option>
                  <option value="800">Extra Bold</option>
                </select>
              </div>
              <div><label>Align</label>
                <select id="teAlign" onchange="updateSelectedText()">
                  <option value="center">Center</option>
                  <option value="left">Left</option>
                  <option value="right">Right</option>
                </select>
              </div>
            </div>
            <div class="row mb-4">
              <div><label>X <span id="teXVal">50</span>%</label><input type="range" id="teX" min="0" max="100" value="50" onchange="document.getElementById('teXVal').textContent=this.value;updateSelectedText()" oninput="document.getElementById('teXVal').textContent=this.value"></div>
            </div>
            <div class="row mb-4">
              <div><label>Y <span id="teYVal">50</span>%</label><input type="range" id="teY" min="0" max="100" value="50" onchange="document.getElementById('teYVal').textContent=this.value;updateSelectedText()" oninput="document.getElementById('teYVal').textContent=this.value"></div>
            </div>
            <div class="row mb-4">
              <div><label>Line Height <span id="teLhVal">1.3</span></label><input type="range" id="teLh" min="0.8" max="3" value="1.3" step="0.1" onchange="document.getElementById('teLhVal').textContent=this.value;updateSelectedText()" oninput="document.getElementById('teLhVal').textContent=this.value"></div>
            </div>
            <div class="row mb-4">
              <div><label>Opacity <span id="teOpVal">100</span>%</label><input type="range" id="teOp" min="0" max="100" value="100" onchange="document.getElementById('teOpVal').textContent=this.value;updateSelectedText()" oninput="document.getElementById('teOpVal').textContent=this.value"></div>
            </div>
            <div class="row mb-4">
              <div><label>Rotation <span id="teRotVal">0</span>deg</label><input type="range" id="teRot" min="-180" max="180" value="0" onchange="document.getElementById('teRotVal').textContent=this.value;updateSelectedText()" oninput="document.getElementById('teRotVal').textContent=this.value"></div>
            </div>
            <div class="row mb-4">
              <div><label>Shadow</label>
                <select id="teShadow" onchange="updateSelectedText()">
                  <option value="none">None</option>
                  <option value="soft">Soft</option>
                  <option value="hard">Hard</option>
                  <option value="glow">Glow</option>
                </select>
              </div>
              <div><label>Shadow Color</label><input type="color" id="teShadowColor" value="#000000" onchange="updateSelectedText()"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- SHAPES -->
      <div class="panel">
        <div class="panel-header" onclick="togglePanel(this)"><span>Shapes</span><span class="toggle-icon">&#9660;</span></div>
        <div class="panel-body">
          <div class="btn-row mb-8">
            <button class="btn btn-sm" onclick="addShape('rect')">Rectangle</button>
            <button class="btn btn-sm" onclick="addShape('circle')">Circle</button>
            <button class="btn btn-sm" onclick="addShape('line')">Line</button>
            <button class="btn btn-sm" onclick="addShape('triangle')">Triangle</button>
          </div>
          <div id="shapeLayerList"></div>
          <div id="shapeEditor" style="display:none">
            <div class="row mb-4">
              <div><label>Fill</label><input type="color" id="shFill" value="#6366f1" onchange="updateSelectedShape()"></div>
              <div><label>Stroke</label><input type="color" id="shStroke" value="#ffffff" onchange="updateSelectedShape()"></div>
              <div style="max-width:55px"><label>SW</label><input type="number" id="shStrokeW" value="0" min="0" max="30" onchange="updateSelectedShape()"></div>
            </div>
            <div class="row mb-4">
              <div><label>X <span id="shXVal">50</span>%</label><input type="range" id="shX" min="0" max="100" value="50" onchange="document.getElementById('shXVal').textContent=this.value;updateSelectedShape()" oninput="document.getElementById('shXVal').textContent=this.value"></div>
            </div>
            <div class="row mb-4">
              <div><label>Y <span id="shYVal">50</span>%</label><input type="range" id="shY" min="0" max="100" value="50" onchange="document.getElementById('shYVal').textContent=this.value;updateSelectedShape()" oninput="document.getElementById('shYVal').textContent=this.value"></div>
            </div>
            <div class="row mb-4">
              <div><label>Width <span id="shWVal">200</span>px</label><input type="range" id="shW" min="10" max="2000" value="200" onchange="document.getElementById('shWVal').textContent=this.value;updateSelectedShape()" oninput="document.getElementById('shWVal').textContent=this.value"></div>
            </div>
            <div class="row mb-4">
              <div><label>Height <span id="shHVal">200</span>px</label><input type="range" id="shH" min="10" max="2000" value="200" onchange="document.getElementById('shHVal').textContent=this.value;updateSelectedShape()" oninput="document.getElementById('shHVal').textContent=this.value"></div>
            </div>
            <div class="row mb-4">
              <div><label>Opacity <span id="shOpVal">100</span>%</label><input type="range" id="shOp" min="0" max="100" value="100" onchange="document.getElementById('shOpVal').textContent=this.value;updateSelectedShape()" oninput="document.getElementById('shOpVal').textContent=this.value"></div>
            </div>
            <div class="row mb-4">
              <div><label>Rotation <span id="shRotVal">0</span>deg</label><input type="range" id="shRot" min="-180" max="180" value="0" onchange="document.getElementById('shRotVal').textContent=this.value;updateSelectedShape()" oninput="document.getElementById('shRotVal').textContent=this.value"></div>
            </div>
            <div class="row mb-4">
              <div><label>Corner Radius <span id="shRadVal">0</span></label><input type="range" id="shRad" min="0" max="200" value="0" onchange="document.getElementById('shRadVal').textContent=this.value;updateSelectedShape()" oninput="document.getElementById('shRadVal').textContent=this.value"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- TEMPLATES -->
      <div class="panel">
        <div class="panel-header" onclick="togglePanel(this)"><span>Templates</span><span class="toggle-icon">&#9660;</span></div>
        <div class="panel-body">
          <div class="preset-grid">
            <div class="btn template-card" onclick="applyTemplate('quote')"><div class="t-name">Quote Card</div><div class="t-desc">Elegant text on gradient</div></div>
            <div class="btn template-card" onclick="applyTemplate('announce')"><div class="t-name">Announcement</div><div class="t-desc">Bold headline style</div></div>
            <div class="btn template-card" onclick="applyTemplate('promo')"><div class="t-name">Promo</div><div class="t-desc">Sale/discount banner</div></div>
            <div class="btn template-card" onclick="applyTemplate('minimal')"><div class="t-name">Minimal</div><div class="t-desc">Clean, simple text</div></div>
            <div class="btn template-card" onclick="applyTemplate('ytthumb')"><div class="t-name">YT Thumbnail</div><div class="t-desc">Eye-catching video cover</div></div>
            <div class="btn template-card" onclick="applyTemplate('motivational')"><div class="t-name">Motivational</div><div class="t-desc">Inspiring quote design</div></div>
          </div>
        </div>
      </div>
    </div>

    <!-- CANVAS AREA -->
    <div class="canvas-area">
      <div class="canvas-toolbar">
        <button class="btn" onclick="downloadImage('png')">Download PNG</button>
        <button class="btn" onclick="downloadImage('jpg')">Download JPG</button>
        <button class="btn" onclick="clearAll()">Clear All</button>
        <button class="btn" onclick="undoAction()">Undo</button>
        <span style="margin-left:auto;font-size:.75rem;color:var(--text2)" id="canvasDims">1080 x 1080</span>
      </div>
      <div class="canvas-wrapper">
        <canvas id="canvas" width="1080" height="1080"></canvas>
      </div>
    </div>
  </div>
</div>

<section class="cta-section fade-in">
  <h2>Need something <span>more powerful</span>?</h2>
  <p>Let us build it for you. Custom APIs, dashboards, automations &mdash; whatever you need.</p>
  <a href="/#contact" class="cta-btn">Start a Project &rarr;</a>
</section>

<section style="max-width:900px;margin:40px auto;padding:0 24px;">
<div style="background:linear-gradient(135deg,rgba(99,102,241,0.1),rgba(168,85,247,0.08));border:1px solid rgba(99,102,241,0.15);border-radius:20px;padding:32px 28px;text-align:center;">
<div style="font-size:13px;color:#818cf8;font-weight:600;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;">Founding Member</div>
<h3 style="font-size:22px;font-weight:800;color:#fff;margin:0 0 8px;">Get NexTool Pro</h3>
<p style="color:#94a3b8;font-size:14px;margin:0 auto 20px;max-width:500px;">No banners, clean output, enhanced features on all 231+ tools. One-time payment.</p>
<div style="display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap;">
<a href="/pro.html" style="display:inline-block;padding:12px 28px;background:linear-gradient(135deg,#6366f1,#a855f7,#ec4899);color:#fff;border-radius:10px;font-weight:700;font-size:15px;text-decoration:none;">$29 — Get Pro</a>
<a href="/free-tools/" style="color:#94a3b8;font-size:14px;text-decoration:none;">Browse 231+ Free Tools &rarr;</a>
</div>
</div>
</section>


<!-- AUTO-LINKED by NexTool Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/box-shadow-generator.html" style="color:var(--primary);text-decoration:none">CSS Box Shadow Generator</a> · <a href="/free-tools/emoji-picker.html" style="color:var(--primary);text-decoration:none">Emoji Picker & Search</a> · <a href="/free-tools/favicon-generator.html" style="color:var(--primary);text-decoration:none">Favicon Generator</a></p>
</div>

<!-- AUTO-LINKED by NexTool Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/icon-generator.html" style="color:var(--primary);text-decoration:none">Free Icon Generator</a> · <a href="/free-tools/json-to-yaml-converter.html" style="color:var(--primary);text-decoration:none">Free JSON to YAML Converter</a> · <a href="/free-tools/accessibility-checker.html" style="color:var(--primary);text-decoration:none">Free Accessibility Checker</a></p>
</div>
<footer class="footer fade-in">
  <div class="footer-grid">
    <div class="footer-col">
      <h4>Products</h4>
      <a href="/free-tools/">231+ Free Tools</a>
      <a href="/pro.html">NexTool Pro</a>
      <a href="/workspace.html">Workspace</a>
    </div>
    <div class="footer-col">
      <h4>Explore</h4>
      <a href="/free-tools/">Free Tools</a><a href="/blog/">Blog</a><a href="/pro.html">FAQ</a><a href="/pro.html">Pro — $29</a>
    </div>
    <div class="footer-col">
      <h4>Ecosystem</h4>
      <a href="/">NexTool Home</a><a href="/#contact">Contact</a><a href="https://github.com/christian140903-sudo/nextool" target="_blank">GitHub</a>
    </div>
  </div>
  <div class="footer-bottom">&copy; 2026 NexTool. AI-powered tools for everyone.</div>
</footer>

<div class="toast" id="toast"></div>

<script>
/* ========== STATE ========== */
const cvs = document.getElementById('canvas');
const ctx = cvs.getContext('2d');
let cW = 1080, cH = 1080;
let bgType = 'solid';
let bgImage = null;
let textLayers = [];
let shapeLayers = [];
let selectedTextIdx = -1;
let selectedShapeIdx = -1;
let undoStack = [];
const MAX_UNDO = 20;

/* ========== UTILITY ========== */
function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2000);
}

function togglePanel(header) {
  const body = header.nextElementSibling;
  const icon = header.querySelector('.toggle-icon');
  body.classList.toggle('collapsed');
  icon.classList.toggle('collapsed');
}

function saveUndo() {
  undoStack.push({
    textLayers: JSON.parse(JSON.stringify(textLayers)),
    shapeLayers: JSON.parse(JSON.stringify(shapeLayers)),
    bgType: bgType,
    bgColor: document.getElementById('bgColor').value,
    gradC1: document.getElementById('gradC1').value,
    gradC2: document.getElementById('gradC2').value,
    gradDir: document.getElementById('gradDir').value
  });
  if (undoStack.length > MAX_UNDO) undoStack.shift();
}

function undoAction() {
  if (!undoStack.length) { showToast('Nothing to undo'); return; }
  const state = undoStack.pop();
  textLayers = state.textLayers;
  shapeLayers = state.shapeLayers;
  bgType = state.bgType;
  document.getElementById('bgColor').value = state.bgColor;
  document.getElementById('gradC1').value = state.gradC1;
  document.getElementById('gradC2').value = state.gradC2;
  document.getElementById('gradDir').value = state.gradDir;
  setBgType(bgType);
  selectedTextIdx = -1;
  selectedShapeIdx = -1;
  document.getElementById('textEditor').style.display = 'none';
  document.getElementById('shapeEditor').style.display = 'none';
  renderLayerLists();
  draw();
  showToast('Undone');
}

/* ========== CANVAS SIZE ========== */
function setSize(w, h, label) {
  document.getElementById('canvasW').value = w;
  document.getElementById('canvasH').value = h;
  resizeCanvas();
  document.querySelectorAll('.preset-btn').forEach(b => b.classList.remove('active'));
  if (label) {
    const btns = document.querySelectorAll('.preset-btn');
    btns.forEach(b => { if (b.textContent.includes(label)) b.classList.add('active'); });
  }
}

function resizeCanvas() {
  cW = parseInt(document.getElementById('canvasW').value) || 1080;
  cH = parseInt(document.getElementById('canvasH').value) || 1080;
  cW = Math.max(100, Math.min(4096, cW));
  cH = Math.max(100, Math.min(4096, cH));
  cvs.width = cW;
  cvs.height = cH;
  document.getElementById('canvasDims').textContent = cW + ' x ' + cH;
  draw();
}

/* ========== BACKGROUND ========== */
function setBgType(type) {
  bgType = type;
  ['bgSolid','bgGradient','bgPattern','bgImage'].forEach(id => {
    document.getElementById(id).classList.remove('active');
  });
  ['bgSolidOpts','bgGradientOpts','bgPatternOpts','bgImageOpts'].forEach(id => {
    document.getElementById(id).style.display = 'none';
  });
  const map = { solid:'bgSolid', gradient:'bgGradient', pattern:'bgPattern', image:'bgImage' };
  const mapOpts = { solid:'bgSolidOpts', gradient:'bgGradientOpts', pattern:'bgPatternOpts', image:'bgImageOpts' };
  document.getElementById(map[type]).classList.add('active');
  document.getElementById(mapOpts[type]).style.display = '';
  updateBg();
}

function updateBg() { draw(); }

function handleBgImage(e) {
  const file = e.target.files[0];
  if (!file) return;
  const reader = new FileReader();
  reader.onload = function(ev) {
    const img = new Image();
    img.onload = function() { bgImage = img; draw(); };
    img.src = ev.target.result;
  };
  reader.readAsDataURL(file);
}

function drawBackground() {
  if (bgType === 'solid') {
    ctx.fillStyle = document.getElementById('bgColor').value;
    ctx.fillRect(0, 0, cW, cH);
  } else if (bgType === 'gradient') {
    const c1 = document.getElementById('gradC1').value;
    const c2 = document.getElementById('gradC2').value;
    const dir = document.getElementById('gradDir').value;
    let grad;
    if (dir === 'radial') {
      grad = ctx.createRadialGradient(cW/2, cH/2, 0, cW/2, cH/2, Math.max(cW, cH)/2);
    } else {
      const coords = {
        tb: [cW/2,0,cW/2,cH], bt: [cW/2,cH,cW/2,0],
        lr: [0,cH/2,cW,cH/2], rl: [cW,cH/2,0,cH/2],
        tlbr: [0,0,cW,cH], trbl: [cW,0,0,cH]
      };
      const c = coords[dir] || coords.tb;
      grad = ctx.createLinearGradient(c[0], c[1], c[2], c[3]);
    }
    grad.addColorStop(0, c1);
    grad.addColorStop(1, c2);
    ctx.fillStyle = grad;
    ctx.fillRect(0, 0, cW, cH);
  } else if (bgType === 'pattern') {
    const bgC = document.getElementById('patBg').value;
    const fgC = document.getElementById('patFg').value;
    const scale = parseInt(document.getElementById('patScale').value);
    const pat = document.getElementById('patternType').value;
    ctx.fillStyle = bgC;
    ctx.fillRect(0, 0, cW, cH);
    ctx.strokeStyle = fgC;
    ctx.fillStyle = fgC;
    ctx.lineWidth = 1;
    if (pat === 'dots') {
      for (let x = scale; x < cW; x += scale) {
        for (let y = scale; y < cH; y += scale) {
          ctx.beginPath();
          ctx.arc(x, y, scale * 0.12, 0, Math.PI * 2);
          ctx.fill();
        }
      }
    } else if (pat === 'grid') {
      ctx.globalAlpha = 0.3;
      for (let x = 0; x < cW; x += scale) { ctx.beginPath(); ctx.moveTo(x, 0); ctx.lineTo(x, cH); ctx.stroke(); }
      for (let y = 0; y < cH; y += scale) { ctx.beginPath(); ctx.moveTo(0, y); ctx.lineTo(cW, y); ctx.stroke(); }
      ctx.globalAlpha = 1;
    } else if (pat === 'diagonal') {
      ctx.globalAlpha = 0.2;
      ctx.lineWidth = 1.5;
      for (let i = -cH; i < cW + cH; i += scale) {
        ctx.beginPath(); ctx.moveTo(i, 0); ctx.lineTo(i + cH, cH); ctx.stroke();
      }
      ctx.globalAlpha = 1;
    } else if (pat === 'cross') {
      ctx.globalAlpha = 0.15;
      ctx.lineWidth = 1;
      for (let i = -cH; i < cW + cH; i += scale) {
        ctx.beginPath(); ctx.moveTo(i, 0); ctx.lineTo(i + cH, cH); ctx.stroke();
        ctx.beginPath(); ctx.moveTo(i, cH); ctx.lineTo(i + cH, 0); ctx.stroke();
      }
      ctx.globalAlpha = 1;
    } else if (pat === 'circles') {
      ctx.globalAlpha = 0.15;
      ctx.lineWidth = 1;
      const cx = cW / 2, cy = cH / 2;
      const maxR = Math.sqrt(cW * cW + cH * cH) / 2;
      for (let r = scale; r < maxR; r += scale) {
        ctx.beginPath(); ctx.arc(cx, cy, r, 0, Math.PI * 2); ctx.stroke();
      }
      ctx.globalAlpha = 1;
    } else if (pat === 'chevron') {
      ctx.globalAlpha = 0.2;
      ctx.lineWidth = 2;
      const s = scale * 2;
      for (let y = 0; y < cH + s; y += s) {
        for (let x = -s; x < cW + s; x += s) {
          ctx.beginPath();
          ctx.moveTo(x, y);
          ctx.lineTo(x + s / 2, y - s / 2);
          ctx.lineTo(x + s, y);
          ctx.stroke();
        }
      }
      ctx.globalAlpha = 1;
    }
  } else if (bgType === 'image' && bgImage) {
    const fit = document.getElementById('bgImgFit').value;
    if (fit === 'cover') {
      const scale = Math.max(cW / bgImage.width, cH / bgImage.height);
      const w = bgImage.width * scale, h = bgImage.height * scale;
      ctx.drawImage(bgImage, (cW - w) / 2, (cH - h) / 2, w, h);
    } else if (fit === 'contain') {
      const scale = Math.min(cW / bgImage.width, cH / bgImage.height);
      const w = bgImage.width * scale, h = bgImage.height * scale;
      ctx.fillStyle = '#000';
      ctx.fillRect(0, 0, cW, cH);
      ctx.drawImage(bgImage, (cW - w) / 2, (cH - h) / 2, w, h);
    } else {
      ctx.drawImage(bgImage, 0, 0, cW, cH);
    }
  } else {
    ctx.fillStyle = '#1a1a2e';
    ctx.fillRect(0, 0, cW, cH);
  }
}

/* ========== SHAPES ========== */
function addShape(type) {
  saveUndo();
  shapeLayers.push({
    type: type,
    fill: '#6366f1',
    stroke: '#ffffff',
    strokeW: 0,
    x: 50, y: 50,
    w: 200, h: 200,
    opacity: 100,
    rotation: 0,
    radius: 0
  });
  selectedShapeIdx = shapeLayers.length - 1;
  selectedTextIdx = -1;
  document.getElementById('textEditor').style.display = 'none';
  renderLayerLists();
  populateShapeEditor();
  draw();
}

function populateShapeEditor() {
  if (selectedShapeIdx < 0) { document.getElementById('shapeEditor').style.display = 'none'; return; }
  const s = shapeLayers[selectedShapeIdx];
  document.getElementById('shapeEditor').style.display = '';
  document.getElementById('shFill').value = s.fill;
  document.getElementById('shStroke').value = s.stroke;
  document.getElementById('shStrokeW').value = s.strokeW;
  document.getElementById('shX').value = s.x;
  document.getElementById('shXVal').textContent = s.x;
  document.getElementById('shY').value = s.y;
  document.getElementById('shYVal').textContent = s.y;
  document.getElementById('shW').value = s.w;
  document.getElementById('shWVal').textContent = s.w;
  document.getElementById('shH').value = s.h;
  document.getElementById('shHVal').textContent = s.h;
  document.getElementById('shOp').value = s.opacity;
  document.getElementById('shOpVal').textContent = s.opacity;
  document.getElementById('shRot').value = s.rotation;
  document.getElementById('shRotVal').textContent = s.rotation;
  document.getElementById('shRad').value = s.radius;
  document.getElementById('shRadVal').textContent = s.radius;
}

function updateSelectedShape() {
  if (selectedShapeIdx < 0) return;
  saveUndo();
  const s = shapeLayers[selectedShapeIdx];
  s.fill = document.getElementById('shFill').value;
  s.stroke = document.getElementById('shStroke').value;
  s.strokeW = parseInt(document.getElementById('shStrokeW').value) || 0;
  s.x = parseInt(document.getElementById('shX').value);
  s.y = parseInt(document.getElementById('shY').value);
  s.w = parseInt(document.getElementById('shW').value);
  s.h = parseInt(document.getElementById('shH').value);
  s.opacity = parseInt(document.getElementById('shOp').value);
  s.rotation = parseInt(document.getElementById('shRot').value);
  s.radius = parseInt(document.getElementById('shRad').value);
  draw();
}

function drawShapes() {
  shapeLayers.forEach(s => {
    ctx.save();
    ctx.globalAlpha = s.opacity / 100;
    const cx = (s.x / 100) * cW;
    const cy = (s.y / 100) * cH;
    ctx.translate(cx, cy);
    if (s.rotation) ctx.rotate(s.rotation * Math.PI / 180);
    ctx.fillStyle = s.fill;
    ctx.strokeStyle = s.stroke;
    ctx.lineWidth = s.strokeW;
    if (s.type === 'rect') {
      const r = Math.min(s.radius, s.w / 2, s.h / 2);
      if (r > 0) {
        roundRect(ctx, -s.w / 2, -s.h / 2, s.w, s.h, r);
        ctx.fill();
        if (s.strokeW > 0) ctx.stroke();
      } else {
        ctx.fillRect(-s.w / 2, -s.h / 2, s.w, s.h);
        if (s.strokeW > 0) ctx.strokeRect(-s.w / 2, -s.h / 2, s.w, s.h);
      }
    } else if (s.type === 'circle') {
      ctx.beginPath();
      ctx.ellipse(0, 0, s.w / 2, s.h / 2, 0, 0, Math.PI * 2);
      ctx.fill();
      if (s.strokeW > 0) ctx.stroke();
    } else if (s.type === 'line') {
      ctx.beginPath();
      ctx.moveTo(-s.w / 2, 0);
      ctx.lineTo(s.w / 2, 0);
      ctx.strokeStyle = s.fill;
      ctx.lineWidth = Math.max(s.strokeW, 3);
      ctx.lineCap = 'round';
      ctx.stroke();
    } else if (s.type === 'triangle') {
      ctx.beginPath();
      ctx.moveTo(0, -s.h / 2);
      ctx.lineTo(-s.w / 2, s.h / 2);
      ctx.lineTo(s.w / 2, s.h / 2);
      ctx.closePath();
      ctx.fill();
      if (s.strokeW > 0) ctx.stroke();
    }
    ctx.restore();
  });
}

function roundRect(ctx, x, y, w, h, r) {
  ctx.beginPath();
  ctx.moveTo(x + r, y);
  ctx.lineTo(x + w - r, y);
  ctx.quadraticCurveTo(x + w, y, x + w, y + r);
  ctx.lineTo(x + w, y + h - r);
  ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
  ctx.lineTo(x + r, y + h);
  ctx.quadraticCurveTo(x, y + h, x, y + h - r);
  ctx.lineTo(x, y + r);
  ctx.quadraticCurveTo(x, y, x + r, y);
  ctx.closePath();
}

/* ========== TEXT LAYERS ========== */
function addTextLayer() {
  saveUndo();
  textLayers.push({
    text: 'Your Text Here',
    font: 'Inter',
    size: 48,
    color: '#ffffff',
    outline: '#000000',
    outlineW: 0,
    weight: '700',
    align: 'center',
    x: 50, y: 50,
    lineHeight: 1.3,
    opacity: 100,
    rotation: 0,
    shadow: 'none',
    shadowColor: '#000000'
  });
  selectedTextIdx = textLayers.length - 1;
  selectedShapeIdx = -1;
  document.getElementById('shapeEditor').style.display = 'none';
  renderLayerLists();
  populateTextEditor();
  draw();
}

function populateTextEditor() {
  if (selectedTextIdx < 0) { document.getElementById('textEditor').style.display = 'none'; return; }
  const t = textLayers[selectedTextIdx];
  document.getElementById('textEditor').style.display = '';
  document.getElementById('teText').value = t.text;
  document.getElementById('teFont').value = t.font;
  document.getElementById('teSize').value = t.size;
  document.getElementById('teColor').value = t.color;
  document.getElementById('teOutline').value = t.outline;
  document.getElementById('teOutlineW').value = t.outlineW;
  document.getElementById('teWeight').value = t.weight;
  document.getElementById('teAlign').value = t.align;
  document.getElementById('teX').value = t.x;
  document.getElementById('teXVal').textContent = t.x;
  document.getElementById('teY').value = t.y;
  document.getElementById('teYVal').textContent = t.y;
  document.getElementById('teLh').value = t.lineHeight;
  document.getElementById('teLhVal').textContent = t.lineHeight;
  document.getElementById('teOp').value = t.opacity;
  document.getElementById('teOpVal').textContent = t.opacity;
  document.getElementById('teRot').value = t.rotation;
  document.getElementById('teRotVal').textContent = t.rotation;
  document.getElementById('teShadow').value = t.shadow;
  document.getElementById('teShadowColor').value = t.shadowColor;
}

function updateSelectedText() {
  if (selectedTextIdx < 0) return;
  saveUndo();
  const t = textLayers[selectedTextIdx];
  t.text = document.getElementById('teText').value;
  t.font = document.getElementById('teFont').value;
  t.size = parseInt(document.getElementById('teSize').value) || 48;
  t.color = document.getElementById('teColor').value;
  t.outline = document.getElementById('teOutline').value;
  t.outlineW = parseInt(document.getElementById('teOutlineW').value) || 0;
  t.weight = document.getElementById('teWeight').value;
  t.align = document.getElementById('teAlign').value;
  t.x = parseInt(document.getElementById('teX').value);
  t.y = parseInt(document.getElementById('teY').value);
  t.lineHeight = parseFloat(document.getElementById('teLh').value) || 1.3;
  t.opacity = parseInt(document.getElementById('teOp').value);
  t.rotation = parseInt(document.getElementById('teRot').value);
  t.shadow = document.getElementById('teShadow').value;
  t.shadowColor = document.getElementById('teShadowColor').value;
  renderLayerLists();
  draw();
}

function drawTextLayers() {
  textLayers.forEach(t => {
    ctx.save();
    ctx.globalAlpha = t.opacity / 100;
    const px = (t.x / 100) * cW;
    const py = (t.y / 100) * cH;
    ctx.translate(px, py);
    if (t.rotation) ctx.rotate(t.rotation * Math.PI / 180);
    ctx.font = t.weight + ' ' + t.size + 'px "' + t.font + '", sans-serif';
    ctx.textAlign = t.align;
    ctx.textBaseline = 'middle';
    if (t.shadow !== 'none') {
      const sc = t.shadowColor;
      if (t.shadow === 'soft') { ctx.shadowColor = sc; ctx.shadowBlur = t.size * 0.3; ctx.shadowOffsetX = 2; ctx.shadowOffsetY = 2; }
      else if (t.shadow === 'hard') { ctx.shadowColor = sc; ctx.shadowBlur = 0; ctx.shadowOffsetX = 4; ctx.shadowOffsetY = 4; }
      else if (t.shadow === 'glow') { ctx.shadowColor = sc; ctx.shadowBlur = t.size * 0.5; ctx.shadowOffsetX = 0; ctx.shadowOffsetY = 0; }
    }
    const lines = t.text.split('\n');
    const lh = t.size * t.lineHeight;
    const totalH = lines.length * lh;
    const startY = -totalH / 2 + lh / 2;
    lines.forEach((line, i) => {
      const ly = startY + i * lh;
      if (t.outlineW > 0) {
        ctx.strokeStyle = t.outline;
        ctx.lineWidth = t.outlineW;
        ctx.lineJoin = 'round';
        ctx.strokeText(line, 0, ly);
      }
      ctx.fillStyle = t.color;
      ctx.fillText(line, 0, ly);
    });
    ctx.restore();
  });
}

/* ========== LAYER LISTS ========== */
function renderLayerLists() {
  const tList = document.getElementById('textLayerList');
  tList.innerHTML = '';
  textLayers.forEach((t, i) => {
    const div = document.createElement('div');
    div.className = 'layer-item' + (i === selectedTextIdx ? ' active' : '');
    const preview = t.text.substring(0, 20) + (t.text.length > 20 ? '...' : '');
    div.innerHTML = '<span style="color:var(--cyan);font-size:.7rem">T</span><span class="layer-name">' + escHtml(preview) + '</span><div class="layer-btns"><button title="Move up" onclick="moveTextLayer(' + i + ',-1);event.stopPropagation()">&#9650;</button><button title="Move down" onclick="moveTextLayer(' + i + ',1);event.stopPropagation()">&#9660;</button><button title="Duplicate" onclick="dupTextLayer(' + i + ');event.stopPropagation()">&#9744;</button><button title="Delete" onclick="delTextLayer(' + i + ');event.stopPropagation()">&#10005;</button></div>';
    div.addEventListener('click', () => selectText(i));
    tList.appendChild(div);
  });

  const sList = document.getElementById('shapeLayerList');
  sList.innerHTML = '';
  shapeLayers.forEach((s, i) => {
    const div = document.createElement('div');
    div.className = 'layer-item' + (i === selectedShapeIdx ? ' active' : '');
    div.innerHTML = '<span style="color:var(--accent);font-size:.7rem">S</span><span class="layer-name">' + s.type + '</span><div class="layer-btns"><button title="Move up" onclick="moveShapeLayer(' + i + ',-1);event.stopPropagation()">&#9650;</button><button title="Move down" onclick="moveShapeLayer(' + i + ',1);event.stopPropagation()">&#9660;</button><button title="Duplicate" onclick="dupShapeLayer(' + i + ');event.stopPropagation()">&#9744;</button><button title="Delete" onclick="delShapeLayer(' + i + ');event.stopPropagation()">&#10005;</button></div>';
    div.addEventListener('click', () => selectShape(i));
    sList.appendChild(div);
  });
}

function selectText(i) {
  selectedTextIdx = i;
  selectedShapeIdx = -1;
  document.getElementById('shapeEditor').style.display = 'none';
  populateTextEditor();
  renderLayerLists();
}

function selectShape(i) {
  selectedShapeIdx = i;
  selectedTextIdx = -1;
  document.getElementById('textEditor').style.display = 'none';
  populateShapeEditor();
  renderLayerLists();
}

function delTextLayer(i) {
  saveUndo();
  textLayers.splice(i, 1);
  if (selectedTextIdx === i) { selectedTextIdx = -1; document.getElementById('textEditor').style.display = 'none'; }
  else if (selectedTextIdx > i) selectedTextIdx--;
  renderLayerLists();
  draw();
}

function delShapeLayer(i) {
  saveUndo();
  shapeLayers.splice(i, 1);
  if (selectedShapeIdx === i) { selectedShapeIdx = -1; document.getElementById('shapeEditor').style.display = 'none'; }
  else if (selectedShapeIdx > i) selectedShapeIdx--;
  renderLayerLists();
  draw();
}

function moveTextLayer(i, dir) {
  const ni = i + dir;
  if (ni < 0 || ni >= textLayers.length) return;
  saveUndo();
  [textLayers[i], textLayers[ni]] = [textLayers[ni], textLayers[i]];
  if (selectedTextIdx === i) selectedTextIdx = ni;
  else if (selectedTextIdx === ni) selectedTextIdx = i;
  renderLayerLists();
  draw();
}

function moveShapeLayer(i, dir) {
  const ni = i + dir;
  if (ni < 0 || ni >= shapeLayers.length) return;
  saveUndo();
  [shapeLayers[i], shapeLayers[ni]] = [shapeLayers[ni], shapeLayers[i]];
  if (selectedShapeIdx === i) selectedShapeIdx = ni;
  else if (selectedShapeIdx === ni) selectedShapeIdx = i;
  renderLayerLists();
  draw();
}

function dupTextLayer(i) {
  saveUndo();
  const copy = JSON.parse(JSON.stringify(textLayers[i]));
  copy.x = Math.min(100, copy.x + 5);
  copy.y = Math.min(100, copy.y + 5);
  textLayers.splice(i + 1, 0, copy);
  selectedTextIdx = i + 1;
  renderLayerLists();
  populateTextEditor();
  draw();
}

function dupShapeLayer(i) {
  saveUndo();
  const copy = JSON.parse(JSON.stringify(shapeLayers[i]));
  copy.x = Math.min(100, copy.x + 5);
  copy.y = Math.min(100, copy.y + 5);
  shapeLayers.splice(i + 1, 0, copy);
  selectedShapeIdx = i + 1;
  renderLayerLists();
  populateShapeEditor();
  draw();
}

function escHtml(s) { return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

/* ========== TEMPLATES ========== */
function applyTemplate(name) {
  saveUndo();
  textLayers = [];
  shapeLayers = [];
  selectedTextIdx = -1;
  selectedShapeIdx = -1;
  document.getElementById('textEditor').style.display = 'none';
  document.getElementById('shapeEditor').style.display = 'none';

  if (name === 'quote') {
    setSize(1080, 1080);
    setBgType('gradient');
    document.getElementById('gradC1').value = '#1a1a2e';
    document.getElementById('gradC2').value = '#16213e';
    document.getElementById('gradDir').value = 'tlbr';
    shapeLayers.push({ type:'rect', fill:'rgba(99,102,241,0.15)', stroke:'#6366f1', strokeW:2, x:50, y:50, w:900, h:900, opacity:100, rotation:0, radius:24 });
    textLayers.push({ text:'"The best way to predict\nthe future is to create it."', font:'Playfair Display', size:56, color:'#ffffff', outline:'#000', outlineW:0, weight:'700', align:'center', x:50, y:42, lineHeight:1.4, opacity:100, rotation:0, shadow:'none', shadowColor:'#000' });
    textLayers.push({ text:'- Abraham Lincoln', font:'Inter', size:24, color:'#818cf8', outline:'#000', outlineW:0, weight:'500', align:'center', x:50, y:65, lineHeight:1.3, opacity:80, rotation:0, shadow:'none', shadowColor:'#000' });
  } else if (name === 'announce') {
    setSize(1080, 1080);
    setBgType('gradient');
    document.getElementById('gradC1').value = '#6366f1';
    document.getElementById('gradC2').value = '#a855f7';
    document.getElementById('gradDir').value = 'tlbr';
    textLayers.push({ text:'BIG NEWS', font:'Bebas Neue', size:120, color:'#ffffff', outline:'#000', outlineW:0, weight:'400', align:'center', x:50, y:30, lineHeight:1.1, opacity:100, rotation:0, shadow:'hard', shadowColor:'rgba(0,0,0,0.3)' });
    textLayers.push({ text:'We just launched\nsomething incredible.', font:'Inter', size:42, color:'#f0f0ff', outline:'#000', outlineW:0, weight:'600', align:'center', x:50, y:55, lineHeight:1.4, opacity:100, rotation:0, shadow:'none', shadowColor:'#000' });
    textLayers.push({ text:'Learn more at yoursite.com', font:'Inter', size:22, color:'#e0e0ff', outline:'#000', outlineW:0, weight:'400', align:'center', x:50, y:78, lineHeight:1.3, opacity:70, rotation:0, shadow:'none', shadowColor:'#000' });
  } else if (name === 'promo') {
    setSize(1080, 1080);
    setBgType('solid');
    document.getElementById('bgColor').value = '#0f0f23';
    shapeLayers.push({ type:'rect', fill:'#ec4899', stroke:'#fff', strokeW:0, x:50, y:25, w:400, h:120, opacity:100, rotation:-3, radius:16 });
    textLayers.push({ text:'50% OFF', font:'Bebas Neue', size:80, color:'#ffffff', outline:'#000', outlineW:0, weight:'400', align:'center', x:50, y:25, lineHeight:1.1, opacity:100, rotation:-3, shadow:'none', shadowColor:'#000' });
    textLayers.push({ text:'FLASH SALE', font:'Oswald', size:72, color:'#ffffff', outline:'#000', outlineW:0, weight:'700', align:'center', x:50, y:50, lineHeight:1.2, opacity:100, rotation:0, shadow:'glow', shadowColor:'#6366f1' });
    textLayers.push({ text:'Use code: SAVE50\nLimited time only', font:'Inter', size:28, color:'#94a3b8', outline:'#000', outlineW:0, weight:'500', align:'center', x:50, y:72, lineHeight:1.5, opacity:100, rotation:0, shadow:'none', shadowColor:'#000' });
  } else if (name === 'minimal') {
    setSize(1080, 1080);
    setBgType('solid');
    document.getElementById('bgColor').value = '#fafafa';
    textLayers.push({ text:'Less is more.', font:'Inter', size:64, color:'#1a1a1a', outline:'#000', outlineW:0, weight:'800', align:'center', x:50, y:45, lineHeight:1.3, opacity:100, rotation:0, shadow:'none', shadowColor:'#000' });
    textLayers.push({ text:'@yourhandle', font:'Inter', size:22, color:'#999999', outline:'#000', outlineW:0, weight:'400', align:'center', x:50, y:60, lineHeight:1.3, opacity:100, rotation:0, shadow:'none', shadowColor:'#000' });
  } else if (name === 'ytthumb') {
    setSize(1280, 720);
    setBgType('gradient');
    document.getElementById('gradC1').value = '#dc2626';
    document.getElementById('gradC2').value = '#991b1b';
    document.getElementById('gradDir').value = 'radial';
    shapeLayers.push({ type:'circle', fill:'rgba(0,0,0,0.3)', stroke:'#fff', strokeW:4, x:50, y:50, w:200, h:200, opacity:80, rotation:0, radius:0 });
    shapeLayers.push({ type:'triangle', fill:'#ffffff', stroke:'#fff', strokeW:0, x:53, y:50, w:80, h:80, opacity:100, rotation:90, radius:0 });
    textLayers.push({ text:'WATCH THIS', font:'Oswald', size:96, color:'#ffffff', outline:'#000000', outlineW:6, weight:'700', align:'center', x:50, y:15, lineHeight:1.1, opacity:100, rotation:0, shadow:'hard', shadowColor:'rgba(0,0,0,0.5)' });
    textLayers.push({ text:'You won\'t believe\nwhat happens next', font:'Inter', size:36, color:'#fef2f2', outline:'#000', outlineW:3, weight:'700', align:'center', x:50, y:85, lineHeight:1.3, opacity:100, rotation:0, shadow:'hard', shadowColor:'rgba(0,0,0,0.5)' });
  } else if (name === 'motivational') {
    setSize(1080, 1080);
    setBgType('gradient');
    document.getElementById('gradC1').value = '#0c0c1d';
    document.getElementById('gradC2').value = '#1e1b4b';
    document.getElementById('gradDir').value = 'bt';
    shapeLayers.push({ type:'circle', fill:'rgba(99,102,241,0.08)', stroke:'rgba(99,102,241,0.15)', strokeW:1, x:70, y:30, w:600, h:600, opacity:100, rotation:0, radius:0 });
    shapeLayers.push({ type:'circle', fill:'rgba(168,85,247,0.06)', stroke:'rgba(168,85,247,0.1)', strokeW:1, x:25, y:75, w:400, h:400, opacity:100, rotation:0, radius:0 });
    textLayers.push({ text:'DREAM BIG.\nWORK HARD.\nSTAY FOCUSED.', font:'Oswald', size:68, color:'#ffffff', outline:'#000', outlineW:0, weight:'700', align:'center', x:50, y:42, lineHeight:1.5, opacity:100, rotation:0, shadow:'glow', shadowColor:'rgba(99,102,241,0.4)' });
    textLayers.push({ text:'Success is not final, failure is not fatal.\nIt is the courage to continue that counts.', font:'Inter', size:20, color:'#94a3b8', outline:'#000', outlineW:0, weight:'400', align:'center', x:50, y:75, lineHeight:1.6, opacity:80, rotation:0, shadow:'none', shadowColor:'#000' });
  }

  renderLayerLists();
  draw();
  showToast('Template applied: ' + name);
}

/* ========== DRAW ========== */
function draw() {
  ctx.clearRect(0, 0, cW, cH);
  drawBackground();
  drawShapes();
  drawTextLayers();
}

/* ========== DOWNLOAD ========== */
function downloadImage(format) {
  draw();
  const link = document.createElement('a');
  if (format === 'jpg') {
    link.download = 'social-media-image.jpg';
    link.href = cvs.toDataURL('image/jpeg', 0.95);
  } else {
    link.download = 'social-media-image.png';
    link.href = cvs.toDataURL('image/png');
  }
  link.click();
  showToast('Downloaded as ' + format.toUpperCase());
}

/* ========== CLEAR ========== */
function clearAll() {
  saveUndo();
  textLayers = [];
  shapeLayers = [];
  selectedTextIdx = -1;
  selectedShapeIdx = -1;
  bgImage = null;
  document.getElementById('textEditor').style.display = 'none';
  document.getElementById('shapeEditor').style.display = 'none';
  document.getElementById('bgImgFile').value = '';
  setBgType('solid');
  document.getElementById('bgColor').value = '#1a1a2e';
  renderLayerLists();
  draw();
  showToast('Canvas cleared');
}

/* ========== INIT ========== */
draw();
renderLayerLists();

/* IntersectionObserver fade-in */
const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('visible'); observer.unobserve(entry.target); }});
}, { threshold: 0.1 });
document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
</script>
<script src="/js/analytics-lite.js" defer></script>
<script src="/js/revenue.js" defer></script>
<script src="/js/lead-capture.js" defer></script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What is the Social Media Image Maker?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "NexTool's Social Media Image Maker is a free, browser-based canvas editor that lets you create perfectly-sized images for Instagram, Facebook, Twitter, LinkedIn, YouTube, and Pinterest. Add text, shapes, gradients, patterns, and background images, then download as PNG or JPG."
      }
    },
    {
      "@type": "Question",
      "name": "What social media sizes are supported?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "The tool includes presets for Instagram Post (1080x1080), Instagram Story (1080x1920), Facebook Post (1200x630), Facebook Cover (820x312), Twitter Header (1500x500), LinkedIn Post (1200x627), YouTube Thumbnail (1280x720), and Pinterest Pin (1000x1500). You can also enter custom dimensions."
      }
    },
    {
      "@type": "Question",
      "name": "Is this tool really free?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, the Social Media Image Maker is completely free with no signup, no watermarks, and no limits. Everything runs in your browser so your images stay private."
      }
    },
    {
      "@type": "Question",
      "name": "Can I use my own images as backgrounds?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, you can upload any image as a background and choose between cover, contain, or stretch fitting modes. You can also use solid colors, gradients, or patterns as backgrounds."
      }
    }
  ]
}
</script>
</body>
</html>
