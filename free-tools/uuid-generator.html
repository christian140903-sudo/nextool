<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>UUID/GUID Generator - Free Tool | NexTool</title>
<meta name="description" content="Generate UUID v4 (random) instantly. Bulk generation, uppercase/lowercase, with or without hyphens. Free online tool by NexTool.">
<meta name="keywords" content="UUID generator, GUID generator, UUID v4, random UUID, bulk UUID, NexTool">
<meta property="og:title" content="Free UUID/GUID Generator | NexTool">
<meta property="og:description" content="Generate cryptographically random UUID v4 identifiers instantly. Bulk generation with history.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://nextool.app/free-tools/uuid-generator.html">
<meta property="og:image" content="https://nextool.app/assets/og-default.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<link rel="canonical" href="https://nextool.app/free-tools/uuid-generator.html">
<meta name="twitter:card" content="summary_large_image">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"SoftwareApplication","name":"NexTool UUID Generator","applicationCategory":"UtilityApplication","operatingSystem":"Web","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"description":"Generate cryptographically random UUID v4 identifiers instantly with bulk generation and history."}
</script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --bg:#050508;--surface:#111118;--surface2:#1a1a24;--surface3:#222233;
  --primary:#6366f1;--accent:#a855f7;--pink:#ec4899;
  --text:#e2e8f0;--text2:#94a3b8;--border:#252533;
  --radius:12px;--green:#22c55e;--glass:rgba(17,17,24,.7)
}
html{scroll-behavior:smooth}
body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);min-height:100vh;display:flex;flex-direction:column;line-height:1.6;overflow-x:hidden}
a{color:var(--primary);text-decoration:none;transition:color .2s}
a:hover{color:var(--accent)}

/* NAV */
.nav{position:sticky;top:0;z-index:100;backdrop-filter:blur(20px);background:rgba(5,5,8,.85);border-bottom:1px solid var(--border);padding:0 24px}
.nav-inner{max-width:1200px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;height:64px}
.logo{font-weight:800;font-size:1.35rem;background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.nav-links{display:flex;gap:28px;align-items:center;list-style:none}
.nav-links a{color:var(--text2);font-size:.9rem;font-weight:500;transition:color .2s}
.nav-links a:hover{color:var(--text)}
.nav-links a.active{color:var(--primary)}
.nav-toggle{display:none;background:none;border:none;color:var(--text);font-size:1.5rem;cursor:pointer}

/* HERO */
.hero{text-align:center;padding:72px 24px 36px;max-width:800px;margin:0 auto}
.hero .badge{display:inline-block;padding:6px 16px;border-radius:20px;background:var(--surface);border:1px solid var(--border);font-size:.8rem;color:var(--accent);font-weight:600;margin-bottom:20px}
.hero h1{font-size:clamp(2rem,5vw,2.8rem);font-weight:800;line-height:1.15;margin-bottom:14px}
.hero h1 .grad{background:linear-gradient(135deg,var(--primary),var(--accent),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hero p{color:var(--text2);font-size:1.05rem;max-width:560px;margin:0 auto}

/* MAIN */
.tool-section{max-width:900px;width:100%;margin:0 auto;padding:0 24px 60px}
.card{background:var(--glass);backdrop-filter:blur(16px);border:1px solid var(--border);border-radius:var(--radius);padding:32px;margin-bottom:24px;transition:box-shadow .3s}
.card:hover{box-shadow:0 8px 40px rgba(99,102,241,.08)}
.card-title{font-size:1.1rem;font-weight:700;margin-bottom:20px;display:flex;align-items:center;gap:10px}
.card-title .icon{font-size:1.2rem}

@keyframes fadeUp{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
.fade-in{opacity:0;transform:translateY(24px);transition:opacity .6s,transform .6s}
.fade-in.visible{opacity:1;transform:translateY(0)}

/* OPTIONS */
.options-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:14px;margin-bottom:24px}
.option-block label{display:block;color:var(--text2);font-size:.78rem;font-weight:600;margin-bottom:6px;text-transform:uppercase;letter-spacing:.5px}
select,input[type="number"]{width:100%;background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:10px 14px;border-radius:8px;font-family:inherit;font-size:.9rem;outline:none;transition:border-color .2s}
select:focus,input[type="number"]:focus{border-color:var(--primary)}

.toggle-group{display:flex;gap:4px;background:var(--surface2);border-radius:8px;padding:3px;border:1px solid var(--border)}
.toggle-btn{padding:7px 16px;border:none;background:transparent;color:var(--text2);font-size:.82rem;font-weight:600;cursor:pointer;border-radius:6px;transition:all .25s;font-family:inherit}
.toggle-btn.active{background:var(--primary);color:#fff;box-shadow:0 2px 8px rgba(99,102,241,.3)}

/* BUTTONS */
.btn{padding:12px 24px;border:none;border-radius:8px;font-family:inherit;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .2s;display:inline-flex;align-items:center;gap:8px}
.btn-primary{background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;box-shadow:0 2px 12px rgba(99,102,241,.25)}
.btn-primary:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(99,102,241,.4)}
.btn-secondary{background:var(--surface2);color:var(--text);border:1px solid var(--border)}
.btn-secondary:hover{border-color:var(--primary);color:var(--primary)}
.btn-danger{background:rgba(220,38,38,.15);color:#f87171;border:1px solid rgba(220,38,38,.3)}
.btn-danger:hover{background:rgba(220,38,38,.25)}
.btn-sm{padding:7px 14px;font-size:.82rem}
.btn-row{display:flex;gap:8px;margin-top:16px;flex-wrap:wrap}

/* UUID OUTPUT */
.uuid-output{margin-top:20px}
.uuid-item{display:flex;align-items:center;gap:12px;padding:12px 16px;background:var(--surface2);border:1px solid var(--border);border-radius:8px;margin-bottom:8px;font-family:'SF Mono','Fira Code',Consolas,monospace;font-size:.88rem;animation:fadeUp .3s ease;transition:border-color .2s,background .2s}
.uuid-item:hover{border-color:var(--primary);background:rgba(99,102,241,.05)}
.uuid-item .idx{color:var(--accent);font-size:.72rem;font-weight:700;min-width:24px;text-align:center}
.uuid-item .uuid-text{flex:1;word-break:break-all;user-select:all;color:var(--text)}
.uuid-item .copy-btn{background:none;border:1px solid var(--border);color:var(--text2);cursor:pointer;padding:4px 10px;border-radius:6px;transition:all .2s;font-size:.78rem;font-weight:600;font-family:inherit;white-space:nowrap}
.uuid-item .copy-btn:hover{border-color:var(--primary);color:var(--primary)}
.uuid-item .copy-btn.copied{border-color:var(--green);color:var(--green)}

.counter{color:var(--text2);font-size:.85rem;margin-top:14px;display:flex;align-items:center;gap:8px}
.counter .dot{width:8px;height:8px;border-radius:50%;background:var(--green);display:inline-block;animation:pulse 2s infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.4}}

/* STATS */
.stats-row{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:24px}
.stat-card{background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:16px;text-align:center}
.stat-num{font-size:1.5rem;font-weight:800;background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.stat-label{font-size:.75rem;color:var(--text2);font-weight:500;margin-top:2px}

/* HISTORY */
.history-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}
.history-item{display:flex;align-items:center;gap:10px;padding:10px 14px;background:var(--surface2);border:1px solid var(--border);border-radius:8px;margin-bottom:6px;font-family:'SF Mono','Fira Code',Consolas,monospace;font-size:.82rem;transition:border-color .2s}
.history-item:hover{border-color:var(--primary)}
.history-item .uuid-text{flex:1;word-break:break-all;user-select:all}
.history-item .time{color:var(--text2);font-size:.72rem;white-space:nowrap;font-family:'Inter',sans-serif}
.history-item .copy-btn{background:none;border:1px solid var(--border);color:var(--text2);cursor:pointer;padding:3px 8px;border-radius:4px;transition:all .2s;font-size:.72rem;font-weight:600;font-family:inherit}
.history-item .copy-btn:hover{border-color:var(--primary);color:var(--primary)}
.empty-state{text-align:center;padding:40px;color:var(--text2);font-size:.9rem}

/* INFO SECTION */
.info-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px}
.info-card{background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:20px}
.info-card h3{font-size:.9rem;font-weight:700;margin-bottom:8px;color:var(--text)}
.info-card p{font-size:.82rem;color:var(--text2);line-height:1.6}
.info-card code{background:var(--bg);padding:2px 6px;border-radius:4px;font-size:.78rem;color:var(--accent)}

/* CTA */
.cta-section{text-align:center;padding:60px 24px;max-width:700px;margin:0 auto}
.cta-section h2{font-size:clamp(1.4rem,3.5vw,2rem);font-weight:800;margin-bottom:12px}
.cta-section h2 .grad{background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.cta-section p{color:var(--text2);margin-bottom:24px}

/* FOOTER */
footer{border-top:1px solid var(--border);padding:48px 24px 28px;max-width:1200px;margin:0 auto;width:100%}
.footer-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:40px;margin-bottom:32px}
.footer-col h4{font-size:.85rem;font-weight:700;margin-bottom:14px;color:var(--text)}
.footer-col a{display:block;color:var(--text2);font-size:.85rem;margin-bottom:8px;transition:color .2s}
.footer-col a:hover{color:var(--primary)}
.footer-bottom{text-align:center;color:var(--text2);font-size:.8rem;padding-top:20px;border-top:1px solid var(--border)}

/* TOAST */
.toast{position:fixed;bottom:32px;left:50%;transform:translateX(-50%) translateY(80px);background:var(--primary);color:#fff;padding:12px 28px;border-radius:10px;font-weight:600;font-size:.9rem;z-index:200;transition:transform .35s cubic-bezier(.4,0,.2,1);pointer-events:none;box-shadow:0 4px 20px rgba(99,102,241,.4)}
.toast.show{transform:translateX(-50%) translateY(0)}

/* MOBILE */
@media(max-width:768px){
  .nav-links{display:none;position:absolute;top:64px;left:0;right:0;background:var(--surface);border-bottom:1px solid var(--border);flex-direction:column;padding:20px;gap:14px}
  .nav-links.open{display:flex}
  .nav-toggle{display:block}
  h1{font-size:1.6rem!important}
  .tool-section{padding:0 16px 40px}
  .card{padding:24px 18px}
  .options-grid{grid-template-columns:1fr}
  .stats-row{grid-template-columns:1fr}
  .info-grid{grid-template-columns:1fr}
  .footer-grid{grid-template-columns:1fr 1fr}
  .uuid-item{flex-wrap:wrap}
  .uuid-item .idx{display:none}
}
</style>
</head>
<body>

<nav class="nav">
  <div class="nav-inner">
    <a href="/" class="logo">NexTool</a>
    <button class="nav-toggle" onclick="document.querySelector('.nav-links').classList.toggle('open')" aria-label="Menu">&#9776;</button>
    <ul class="nav-links">
      <li><a href="/">Home</a></li>
      <li><a href="/free-tools/" class="active">Free Tools</a></li>
      <li><a href="/free-tools/">Tools</a></li>
      <li><a href="/pro.html">Pro</a></li>
      <li><a href="/blog/">Blog</a></li>
      <li><a href="/pro.html">Pro — $29</a></li>
    </ul>
  </div>
</nav>

<section class="hero fade-in">
  <div class="badge">Free Tool</div>
  <h1>UUID / GUID <span class="grad">Generator</span></h1>
  <p class="tool-summary" style="color:#94a3b8;font-size:15px;line-height:1.6;margin-bottom:24px;max-width:700px;margin-left:auto;margin-right:auto;">Generate cryptographically secure UUID v4 identifiers instantly using your browser's native crypto API. This free UUID/GUID generator supports bulk generation of up to 50 UUIDs at once, with options for uppercase/lowercase, hyphens, braces, and URN prefix formatting. Includes persistent history, one-click copy, JSON/CSV export, and session statistics.</p>
  <p>Generate cryptographically random UUID v4 identifiers instantly. Bulk generation with format options and persistent history.</p>
</section>

<section class="tool-section">
  <!-- Stats -->
  <div class="stats-row fade-in">
    <div class="stat-card">
      <div class="stat-num" id="statTotal">0</div>
      <div class="stat-label">UUIDs Generated</div>
    </div>
    <div class="stat-card">
      <div class="stat-num" id="statSession">0</div>
      <div class="stat-label">This Session</div>
    </div>
    <div class="stat-card">
      <div class="stat-num" id="statHistory">0</div>
      <div class="stat-label">In History</div>
    </div>
  </div>

  <!-- Generator Card -->
  <div class="card fade-in">
    <div class="card-title"><span class="icon">&#127922;</span> Generate UUIDs</div>
    <div class="options-grid">
      <div class="option-block">
        <label>Quantity</label>
        <select id="quantity">
          <option value="1">1 UUID</option>
          <option value="5">5 UUIDs</option>
          <option value="10">10 UUIDs</option>
          <option value="25">25 UUIDs</option>
          <option value="50">50 UUIDs</option>
        </select>
      </div>
      <div class="option-block">
        <label>Letter Case</label>
        <div class="toggle-group">
          <button class="toggle-btn active" data-opt="case" data-val="lower">lowercase</button>
          <button class="toggle-btn" data-opt="case" data-val="upper">UPPERCASE</button>
        </div>
      </div>
      <div class="option-block">
        <label>Hyphens</label>
        <div class="toggle-group">
          <button class="toggle-btn active" data-opt="hyphens" data-val="yes">With</button>
          <button class="toggle-btn" data-opt="hyphens" data-val="no">Without</button>
        </div>
      </div>
      <div class="option-block">
        <label>Prefix</label>
        <div class="toggle-group">
          <button class="toggle-btn active" data-opt="prefix" data-val="none">None</button>
          <button class="toggle-btn" data-opt="prefix" data-val="braces">{...}</button>
          <button class="toggle-btn" data-opt="prefix" data-val="urn">urn:</button>
        </div>
      </div>
    </div>
    <button class="btn btn-primary" id="generateBtn" onclick="generateUUIDs()">
      <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><path d="M12 5v14M5 12h14"/></svg>
      Generate UUIDs
    </button>

    <div class="uuid-output" id="output"></div>
    <div class="btn-row" id="bulkActions" style="display:none">
      <button class="btn btn-secondary btn-sm" onclick="copyAll()">Copy All</button>
      <button class="btn btn-secondary btn-sm" onclick="copyAsJSON()">Copy as JSON</button>
      <button class="btn btn-secondary btn-sm" onclick="copyAsCSV()">Copy as CSV</button>
      <button class="btn btn-secondary btn-sm" onclick="downloadAll()">Download .txt</button>
      <button class="btn btn-danger btn-sm" onclick="clearOutput()">Clear</button>
    </div>
    <p class="counter" id="counter"></p>
  </div>

  <!-- History Card -->
  <div class="card fade-in">
    <div class="history-header">
      <div class="card-title" style="margin-bottom:0"><span class="icon">&#128336;</span> History</div>
      <div style="display:flex;gap:8px">
        <button class="btn btn-secondary btn-sm" onclick="exportHistory()">Export</button>
        <button class="btn btn-danger btn-sm" onclick="clearHistory()">Clear</button>
      </div>
    </div>
    <div id="history"></div>
  </div>

  <!-- Info Section -->
  <div class="card fade-in">
    <div class="card-title"><span class="icon">&#128218;</span> About UUIDs</div>
    <div class="info-grid">
      <div class="info-card">
        <h3>What is a UUID?</h3>
        <p>A UUID (Universally Unique Identifier) is a 128-bit number used to identify information in computer systems. The format is <code>8-4-4-4-12</code> hex digits, e.g. <code>550e8400-e29b-41d4-a716-446655440000</code>.</p>
      </div>
      <div class="info-card">
        <h3>UUID v4 (Random)</h3>
        <p>Version 4 UUIDs are generated using random or pseudo-random numbers. They use <code>crypto.randomUUID()</code> for cryptographic randomness, making collisions practically impossible (1 in 2^122).</p>
      </div>
      <div class="info-card">
        <h3>Common Use Cases</h3>
        <p>Database primary keys, session tokens, API request IDs, file naming, distributed systems, message queues, and any scenario requiring unique identifiers without coordination.</p>
      </div>
      <div class="info-card">
        <h3>GUID vs UUID</h3>
        <p>GUID (Globally Unique Identifier) is Microsoft's implementation of the UUID standard. They are functionally identical. GUIDs often use braces: <code>{550e8400-...}</code>.</p>
      </div>
    </div>
  </div>
</section>

<!-- CTA -->
<section class="cta-section fade-in">
  <h2>Need something <span class="grad">more powerful</span>?</h2>
  <p>We build custom APIs, automation tools, and developer utilities tailored to your workflow.</p>
  <a href="/free-tools/" class="btn btn-primary" style="padding:14px 36px;font-size:1rem">Explore Services</a>
</section>

<!-- Cross Promo -->n<section style="max-width:900px;margin:40px auto;padding:0 24px;">n<div style="background:linear-gradient(135deg,rgba(99,102,241,0.1),rgba(168,85,247,0.08));border:1px solid rgba(99,102,241,0.15);border-radius:20px;padding:32px 28px;text-align:center;">n<div style="font-size:13px;color:#818cf8;font-weight:600;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;">Founding Member</div>n<h3 style="font-size:22px;font-weight:800;color:#fff;margin:0 0 8px;">Get NexTool Pro</h3>n<p style="color:#94a3b8;font-size:14px;margin:0 auto 20px;max-width:500px;">No banners, clean output, enhanced features on all 150+ tools. One-time payment.</p>n<div style="display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap;">n<a href="/pro.html" style="display:inline-block;padding:12px 28px;background:linear-gradient(135deg,#6366f1,#a855f7,#ec4899);color:#fff;border-radius:10px;font-weight:700;font-size:15px;text-decoration:none;transition:transform 0.2s;" onmouseenter="this.style.transform='translateY(-2px)'" onmouseleave="this.style.transform='translateY(0)'">$29 — Get Pro</a>n<a href="/free-tools/" style="color:#94a3b8;font-size:14px;text-decoration:none;transition:color 0.2s;" onmouseenter="this.style.color='#e2e8f0'" onmouseleave="this.style.color='#94a3b8'">Browse 150+ Free Tools →</a>n</div>n</div>n</section>

<!-- AUTO-LINKED by NexTool Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/box-shadow-generator.html" style="color:var(--primary);text-decoration:none">CSS Box Shadow Generator</a> · <a href="/free-tools/emoji-picker.html" style="color:var(--primary);text-decoration:none">Emoji Picker & Search</a> · <a href="/free-tools/meta-tag-generator.html" style="color:var(--primary);text-decoration:none">Meta Tag Generator</a> · <a href="/free-tools/favicon-generator.html" style="color:var(--primary);text-decoration:none">Favicon Generator</a> · <a href="/free-tools/base64.html" style="color:var(--primary);text-decoration:none">Free Base64 Encoder/Decoder</a></p>
</div>

<!-- AUTO-LINKED by NexTool Engine -->
<div style="margin:2rem 0;padding:1.5rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius)">
<p style="font-weight:600;margin-bottom:.5rem">Related Tools</p>
<p><a href="/free-tools/icon-generator.html" style="color:var(--primary);text-decoration:none">Free Icon Generator</a> · <a href="/free-tools/accessibility-checker.html" style="color:var(--primary);text-decoration:none">Free Accessibility Checker</a> · <a href="/free-tools/ascii-art-generator.html" style="color:var(--primary);text-decoration:none">Free Text to ASCII Art Generator</a></p>
</div>
<footer>
  <div class="footer-grid">
    <div class="footer-col"><h4>Products</h4>
      <a href="/free-tools/">150+ Free Tools</a><a href="/pro.html">NexTool Pro — $29</a><a href="/workspace.html">Workspace</a>
    </div>
    <div class="footer-col"><h4>Free Tools</h4>
      <a href="/free-tools/uuid-generator.html">UUID Generator</a><a href="/free-tools/hash-generator.html">Hash Generator</a><a href="/free-tools/json-formatter.html">JSON Formatter</a><a href="/free-tools/timestamp-converter.html">Timestamp Converter</a>
    </div>
    <div class="footer-col"><h4>Explore</h4>
      <a href="/free-tools/">All Free Tools</a><a href="/blog/">Blog</a><a href="/pro.html">Pro — $29</a>
    </div>
    <div class="footer-col"><h4>Legal</h4>
      <a href="/terms.html">Privacy Policy</a><a href="/terms.html">Terms of Service</a>
    </div>
  </div>
  <div class="footer-bottom">&copy; 2026 NexTool. All rights reserved.</div>
</footer>

<div class="toast" id="toast">Copied!</div>

<script>
const state = {
  case: 'lower',
  hyphens: 'yes',
  prefix: 'none',
  generated: [],
  history: [],
  sessionCount: 0,
  totalCount: 0
};

// ========== INIT ==========
function init() {
  loadHistory();
  loadStats();
  updateStats();
  initObserver();
}

function loadHistory() {
  try { state.history = JSON.parse(localStorage.getItem('nextuuid_history') || '[]'); }
  catch(e) { state.history = []; }
  renderHistory();
}

function saveHistory() {
  localStorage.setItem('nextuuid_history', JSON.stringify(state.history.slice(0, 500)));
}

function loadStats() {
  state.totalCount = parseInt(localStorage.getItem('nextuuid_total') || '0', 10);
}

function saveStats() {
  localStorage.setItem('nextuuid_total', state.totalCount.toString());
}

function updateStats() {
  document.getElementById('statTotal').textContent = state.totalCount.toLocaleString();
  document.getElementById('statSession').textContent = state.sessionCount.toLocaleString();
  document.getElementById('statHistory').textContent = state.history.length.toLocaleString();
}

// ========== TOGGLE BUTTONS ==========
document.querySelectorAll('.toggle-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    const opt = btn.dataset.opt;
    const group = btn.closest('.toggle-group');
    group.querySelectorAll('.toggle-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    state[opt] = btn.dataset.val;
    reformatOutput();
  });
});

// ========== UUID GENERATION ==========
function generateUUIDv4() {
  if (crypto && crypto.randomUUID) {
    return crypto.randomUUID();
  }
  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {
    const r = crypto.getRandomValues(new Uint8Array(1))[0] % 16;
    const v = c === 'x' ? r : (r & 0x3 | 0x8);
    return v.toString(16);
  });
}

function formatUUID(uuid) {
  let result = uuid;
  if (state.hyphens === 'no') result = result.replace(/-/g, '');
  if (state.case === 'upper') result = result.toUpperCase();
  else result = result.toLowerCase();
  if (state.prefix === 'braces') result = '{' + result + '}';
  else if (state.prefix === 'urn') result = 'urn:uuid:' + result;
  return result;
}

function generateUUIDs() {
  const qty = parseInt(document.getElementById('quantity').value, 10);
  state.generated = [];
  const now = Date.now();
  for (let i = 0; i < qty; i++) {
    const uuid = generateUUIDv4();
    state.generated.push(uuid);
    state.history.unshift({ uuid, time: now });
  }
  state.sessionCount += qty;
  state.totalCount += qty;
  saveHistory();
  saveStats();
  updateStats();
  renderOutput();
  renderHistory();
  showToast(`Generated ${qty} UUID${qty > 1 ? 's' : ''}`);

  // Quick button animation
  const btn = document.getElementById('generateBtn');
  btn.style.transform = 'scale(0.96)';
  setTimeout(() => { btn.style.transform = ''; }, 150);
}

function renderOutput() {
  const container = document.getElementById('output');
  const bulkActions = document.getElementById('bulkActions');
  const counter = document.getElementById('counter');
  if (state.generated.length === 0) {
    container.innerHTML = '';
    bulkActions.style.display = 'none';
    counter.innerHTML = '';
    return;
  }
  container.innerHTML = state.generated.map((uuid, i) => `
    <div class="uuid-item" style="animation-delay:${i * 0.04}s">
      <span class="idx">#${i + 1}</span>
      <span class="uuid-text" id="uuid-${i}">${formatUUID(uuid)}</span>
      <button class="copy-btn" onclick="copySingle(${i})" title="Copy">Copy</button>
    </div>
  `).join('');
  bulkActions.style.display = 'flex';
  counter.innerHTML = `<span class="dot"></span> ${state.generated.length} UUID${state.generated.length > 1 ? 's' : ''} generated`;
}

function reformatOutput() {
  state.generated.forEach((uuid, i) => {
    const el = document.getElementById(`uuid-${i}`);
    if (el) el.textContent = formatUUID(uuid);
  });
}

// ========== COPY FUNCTIONS ==========
function copySingle(index) {
  const text = formatUUID(state.generated[index]);
  navigator.clipboard.writeText(text).then(() => {
    const items = document.querySelectorAll('.uuid-item .copy-btn');
    if (items[index]) {
      items[index].classList.add('copied');
      items[index].textContent = 'Copied!';
      setTimeout(() => { items[index].classList.remove('copied'); items[index].textContent = 'Copy'; }, 1200);
    }
    showToast('Copied to clipboard');
  });
}

function copyAll() {
  const text = state.generated.map(u => formatUUID(u)).join('\n');
  navigator.clipboard.writeText(text).then(() => showToast('All UUIDs copied'));
}

function copyAsJSON() {
  const arr = state.generated.map(u => formatUUID(u));
  navigator.clipboard.writeText(JSON.stringify(arr, null, 2)).then(() => showToast('Copied as JSON array'));
}

function copyAsCSV() {
  const text = state.generated.map(u => `"${formatUUID(u)}"`).join(',');
  navigator.clipboard.writeText(text).then(() => showToast('Copied as CSV'));
}

function downloadAll() {
  const text = state.generated.map(u => formatUUID(u)).join('\n');
  const blob = new Blob([text], { type: 'text/plain' });
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = `uuids-${Date.now()}.txt`;
  a.click();
  URL.revokeObjectURL(a.href);
  showToast('Downloaded');
}

function clearOutput() {
  state.generated = [];
  renderOutput();
}

// ========== HISTORY ==========
function renderHistory() {
  const container = document.getElementById('history');
  if (state.history.length === 0) {
    container.innerHTML = '<div class="empty-state">No UUIDs generated yet. Click "Generate UUIDs" to get started.</div>';
    return;
  }
  const recent = state.history.slice(0, 50);
  container.innerHTML = recent.map((item, i) => {
    const d = new Date(item.time);
    const timeStr = d.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit', second: '2-digit' });
    const dateStr = d.toLocaleDateString([], { month: 'short', day: 'numeric' });
    return `<div class="history-item" style="animation-delay:${i * 0.02}s">
      <span class="uuid-text">${formatUUID(item.uuid)}</span>
      <span class="time">${dateStr} ${timeStr}</span>
      <button class="copy-btn" onclick="copyHistoryItem('${item.uuid}')" title="Copy">Copy</button>
    </div>`;
  }).join('');
  if (state.history.length > 50) {
    container.innerHTML += `<div style="text-align:center;padding:12px;color:var(--text2);font-size:.82rem">Showing 50 of ${state.history.length} items</div>`;
  }
}

function copyHistoryItem(uuid) {
  navigator.clipboard.writeText(formatUUID(uuid)).then(() => showToast('Copied'));
}

function clearHistory() {
  if (state.history.length === 0) return;
  state.history = [];
  saveHistory();
  updateStats();
  renderHistory();
  showToast('History cleared');
}

function exportHistory() {
  if (state.history.length === 0) { showToast('No history to export'); return; }
  const data = state.history.map(h => ({
    uuid: formatUUID(h.uuid),
    generated_at: new Date(h.time).toISOString()
  }));
  const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = `uuid-history-${Date.now()}.json`;
  a.click();
  URL.revokeObjectURL(a.href);
  showToast('History exported');
}

// ========== TOAST ==========
function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2200);
}

// ========== INTERSECTION OBSERVER ==========
function initObserver() {
  const obs = new IntersectionObserver(entries => {
    entries.forEach(e => {
      if (e.isIntersecting) { e.target.classList.add('visible'); obs.unobserve(e.target); }
    });
  }, { threshold: 0.12 });
  document.querySelectorAll('.fade-in').forEach(el => obs.observe(el));
}

// ========== KEYBOARD SHORTCUT ==========
document.addEventListener('keydown', e => {
  if ((e.ctrlKey || e.metaKey) && e.key === 'g') {
    e.preventDefault();
    generateUUIDs();
  }
});

init();
</script>
<script src="/js/analytics-lite.js" defer></script>
<script src="/js/revenue.js" defer></script>
<script src="/js/lead-capture.js" defer></script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What is a UUID v4 and how is it generated?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "UUID v4 (Universally Unique Identifier version 4) is a 128-bit identifier generated using random or pseudo-random numbers. This tool uses the browser's crypto.randomUUID() API for cryptographically secure generation. The format follows the standard 8-4-4-4-12 hex digit pattern, with the probability of collision being approximately 1 in 2^122."
      }
    },
    {
      "@type": "Question",
      "name": "Can I generate multiple UUIDs at once?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes. This generator supports bulk generation of 1, 5, 10, 25, or 50 UUIDs in a single click. You can copy all generated UUIDs at once, export them as a JSON array or CSV format, or download them as a text file. All UUIDs are also saved to a persistent history."
      }
    },
    {
      "@type": "Question",
      "name": "What is the difference between UUID and GUID?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "GUID (Globally Unique Identifier) is Microsoft's implementation of the UUID standard — they are functionally identical. The only common difference is formatting: GUIDs are often displayed with surrounding braces like {550e8400-e29b-41d4-a716-446655440000}. This tool supports both formats with options for braces, URN prefix, uppercase/lowercase, and with or without hyphens."
      }
    }
  ]
}
</script>
</body>
</html>
